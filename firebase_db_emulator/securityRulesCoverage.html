<!DOCTYPE html>
<meta charset="utf-8">
<title>Firebase Rule Coverage Report</title>

<script>
const data = {"rules":"{\n  \"rules\": {\n    \"activities\": {\n      \".read\": \"auth != null || (\n          query.orderByChild == 'path' &&\n          root.child('/paths/' + query.equalTo + '/isPublic').val() == true\n        )\",\n      \".indexOn\": [\"path\"],\n      \"$activityKey\": {\n        \".read\": \"root.child('/paths/' + data.child('path').val() + '/isPublic').val() == true\",\n        \".write\": \"auth != null &&\n          !newData.exists() || (\n            newData.child('path').exists() &&\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )\n        \"\n      }\n    },\n    \"activityData\": {\n      \"$activityKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null &&\n          !newData.exists() || (\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )\n        \"\n      }\n    },\n    \"activityExampleSolutions\": {\n      \"$activityKey\": {\n      \".write\": \"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid\",\n      \".read\": \"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid\"\n      }\n    },\n    \"admins\": {\n      \"$userKey\": {\n        \".read\": \"auth != null\"\n      }\n    },\n    \"assignments\": {\n      \"$courseKey\": {\n        \".read\": \"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())\",\n        \".write\": \"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())\"\n      }\n    },\n    \"blacklistActions\": {\n      \".read\": true\n    },\n    \"cohortCourses\": {\n      \".read\": true,\n      \"$cohortKey\": {\n        \"$courseKey\": {\n          \".write\": \"\n            auth != null &&\n            (auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val() ||\n            root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists())\n          \"\n        }\n      }\n    },\n    \"cohortRecalculateQueue\": {\n      \"$cohortKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null && root.child('/cohorts/' + $cohortKey).exists()\"\n      }\n    },\n    \"cohortAssistants\": {\n      \"$cohortKey\": {\n        \".read\": true,\n        \".write\": \"auth != null &&\n          root.child('/cohorts/' + $cohortKey).exists() &&\n          root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid\"\n      }\n    },\n    \"cohorts\": {\n      \".read\": true,\n      \".indexOn\": [\"owner\", \"isPublic\"],\n      \"$cohortKey\": {\n        \".write\": \"auth != null &&\n          newData.exists() &&\n          (root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          ))\n        \"\n      }\n    },\n    \"completedActivities\": {\n      \"$userKey\": {\n        \".read\": true,\n        \".write\": \"auth != null && $userKey == auth.uid\"\n      }\n    },\n    \"config\": {\n      \".read\": \"auth != null && root.child('/admins/' + auth.uid).val() == true\",\n      \".write\": \"auth != null && root.child('/admins/' + auth.uid).val() == true\",\n      \"defaultRecommendations\": {\n        \".read\": true\n      },\n      \"version\": {\n        \".read\": true\n      }\n    },\n    \"courseMembers\": {\n      \".read\": \"auth != null\",\n      \"$courseKey\": {\n        \".write\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \",\n        \"$studentKey\": {\n          \".write\": \"\n            auth != null &&\n            $studentKey == auth.uid &&\n            root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n          \"\n        }\n      }\n    },\n    \"coursePasswords\": {\n      \"$courseKey\": {\n        \".read\": \"auth != null &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid\",\n        \".write\": \"auth != null && (\n          !root.child('courses/' + $courseKey).exists() ||\n          root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid)\"\n      }\n    },\n    \"courseAssistants\": {\n      \".read\": \"auth.uid != null\",\n      \"$courseKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null && auth.uid == root.child('courses/' + $courseKey + '/owner').val()\"\n      }\n    },\n    \"courses\": {\n      \".read\": \"auth != null\",\n      \".indexOn\": [\"owner\", \"isPublic\"],\n      \"$courseKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"\n          auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() ||\n            !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          )\n        \"\n      }\n    },\n    \"destinations\":{\n      \".read\" : \"auth != null\",\n      \"$destinationKey\" :{\n        \".read\" : \"auth != null\",\n        \".write\" : \"\n            auth != null &&\n            (\n              (\n                newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )\n              ) || (\n                data.exists() && data.child('originator').val() == auth.uid\n              )\n            )\"\n        }\n    },\n    \"jupyterSolutionsQueue\": {\n      \"responses\": {\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"!newData.exists()\"\n        }\n      },\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".write\": \"auth != null && newData.child('owner').val() == auth.uid\"\n        }\n      }\n    },\n    \"jupyterSolutionAnalysisQueue\" : {\n      \"responses\": {\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"!newData.exists()\"\n        }\n      },\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".write\": \"auth != null && newData.child('owner').val() == auth.uid\"\n        }\n      }\n    },\n    \"fetchGithubFilesQueue\" : {\n      \"responses\": {\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"!newData.exists()\"\n        }\n      },\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".write\": \"auth != null && newData.child('owner').val() == auth.uid\"\n        }\n      }\n    },\n    \"logged_events\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null && newData.exists()\",\n      \".indexOn\": [\"createdAt\", \"type\"]\n    },\n    \"moreProblemsRequests\": {\n      \"$requestKey\": {\n        \".write\": \"auth != null &&\n          newData.child('sender').exists() &&\n          auth.uid == newData.child('sender').val()\"\n      }\n    },\n    \"outgoingRequestsQueue\": {\n      \"tasks\": {\n        \".indexOn\": [\"_state\"]\n      }\n    },\n    \"pathAssistants\": {\n      \"$pathKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null && auth.uid == root.child('paths/' + $pathKey + '/owner').val()\"\n      }\n    },\n    \"paths\": {\n      \".read\": true,\n      \".indexOn\": [\"owner\", \"isPublic\"],\n      \"$pathKey\": {\n        \".write\": \"auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() || (\n              !data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )\n            )\n          )\"\n      }\n    },\n    \"problemSolutions\": {\n      \"$activityKey\": {\n        \".read\": \"auth != null\",\n        \"$userKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"auth != null && auth.uid == $userKey\"\n        }\n      }\n    },\n    \"profileData\": {\n      \".read\": true\n    },\n    \"secrets\": {\n      \".read\": \"auth != null && root.child('admins/' + auth.uid).exists()\"\n    },\n    \"solutions\": {\n      \"$courseKey\": {\n        \".read\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \",\n        \".write\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \",\n        \"$userKey\": {\n          \".read\": \"\n            auth != null &&\n              (\n                ($userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n              ) || root.child('courses/' + $courseKey + '/owner').val() == auth.uid )\n          \",\n          \".write\": \"\n            auth != null &&\n            $userKey == auth.uid &&\n            root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n          \"\n        }\n      }\n    },\n    \"studentCoursePasswords\": {\n      \"$courseKey\": {\n        \"$studentKey\": {\n          \".write\": \"auth != null && (\n              $studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ) &&\n            root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())\"\n        }\n      }\n    },\n    \"studentJoinedCourses\": {\n      \"$studentKey\": {\n        \".read\": \"auth != null && auth.uid == $studentKey\",\n        \"$courseKey\": {\n          \".write\": \"auth != null && ((\n              $studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n            ) || (\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ))\"\n        }\n      }\n    },\n    \"studentJoinedPaths\": {\n      \"$studentKey\": {\n        \".read\": \"auth != null\",\n        \"$pathKey\": {\n          \".write\": \"auth != null &&\n              $studentKey == auth.uid &&\n              root.child('paths/' + $pathKey).exists()\n            \"\n        }\n      }\n    },\n    \"updateProfileQueue\": {\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"\n            auth != null &&\n            newData.exists() &&\n            newData.hasChild('uid')\n          \"\n        }\n      }\n    },\n    \"userAchievements\": {\n      \".read\": \"auth != null\",\n      \"$userKey\": {\n        \".write\": \"auth != null && auth.uid == $userKey\",\n        \".read\": \"auth != null\",\n        \"CodeCombat\": {\n          \"achievements\": {\n            \"$achievementId\": {\n              \".validate\": false\n            }\n          }\n        }\n      }\n    },\n    \"userRecommendations\": {\n      \"$userKey\": {\n        \".read\": \"auth != null && auth.uid == $userKey\"\n      }\n    },\n    \"users\": {\n      \".read\": true,\n      \"$userKey\": {\n        \".write\": \"auth != null && auth.uid == $userKey\",\n      }\n    },\n    \"usersPrivate\": {\n      \"$userKey\": {\n        \".read\": \"auth != null && auth.uid == $userKey\",\n        \".write\": \"auth != null && auth.uid == $userKey\"\n      }\n    },\n    \"visibleSolutions\": {\n      \"$courseKey\": {\n        \".read\": \"auth != null  &&\n          (root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists() )\n        \",\n        \".write\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \"\n      }\n    }\n  }\n}\n","report":{"solutions":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"312:10","location-end":"312:13","values":[{"value":"hash@1039899172","count":1},{"value":"hash@2068871131","count":1},{"value":"hash@1929048423","count":1}]},{"text":"null","location-start":"312:18","location-end":"312:21","values":[{"value":null,"count":3}]}],"location-end":"312:21","text":"auth != null","location-start":"312:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"313:12","location-end":"313:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"313:17","location-end":"313:21","values":[{"value":"child","count":2}]}],"location-end":"313:21","text":"root.child","location-start":"313:12","values":[{"value":"hash@1802021080","count":1},{"value":"hash@1033607352","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"313:23","location-end":"313:32","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"313:36","location-end":"313:45","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"313:45","text":"'courses/' + $courseKey","location-start":"313:23","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"313:49","location-end":"313:56","values":[{"value":"/owner","count":2}]}],"location-end":"313:56","text":"'courses/' + $courseKey + '/owner'","location-start":"313:23","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"313:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"313:12","values":[{"value":"hash@1224711208","count":1},{"value":"hash@879583699","count":1}]},{"text":"val","location-start":"313:59","location-end":"313:61","values":[{"value":"val","count":2}]}],"location-end":"313:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"313:12","values":[{"value":"hash@1465360983","count":1},{"value":"hash@1955262522","count":1}]}],"location-end":"313:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"313:12","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"313:68","location-end":"313:71","values":[{"value":"hash@2068871131","count":1},{"value":"hash@1929048423","count":1}]},{"text":"uid","location-start":"313:73","location-end":"313:75","values":[{"value":"uid","count":2}]}],"location-end":"313:75","text":"auth.uid","location-start":"313:68","values":[{"value":"alice","count":2}]}],"location-end":"313:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"313:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"314:12","location-end":"314:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"314:17","location-end":"314:21","values":[{"value":"child","count":2}]}],"location-end":"314:21","text":"root.child","location-start":"314:12","values":[{"value":"hash@881903516","count":1},{"value":"hash@1322006994","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"314:23","location-end":"314:41","values":[{"value":"courseAssistants/","count":2}]},{"text":"$courseKey","location-start":"314:45","location-end":"314:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"314:54","text":"'courseAssistants/' + $courseKey","location-start":"314:23","values":[{"value":"courseAssistants/someRandomChildNode","count":1},{"value":"courseAssistants/alice","count":1}]},{"text":"'/'","location-start":"314:58","location-end":"314:60","values":[{"value":"/","count":2}]}],"location-end":"314:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"314:23","values":[{"value":"courseAssistants/someRandomChildNode/","count":1},{"value":"courseAssistants/alice/","count":1}]},{"children":[{"text":"auth","location-start":"314:64","location-end":"314:67","values":[{"value":"hash@2068871131","count":1},{"value":"hash@1929048423","count":1}]},{"text":"uid","location-start":"314:69","location-end":"314:71","values":[{"value":"uid","count":2}]}],"location-end":"314:71","text":"auth.uid","location-start":"314:64","values":[{"value":"alice","count":2}]}],"location-end":"314:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"314:23","values":[{"value":"courseAssistants/someRandomChildNode/alice","count":1},{"value":"courseAssistants/alice/alice","count":1}]}],"location-end":"314:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"314:12","values":[{"value":"hash@518644954","count":1},{"value":"hash@-1554069086","count":1}]},{"text":"exists","location-start":"314:74","location-end":"314:79","values":[{"value":"exists","count":2}]}],"location-end":"314:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"314:12","values":[{"value":"hash@1283887226","count":1},{"value":"hash@1796769957","count":1}]}],"location-end":"314:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"314:12","values":[{"value":false,"count":2}]}],"location-end":"314:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"313:12","values":[{"value":false,"count":2}]}],"location-end":"315:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"312:10","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"306:10","location-end":"306:13","values":[{"value":"hash@107583030","count":1}]},{"text":"null","location-start":"306:18","location-end":"306:21","values":[{"value":null,"count":1}]}],"location-end":"306:21","text":"auth != null","location-start":"306:10","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"307:12","location-end":"307:15","values":[{"value":"hash@1465168310","count":1}]},{"text":"child","location-start":"307:17","location-end":"307:21","values":[{"value":"child","count":1}]}],"location-end":"307:21","text":"root.child","location-start":"307:12","values":[{"value":"hash@307907779","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"307:23","location-end":"307:32","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"307:36","location-end":"307:45","values":[{"value":"someNode","count":1}]}],"location-end":"307:45","text":"'courses/' + $courseKey","location-start":"307:23","values":[{"value":"courses/someNode","count":1}]},{"text":"'/owner'","location-start":"307:49","location-end":"307:56","values":[{"value":"/owner","count":1}]}],"location-end":"307:56","text":"'courses/' + $courseKey + '/owner'","location-start":"307:23","values":[{"value":"courses/someNode/owner","count":1}]}],"location-end":"307:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"307:12","values":[{"value":"hash@-1121763026","count":1}]},{"text":"val","location-start":"307:59","location-end":"307:61","values":[{"value":"val","count":1}]}],"location-end":"307:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"307:12","values":[{"value":"hash@1219824624","count":1}]}],"location-end":"307:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"307:12","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"307:68","location-end":"307:71","values":[{"value":"hash@107583030","count":1}]},{"text":"uid","location-start":"307:73","location-end":"307:75","values":[{"value":"uid","count":1}]}],"location-end":"307:75","text":"auth.uid","location-start":"307:68","values":[{"value":"alice","count":1}]}],"location-end":"307:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"307:12","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"308:12","location-end":"308:15","values":[{"value":"hash@1465168310","count":1}]},{"text":"child","location-start":"308:17","location-end":"308:21","values":[{"value":"child","count":1}]}],"location-end":"308:21","text":"root.child","location-start":"308:12","values":[{"value":"hash@36170998","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"308:23","location-end":"308:41","values":[{"value":"courseAssistants/","count":1}]},{"text":"$courseKey","location-start":"308:45","location-end":"308:54","values":[{"value":"someNode","count":1}]}],"location-end":"308:54","text":"'courseAssistants/' + $courseKey","location-start":"308:23","values":[{"value":"courseAssistants/someNode","count":1}]},{"text":"'/'","location-start":"308:58","location-end":"308:60","values":[{"value":"/","count":1}]}],"location-end":"308:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"308:23","values":[{"value":"courseAssistants/someNode/","count":1}]},{"children":[{"text":"auth","location-start":"308:64","location-end":"308:67","values":[{"value":"hash@107583030","count":1}]},{"text":"uid","location-start":"308:69","location-end":"308:71","values":[{"value":"uid","count":1}]}],"location-end":"308:71","text":"auth.uid","location-start":"308:64","values":[{"value":"alice","count":1}]}],"location-end":"308:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"308:23","values":[{"value":"courseAssistants/someNode/alice","count":1}]}],"location-end":"308:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"308:12","values":[{"value":"hash@-195580317","count":1}]},{"text":"exists","location-start":"308:74","location-end":"308:79","values":[{"value":"exists","count":1}]}],"location-end":"308:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"308:12","values":[{"value":"hash@334872532","count":1}]}],"location-end":"308:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"308:12","values":[{"value":false,"count":1}]}],"location-end":"308:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"307:12","values":[{"value":false,"count":1}]}],"location-end":"309:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"306:10","values":[{"value":false,"count":1}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"326:12","location-end":"326:15","values":[]},{"text":"null","location-start":"326:20","location-end":"326:23","values":[]}],"location-end":"326:23","text":"auth != null","location-start":"326:12","values":[]},{"children":[{"children":[{"text":"$userKey","location-start":"327:12","location-end":"327:19","values":[]},{"children":[{"text":"auth","location-start":"327:24","location-end":"327:27","values":[]},{"text":"uid","location-start":"327:29","location-end":"327:31","values":[]}],"location-end":"327:31","text":"auth.uid","location-start":"327:24","values":[]}],"location-end":"327:31","text":"$userKey == auth.uid","location-start":"327:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"328:12","location-end":"328:15","values":[]},{"text":"child","location-start":"328:17","location-end":"328:21","values":[]}],"location-end":"328:21","text":"root.child","location-start":"328:12","values":[]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"328:23","location-end":"328:38","values":[]},{"text":"$courseKey","location-start":"328:42","location-end":"328:51","values":[]}],"location-end":"328:51","text":"'courseMembers/' + $courseKey","location-start":"328:23","values":[]},{"text":"'/'","location-start":"328:55","location-end":"328:57","values":[]}],"location-end":"328:57","text":"'courseMembers/' + $courseKey + '/'","location-start":"328:23","values":[]},{"children":[{"text":"auth","location-start":"328:61","location-end":"328:64","values":[]},{"text":"uid","location-start":"328:66","location-end":"328:68","values":[]}],"location-end":"328:68","text":"auth.uid","location-start":"328:61","values":[]}],"location-end":"328:68","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"328:23","values":[]}],"location-end":"328:69","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"328:12","values":[]},{"text":"exists","location-start":"328:71","location-end":"328:76","values":[]}],"location-end":"328:76","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"328:12","values":[]}],"location-end":"328:78","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"328:12","values":[]}],"location-end":"328:78","text":"$userKey == auth.uid &&\n            root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"327:12","values":[]}],"location-end":"328:78","text":"auth != null &&\n            $userKey == auth.uid &&\n            root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"326:12","values":[]},".read":{"children":[{"children":[{"text":"auth","location-start":"319:12","location-end":"319:15","values":[]},{"text":"null","location-start":"319:20","location-end":"319:23","values":[]}],"location-end":"319:23","text":"auth != null","location-start":"319:12","values":[]},{"children":[{"children":[{"children":[{"text":"$userKey","location-start":"321:17","location-end":"321:24","values":[]},{"children":[{"text":"auth","location-start":"321:29","location-end":"321:32","values":[]},{"text":"uid","location-start":"321:34","location-end":"321:36","values":[]}],"location-end":"321:36","text":"auth.uid","location-start":"321:29","values":[]}],"location-end":"321:36","text":"$userKey == auth.uid","location-start":"321:17","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"322:16","location-end":"322:19","values":[]},{"text":"child","location-start":"322:21","location-end":"322:25","values":[]}],"location-end":"322:25","text":"root.child","location-start":"322:16","values":[]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"322:27","location-end":"322:42","values":[]},{"text":"$courseKey","location-start":"322:46","location-end":"322:55","values":[]}],"location-end":"322:55","text":"'courseMembers/' + $courseKey","location-start":"322:27","values":[]},{"text":"'/'","location-start":"322:59","location-end":"322:61","values":[]}],"location-end":"322:61","text":"'courseMembers/' + $courseKey + '/'","location-start":"322:27","values":[]},{"children":[{"text":"auth","location-start":"322:65","location-end":"322:68","values":[]},{"text":"uid","location-start":"322:70","location-end":"322:72","values":[]}],"location-end":"322:72","text":"auth.uid","location-start":"322:65","values":[]}],"location-end":"322:72","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"322:27","values":[]}],"location-end":"322:73","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"322:16","values":[]},{"text":"exists","location-start":"322:75","location-end":"322:80","values":[]}],"location-end":"322:80","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"322:16","values":[]}],"location-end":"322:82","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"322:16","values":[]}],"location-end":"322:82","text":"$userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"321:17","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"323:19","location-end":"323:22","values":[]},{"text":"child","location-start":"323:24","location-end":"323:28","values":[]}],"location-end":"323:28","text":"root.child","location-start":"323:19","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"323:30","location-end":"323:39","values":[]},{"text":"$courseKey","location-start":"323:43","location-end":"323:52","values":[]}],"location-end":"323:52","text":"'courses/' + $courseKey","location-start":"323:30","values":[]},{"text":"'/owner'","location-start":"323:56","location-end":"323:63","values":[]}],"location-end":"323:63","text":"'courses/' + $courseKey + '/owner'","location-start":"323:30","values":[]}],"location-end":"323:64","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"323:19","values":[]},{"text":"val","location-start":"323:66","location-end":"323:68","values":[]}],"location-end":"323:68","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"323:19","values":[]}],"location-end":"323:70","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"323:19","values":[]},{"children":[{"text":"auth","location-start":"323:75","location-end":"323:78","values":[]},{"text":"uid","location-start":"323:80","location-end":"323:82","values":[]}],"location-end":"323:82","text":"auth.uid","location-start":"323:75","values":[]}],"location-end":"323:82","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"323:19","values":[]}],"location-end":"323:82","text":"$userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n              ) || root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"321:17","values":[]}],"location-end":"323:84","text":"auth != null &&\n              (\n                ($userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n              ) || root.child('courses/' + $courseKey + '/owner').val() == auth.uid )","location-start":"319:12","values":[]}}}},"moreProblemsRequests":{"$requestKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"256:19","location-end":"256:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1843907590","count":1},{"value":"hash@1004605707","count":1}]},{"text":"null","location-start":"256:27","location-end":"256:30","values":[{"value":null,"count":3}]}],"location-end":"256:30","text":"auth != null","location-start":"256:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"257:10","location-end":"257:16","values":[{"value":"hash@247646291","count":1},{"value":"hash@1606569186","count":1}]},{"text":"child","location-start":"257:18","location-end":"257:22","values":[{"value":"child","count":2}]}],"location-end":"257:22","text":"newData.child","location-start":"257:10","values":[{"value":"hash@1692220030","count":1},{"value":"hash@1892051633","count":1}]},{"text":"'sender'","location-start":"257:24","location-end":"257:31","values":[{"value":"sender","count":2}]}],"location-end":"257:32","text":"newData.child('sender')","location-start":"257:10","values":[{"value":"hash@2009754127","count":1},{"value":"hash@106366190","count":1}]},{"text":"exists","location-start":"257:34","location-end":"257:39","values":[{"value":"exists","count":2}]}],"location-end":"257:39","text":"newData.child('sender').exists","location-start":"257:10","values":[{"value":"hash@614338316","count":1},{"value":"hash@890053734","count":1}]}],"location-end":"257:41","text":"newData.child('sender').exists()","location-start":"257:10","values":[{"value":false,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"258:10","location-end":"258:13","values":[]},{"text":"uid","location-start":"258:15","location-end":"258:17","values":[]}],"location-end":"258:17","text":"auth.uid","location-start":"258:10","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"258:22","location-end":"258:28","values":[]},{"text":"child","location-start":"258:30","location-end":"258:34","values":[]}],"location-end":"258:34","text":"newData.child","location-start":"258:22","values":[]},{"text":"'sender'","location-start":"258:36","location-end":"258:43","values":[]}],"location-end":"258:44","text":"newData.child('sender')","location-start":"258:22","values":[]},{"text":"val","location-start":"258:46","location-end":"258:48","values":[]}],"location-end":"258:48","text":"newData.child('sender').val","location-start":"258:22","values":[]}],"location-end":"258:50","text":"newData.child('sender').val()","location-start":"258:22","values":[]}],"location-end":"258:50","text":"auth.uid == newData.child('sender').val()","location-start":"258:10","values":[]}],"location-end":"258:50","text":"newData.child('sender').exists() &&\n          auth.uid == newData.child('sender').val()","location-start":"257:10","values":[{"value":false,"count":2}]}],"location-end":"258:50","text":"auth != null &&\n          newData.child('sender').exists() &&\n          auth.uid == newData.child('sender').val()","location-start":"256:19","values":[{"value":false,"count":3}]}}},"profileData":{".read":{"text":"true","location-start":"298:15","location-end":"298:18","values":[]}},"updateProfileQueue":{"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"378:12","location-end":"378:15","values":[]},{"text":"null","location-start":"378:20","location-end":"378:23","values":[]}],"location-end":"378:23","text":"auth != null","location-start":"378:12","values":[]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"379:12","location-end":"379:18","values":[]},{"text":"exists","location-start":"379:20","location-end":"379:25","values":[]}],"location-end":"379:25","text":"newData.exists","location-start":"379:12","values":[]}],"location-end":"379:27","text":"newData.exists()","location-start":"379:12","values":[]},{"children":[{"children":[{"text":"newData","location-start":"380:12","location-end":"380:18","values":[]},{"text":"hasChild","location-start":"380:20","location-end":"380:27","values":[]}],"location-end":"380:27","text":"newData.hasChild","location-start":"380:12","values":[]},{"text":"'uid'","location-start":"380:29","location-end":"380:33","values":[]}],"location-end":"380:34","text":"newData.hasChild('uid')","location-start":"380:12","values":[]}],"location-end":"380:34","text":"newData.exists() &&\n            newData.hasChild('uid')","location-start":"379:12","values":[]}],"location-end":"380:34","text":"auth != null &&\n            newData.exists() &&\n            newData.hasChild('uid')","location-start":"378:12","values":[]},".read":{"children":[{"text":"auth","location-start":"376:20","location-end":"376:23","values":[]},{"text":"null","location-start":"376:28","location-end":"376:31","values":[]}],"location-end":"376:31","text":"auth != null","location-start":"376:20","values":[]}}}},"pathAssistants":{"$pathKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"269:19","location-end":"269:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1462300689","count":1},{"value":"hash@1560370154","count":1}]},{"text":"null","location-start":"269:27","location-end":"269:30","values":[{"value":null,"count":3}]}],"location-end":"269:30","text":"auth != null","location-start":"269:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"269:35","location-end":"269:38","values":[{"value":"hash@1462300689","count":1},{"value":"hash@1560370154","count":1}]},{"text":"uid","location-start":"269:40","location-end":"269:42","values":[{"value":"uid","count":2}]}],"location-end":"269:42","text":"auth.uid","location-start":"269:35","values":[{"value":"alice","count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"269:47","location-end":"269:50","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"269:52","location-end":"269:56","values":[{"value":"child","count":2}]}],"location-end":"269:56","text":"root.child","location-start":"269:47","values":[{"value":"hash@1033905270","count":1},{"value":"hash@1434430746","count":1}]},{"children":[{"children":[{"text":"'paths/'","location-start":"269:58","location-end":"269:65","values":[{"value":"paths/","count":2}]},{"text":"$pathKey","location-start":"269:69","location-end":"269:76","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"269:76","text":"'paths/' + $pathKey","location-start":"269:58","values":[{"value":"paths/someRandomChildNode","count":1},{"value":"paths/alice","count":1}]},{"text":"'/owner'","location-start":"269:80","location-end":"269:87","values":[{"value":"/owner","count":2}]}],"location-end":"269:87","text":"'paths/' + $pathKey + '/owner'","location-start":"269:58","values":[{"value":"paths/someRandomChildNode/owner","count":1},{"value":"paths/alice/owner","count":1}]}],"location-end":"269:88","text":"root.child('paths/' + $pathKey + '/owner')","location-start":"269:47","values":[{"value":"hash@1119025776","count":1},{"value":"hash@-1676909482","count":1}]},{"text":"val","location-start":"269:90","location-end":"269:92","values":[{"value":"val","count":2}]}],"location-end":"269:92","text":"root.child('paths/' + $pathKey + '/owner').val","location-start":"269:47","values":[{"value":"hash@469703530","count":1},{"value":"hash@421561603","count":1}]}],"location-end":"269:94","text":"root.child('paths/' + $pathKey + '/owner').val()","location-start":"269:47","values":[{"value":null,"count":2}]}],"location-end":"269:94","text":"auth.uid == root.child('paths/' + $pathKey + '/owner').val()","location-start":"269:35","values":[{"value":false,"count":2}]}],"location-end":"269:94","text":"auth != null && auth.uid == root.child('paths/' + $pathKey + '/owner').val()","location-start":"269:19","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"268:18","location-end":"268:21","values":[{"value":"hash@1718338344","count":1}]},{"text":"null","location-start":"268:26","location-end":"268:29","values":[{"value":null,"count":1}]}],"location-end":"268:29","text":"auth != null","location-start":"268:18","values":[{"value":true,"count":1}]}}},"activityData":{"$activityKey":{".write":{"children":[{"children":[{"children":[{"text":"auth","location-start":"26:19","location-end":"26:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@625089397","count":1},{"value":"hash@1690945871","count":1}]},{"text":"null","location-start":"26:27","location-end":"26:30","values":[{"value":null,"count":3}]}],"location-end":"26:30","text":"auth != null","location-start":"26:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"27:11","location-end":"27:17","values":[{"value":"hash@138677790","count":1},{"value":"hash@392711470","count":1}]},{"text":"exists","location-start":"27:19","location-end":"27:24","values":[{"value":"exists","count":2}]}],"location-end":"27:24","text":"newData.exists","location-start":"27:11","values":[{"value":"hash@346921785","count":1},{"value":"hash@1843346173","count":1}]}],"location-end":"27:26","text":"newData.exists()","location-start":"27:11","values":[{"value":true,"count":2}]}],"location-end":"27:26","text":"!newData.exists()","location-start":"27:10","values":[{"value":false,"count":2}]}],"location-end":"27:26","text":"auth != null &&\n          !newData.exists()","location-start":"26:19","values":[{"value":false,"count":3}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"28:12","location-end":"28:15","values":[{"value":"hash@16556906","count":3}]},{"text":"child","location-start":"28:17","location-end":"28:21","values":[{"value":"child","count":3}]}],"location-end":"28:21","text":"root.child","location-start":"28:12","values":[{"value":"hash@1729885255","count":1},{"value":"hash@1883361524","count":1},{"value":"hash@1650914000","count":1}]},{"children":[{"text":"'paths/'","location-start":"28:23","location-end":"28:30","values":[{"value":"paths/","count":3}]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"28:34","location-end":"28:40","values":[{"value":"hash@1663335548","count":1},{"value":"hash@138677790","count":1},{"value":"hash@392711470","count":1}]},{"text":"child","location-start":"28:42","location-end":"28:46","values":[{"value":"child","count":3}]}],"location-end":"28:46","text":"newData.child","location-start":"28:34","values":[{"value":"hash@640089724","count":1},{"value":"hash@1164829754","count":1},{"value":"hash@1221581922","count":1}]},{"text":"'path'","location-start":"28:48","location-end":"28:53","values":[{"value":"path","count":3}]}],"location-end":"28:54","text":"newData.child('path')","location-start":"28:34","values":[{"value":"hash@793504195","count":1},{"value":"hash@1836131959","count":1},{"value":"hash@496761192","count":1}]},{"text":"val","location-start":"28:56","location-end":"28:58","values":[{"value":"val","count":3}]}],"location-end":"28:58","text":"newData.child('path').val","location-start":"28:34","values":[{"value":"hash@390764961","count":1},{"value":"hash@360516787","count":1},{"value":"hash@151466228","count":1}]}],"location-end":"28:60","text":"newData.child('path').val()","location-start":"28:34","values":[{"value":null,"count":3}]}],"location-end":"28:60","text":"'paths/' + newData.child('path').val()","location-start":"28:23","values":[]}],"location-end":"28:61","text":"root.child('paths/' + newData.child('path').val())","location-start":"28:12","values":[]},{"text":"exists","location-start":"28:63","location-end":"28:68","values":[]}],"location-end":"28:68","text":"root.child('paths/' + newData.child('path').val()).exists","location-start":"28:12","values":[]}],"location-end":"28:70","text":"root.child('paths/' + newData.child('path').val()).exists()","location-start":"28:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"29:14","location-end":"29:17","values":[]},{"text":"child","location-start":"29:19","location-end":"29:23","values":[]}],"location-end":"29:23","text":"root.child","location-start":"29:14","values":[]},{"children":[{"children":[{"text":"'paths/'","location-start":"29:25","location-end":"29:32","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"29:36","location-end":"29:42","values":[]},{"text":"child","location-start":"29:44","location-end":"29:48","values":[]}],"location-end":"29:48","text":"newData.child","location-start":"29:36","values":[]},{"text":"'path'","location-start":"29:50","location-end":"29:55","values":[]}],"location-end":"29:56","text":"newData.child('path')","location-start":"29:36","values":[]},{"text":"val","location-start":"29:58","location-end":"29:60","values":[]}],"location-end":"29:60","text":"newData.child('path').val","location-start":"29:36","values":[]}],"location-end":"29:62","text":"newData.child('path').val()","location-start":"29:36","values":[]}],"location-end":"29:62","text":"'paths/' + newData.child('path').val()","location-start":"29:25","values":[]},{"text":"'/owner'","location-start":"30:16","location-end":"30:23","values":[]}],"location-end":"30:23","text":"'paths/' + newData.child('path').val() +\n                '/owner'","location-start":"29:25","values":[]}],"location-end":"30:24","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner')","location-start":"29:14","values":[]},{"text":"val","location-start":"30:26","location-end":"30:28","values":[]}],"location-end":"30:28","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val","location-start":"29:14","values":[]}],"location-end":"30:30","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val()","location-start":"29:14","values":[]},{"children":[{"text":"auth","location-start":"30:35","location-end":"30:38","values":[]},{"text":"uid","location-start":"30:40","location-end":"30:42","values":[]}],"location-end":"30:42","text":"auth.uid","location-start":"30:35","values":[]}],"location-end":"30:42","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid","location-start":"29:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"31:14","location-end":"31:17","values":[]},{"text":"child","location-start":"31:19","location-end":"31:23","values":[]}],"location-end":"31:23","text":"root.child","location-start":"31:14","values":[]},{"children":[{"children":[{"children":[{"text":"'pathAssistants/'","location-start":"31:25","location-end":"31:41","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"31:45","location-end":"31:51","values":[]},{"text":"child","location-start":"31:53","location-end":"31:57","values":[]}],"location-end":"31:57","text":"newData.child","location-start":"31:45","values":[]},{"text":"'path'","location-start":"31:59","location-end":"31:64","values":[]}],"location-end":"31:65","text":"newData.child('path')","location-start":"31:45","values":[]},{"text":"val","location-start":"31:67","location-end":"31:69","values":[]}],"location-end":"31:69","text":"newData.child('path').val","location-start":"31:45","values":[]}],"location-end":"31:71","text":"newData.child('path').val()","location-start":"31:45","values":[]}],"location-end":"31:71","text":"'pathAssistants/' + newData.child('path').val()","location-start":"31:25","values":[]},{"text":"'/'","location-start":"32:16","location-end":"32:18","values":[]}],"location-end":"32:18","text":"'pathAssistants/' + newData.child('path').val() +\n                '/'","location-start":"31:25","values":[]},{"children":[{"text":"auth","location-start":"32:22","location-end":"32:25","values":[]},{"text":"uid","location-start":"32:27","location-end":"32:29","values":[]}],"location-end":"32:29","text":"auth.uid","location-start":"32:22","values":[]}],"location-end":"32:29","text":"'pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid","location-start":"31:25","values":[]}],"location-end":"32:30","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid)","location-start":"31:14","values":[]},{"text":"exists","location-start":"32:32","location-end":"32:37","values":[]}],"location-end":"32:37","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists","location-start":"31:14","values":[]}],"location-end":"32:39","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"31:14","values":[]}],"location-end":"32:39","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"29:14","values":[]}],"location-end":"33:12","text":"root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )","location-start":"28:12","values":[]}],"location-end":"34:10","text":"auth != null &&\n          !newData.exists() || (\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )","location-start":"26:19","values":[]},".read":{"children":[{"text":"auth","location-start":"25:18","location-end":"25:21","values":[]},{"text":"null","location-start":"25:26","location-end":"25:29","values":[]}],"location-end":"25:29","text":"auth != null","location-start":"25:18","values":[]}}},"secrets":{".read":{"children":[{"children":[{"text":"auth","location-start":"301:16","location-end":"301:19","values":[]},{"text":"null","location-start":"301:24","location-end":"301:27","values":[]}],"location-end":"301:27","text":"auth != null","location-start":"301:16","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"301:32","location-end":"301:35","values":[]},{"text":"child","location-start":"301:37","location-end":"301:41","values":[]}],"location-end":"301:41","text":"root.child","location-start":"301:32","values":[]},{"children":[{"text":"'admins/'","location-start":"301:43","location-end":"301:51","values":[]},{"children":[{"text":"auth","location-start":"301:55","location-end":"301:58","values":[]},{"text":"uid","location-start":"301:60","location-end":"301:62","values":[]}],"location-end":"301:62","text":"auth.uid","location-start":"301:55","values":[]}],"location-end":"301:62","text":"'admins/' + auth.uid","location-start":"301:43","values":[]}],"location-end":"301:63","text":"root.child('admins/' + auth.uid)","location-start":"301:32","values":[]},{"text":"exists","location-start":"301:65","location-end":"301:70","values":[]}],"location-end":"301:70","text":"root.child('admins/' + auth.uid).exists","location-start":"301:32","values":[]}],"location-end":"301:72","text":"root.child('admins/' + auth.uid).exists()","location-start":"301:32","values":[]}],"location-end":"301:72","text":"auth != null && root.child('admins/' + auth.uid).exists()","location-start":"301:16","values":[]}},"cohortAssistants":{"$cohortKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"84:19","location-end":"84:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@786476970","count":1},{"value":"hash@238992076","count":1}]},{"text":"null","location-start":"84:27","location-end":"84:30","values":[{"value":null,"count":3}]}],"location-end":"84:30","text":"auth != null","location-start":"84:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"85:10","location-end":"85:13","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"85:15","location-end":"85:19","values":[{"value":"child","count":2}]}],"location-end":"85:19","text":"root.child","location-start":"85:10","values":[{"value":"hash@598083566","count":1},{"value":"hash@121619696","count":1}]},{"children":[{"text":"'/cohorts/'","location-start":"85:21","location-end":"85:31","values":[{"value":"/cohorts/","count":2}]},{"text":"$cohortKey","location-start":"85:35","location-end":"85:44","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"85:44","text":"'/cohorts/' + $cohortKey","location-start":"85:21","values":[{"value":"/cohorts/someRandomChildNode","count":1},{"value":"/cohorts/alice","count":1}]}],"location-end":"85:45","text":"root.child('/cohorts/' + $cohortKey)","location-start":"85:10","values":[{"value":"hash@-1951597063","count":1},{"value":"hash@-1121170826","count":1}]},{"text":"exists","location-start":"85:47","location-end":"85:52","values":[{"value":"exists","count":2}]}],"location-end":"85:52","text":"root.child('/cohorts/' + $cohortKey).exists","location-start":"85:10","values":[{"value":"hash@543774949","count":1},{"value":"hash@1665634632","count":1}]}],"location-end":"85:54","text":"root.child('/cohorts/' + $cohortKey).exists()","location-start":"85:10","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"86:10","location-end":"86:13","values":[]},{"text":"child","location-start":"86:15","location-end":"86:19","values":[]}],"location-end":"86:19","text":"root.child","location-start":"86:10","values":[]},{"children":[{"children":[{"text":"'/cohorts/'","location-start":"86:21","location-end":"86:31","values":[]},{"text":"$cohortKey","location-start":"86:35","location-end":"86:44","values":[]}],"location-end":"86:44","text":"'/cohorts/' + $cohortKey","location-start":"86:21","values":[]},{"text":"'/owner'","location-start":"86:48","location-end":"86:55","values":[]}],"location-end":"86:55","text":"'/cohorts/' + $cohortKey + '/owner'","location-start":"86:21","values":[]}],"location-end":"86:56","text":"root.child('/cohorts/' + $cohortKey + '/owner')","location-start":"86:10","values":[]},{"text":"val","location-start":"86:58","location-end":"86:60","values":[]}],"location-end":"86:60","text":"root.child('/cohorts/' + $cohortKey + '/owner').val","location-start":"86:10","values":[]}],"location-end":"86:62","text":"root.child('/cohorts/' + $cohortKey + '/owner').val()","location-start":"86:10","values":[]},{"children":[{"text":"auth","location-start":"86:67","location-end":"86:70","values":[]},{"text":"uid","location-start":"86:72","location-end":"86:74","values":[]}],"location-end":"86:74","text":"auth.uid","location-start":"86:67","values":[]}],"location-end":"86:74","text":"root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid","location-start":"86:10","values":[]}],"location-end":"86:74","text":"root.child('/cohorts/' + $cohortKey).exists() &&\n          root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid","location-start":"85:10","values":[{"value":false,"count":2}]}],"location-end":"86:74","text":"auth != null &&\n          root.child('/cohorts/' + $cohortKey).exists() &&\n          root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid","location-start":"84:19","values":[{"value":false,"count":3}]},".read":{"text":"true","location-start":"83:17","location-end":"83:20","values":[{"value":true,"count":2}]}}},"cohorts":{".read":{"text":"true","location-start":"90:15","location-end":"90:18","values":[{"value":true,"count":3}]},"$cohortKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"93:19","location-end":"93:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1703151055","count":1},{"value":"hash@748382767","count":1}]},{"text":"null","location-start":"93:27","location-end":"93:30","values":[{"value":null,"count":3}]}],"location-end":"93:30","text":"auth != null","location-start":"93:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"94:10","location-end":"94:16","values":[{"value":"hash@1320315690","count":1},{"value":"hash@1468550570","count":1}]},{"text":"exists","location-start":"94:18","location-end":"94:23","values":[{"value":"exists","count":2}]}],"location-end":"94:23","text":"newData.exists","location-start":"94:10","values":[{"value":"hash@1563991141","count":1},{"value":"hash@778640367","count":1}]}],"location-end":"94:25","text":"newData.exists()","location-start":"94:10","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"95:11","location-end":"95:14","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"95:16","location-end":"95:20","values":[{"value":"child","count":2}]}],"location-end":"95:20","text":"root.child","location-start":"95:11","values":[{"value":"hash@930896215","count":1},{"value":"hash@1912279739","count":1}]},{"children":[{"text":"'/admins/'","location-start":"95:22","location-end":"95:31","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"95:35","location-end":"95:38","values":[{"value":"hash@1703151055","count":1},{"value":"hash@748382767","count":1}]},{"text":"uid","location-start":"95:40","location-end":"95:42","values":[{"value":"uid","count":2}]}],"location-end":"95:42","text":"auth.uid","location-start":"95:35","values":[{"value":"alice","count":2}]}],"location-end":"95:42","text":"'/admins/' + auth.uid","location-start":"95:22","values":[{"value":"/admins/alice","count":2}]}],"location-end":"95:43","text":"root.child('/admins/' + auth.uid)","location-start":"95:11","values":[{"value":"hash@1083352844","count":2}]},{"text":"exists","location-start":"95:45","location-end":"95:50","values":[{"value":"exists","count":2}]}],"location-end":"95:50","text":"root.child('/admins/' + auth.uid).exists","location-start":"95:11","values":[{"value":"hash@1922271242","count":1},{"value":"hash@105305273","count":1}]}],"location-end":"95:52","text":"root.child('/admins/' + auth.uid).exists()","location-start":"95:11","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"97:11","location-end":"97:17","values":[{"value":"hash@1320315690","count":1},{"value":"hash@1468550570","count":1}]},{"text":"child","location-start":"97:19","location-end":"97:23","values":[{"value":"child","count":2}]}],"location-end":"97:23","text":"newData.child","location-start":"97:11","values":[{"value":"hash@790976073","count":1},{"value":"hash@330710214","count":1}]},{"text":"'isPublic'","location-start":"97:25","location-end":"97:34","values":[{"value":"isPublic","count":2}]}],"location-end":"97:35","text":"newData.child('isPublic')","location-start":"97:11","values":[{"value":"hash@921123964","count":1},{"value":"hash@1978071868","count":1}]},{"text":"exists","location-start":"97:37","location-end":"97:42","values":[{"value":"exists","count":2}]}],"location-end":"97:42","text":"newData.child('isPublic').exists","location-start":"97:11","values":[{"value":"hash@1669623062","count":1},{"value":"hash@1554076145","count":1}]}],"location-end":"97:44","text":"newData.child('isPublic').exists()","location-start":"97:11","values":[{"value":false,"count":2}]}],"location-end":"97:44","text":"!newData.child('isPublic').exists()","location-start":"97:10","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"100:17","location-end":"100:20","values":[{"value":"hash@-1951597063","count":1},{"value":"hash@-1121170826","count":1}]},{"text":"exists","location-start":"100:22","location-end":"100:27","values":[{"value":"exists","count":2}]}],"location-end":"100:27","text":"data.exists","location-start":"100:17","values":[{"value":"hash@230259380","count":1},{"value":"hash@1827841472","count":1}]}],"location-end":"100:29","text":"data.exists()","location-start":"100:17","values":[{"value":false,"count":2}]}],"location-end":"100:29","text":"!data.exists()","location-start":"100:16","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"101:18","location-end":"101:24","values":[{"value":"hash@1320315690","count":1},{"value":"hash@1468550570","count":1}]},{"text":"child","location-start":"101:26","location-end":"101:30","values":[{"value":"child","count":2}]}],"location-end":"101:30","text":"newData.child","location-start":"101:18","values":[{"value":"hash@137097812","count":1},{"value":"hash@1317069972","count":1}]},{"text":"'owner'","location-start":"101:32","location-end":"101:38","values":[{"value":"owner","count":2}]}],"location-end":"101:39","text":"newData.child('owner')","location-start":"101:18","values":[{"value":"hash@119548913","count":1},{"value":"hash@217962851","count":1}]},{"text":"exists","location-start":"101:41","location-end":"101:46","values":[{"value":"exists","count":2}]}],"location-end":"101:46","text":"newData.child('owner').exists","location-start":"101:18","values":[{"value":"hash@1191975646","count":1},{"value":"hash@1518682068","count":1}]}],"location-end":"101:48","text":"newData.child('owner').exists()","location-start":"101:18","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"102:18","location-end":"102:24","values":[]},{"text":"child","location-start":"102:26","location-end":"102:30","values":[]}],"location-end":"102:30","text":"newData.child","location-start":"102:18","values":[]},{"text":"'owner'","location-start":"102:32","location-end":"102:38","values":[]}],"location-end":"102:39","text":"newData.child('owner')","location-start":"102:18","values":[]},{"text":"val","location-start":"102:41","location-end":"102:43","values":[]}],"location-end":"102:43","text":"newData.child('owner').val","location-start":"102:18","values":[]}],"location-end":"102:45","text":"newData.child('owner').val()","location-start":"102:18","values":[]},{"children":[{"text":"auth","location-start":"102:50","location-end":"102:53","values":[]},{"text":"uid","location-start":"102:55","location-end":"102:57","values":[]}],"location-end":"102:57","text":"auth.uid","location-start":"102:50","values":[]}],"location-end":"102:57","text":"newData.child('owner').val() == auth.uid","location-start":"102:18","values":[]}],"location-end":"102:57","text":"newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"101:18","values":[{"value":false,"count":2}]}],"location-end":"102:57","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"100:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"104:16","location-end":"104:19","values":[{"value":"hash@-1951597063","count":1},{"value":"hash@-1121170826","count":1}]},{"text":"exists","location-start":"104:21","location-end":"104:26","values":[{"value":"exists","count":2}]}],"location-end":"104:26","text":"data.exists","location-start":"104:16","values":[{"value":"hash@27702353","count":1},{"value":"hash@589323745","count":1}]}],"location-end":"104:28","text":"data.exists()","location-start":"104:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"104:33","location-end":"104:36","values":[]},{"text":"child","location-start":"104:38","location-end":"104:42","values":[]}],"location-end":"104:42","text":"data.child","location-start":"104:33","values":[]},{"text":"'owner'","location-start":"104:44","location-end":"104:50","values":[]}],"location-end":"104:51","text":"data.child('owner')","location-start":"104:33","values":[]},{"text":"val","location-start":"104:53","location-end":"104:55","values":[]}],"location-end":"104:55","text":"data.child('owner').val","location-start":"104:33","values":[]}],"location-end":"104:57","text":"data.child('owner').val()","location-start":"104:33","values":[]},{"children":[{"text":"auth","location-start":"104:62","location-end":"104:65","values":[]},{"text":"uid","location-start":"104:67","location-end":"104:69","values":[]}],"location-end":"104:69","text":"auth.uid","location-start":"104:62","values":[]}],"location-end":"104:69","text":"data.child('owner').val() == auth.uid","location-start":"104:33","values":[]}],"location-end":"104:69","text":"data.exists() && data.child('owner').val() == auth.uid","location-start":"104:16","values":[{"value":false,"count":2}]}],"location-end":"105:14","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )","location-start":"100:16","values":[{"value":false,"count":2}]}],"location-end":"106:12","text":"!newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )","location-start":"97:10","values":[{"value":false,"count":2}]}],"location-end":"107:10","text":"root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          )","location-start":"95:11","values":[{"value":false,"count":2}]}],"location-end":"107:11","text":"newData.exists() &&\n          (root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          ))","location-start":"94:10","values":[{"value":false,"count":2}]}],"location-end":"107:11","text":"auth != null &&\n          newData.exists() &&\n          (root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          ))","location-start":"93:19","values":[{"value":false,"count":3}]}}},"studentJoinedCourses":{"$studentKey":{".read":{"children":[{"children":[{"text":"auth","location-start":"348:18","location-end":"348:21","values":[{"value":"hash@1401541949","count":1}]},{"text":"null","location-start":"348:26","location-end":"348:29","values":[{"value":null,"count":1}]}],"location-end":"348:29","text":"auth != null","location-start":"348:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"text":"auth","location-start":"348:34","location-end":"348:37","values":[{"value":"hash@1401541949","count":1}]},{"text":"uid","location-start":"348:39","location-end":"348:41","values":[{"value":"uid","count":1}]}],"location-end":"348:41","text":"auth.uid","location-start":"348:34","values":[{"value":"alice","count":1}]},{"text":"$studentKey","location-start":"348:46","location-end":"348:56","values":[{"value":"someNode","count":1}]}],"location-end":"348:56","text":"auth.uid == $studentKey","location-start":"348:34","values":[{"value":false,"count":1}]}],"location-end":"348:56","text":"auth != null && auth.uid == $studentKey","location-start":"348:18","values":[{"value":false,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"350:21","location-end":"350:24","values":[]},{"text":"null","location-start":"350:29","location-end":"350:32","values":[]}],"location-end":"350:32","text":"auth != null","location-start":"350:21","values":[]},{"children":[{"children":[{"children":[{"text":"$studentKey","location-start":"351:14","location-end":"351:24","values":[]},{"children":[{"text":"auth","location-start":"351:29","location-end":"351:32","values":[]},{"text":"uid","location-start":"351:34","location-end":"351:36","values":[]}],"location-end":"351:36","text":"auth.uid","location-start":"351:29","values":[]}],"location-end":"351:36","text":"$studentKey == auth.uid","location-start":"351:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"352:14","location-end":"352:17","values":[]},{"text":"child","location-start":"352:19","location-end":"352:23","values":[]}],"location-end":"352:23","text":"root.child","location-start":"352:14","values":[]},{"children":[{"text":"'studentCoursePasswords/'","location-start":"352:25","location-end":"352:49","values":[]},{"text":"$courseKey","location-start":"352:53","location-end":"352:62","values":[]}],"location-end":"352:62","text":"'studentCoursePasswords/' + $courseKey","location-start":"352:25","values":[]}],"location-end":"352:63","text":"root.child('studentCoursePasswords/' + $courseKey)","location-start":"352:14","values":[]},{"text":"exists","location-start":"352:65","location-end":"352:70","values":[]}],"location-end":"352:70","text":"root.child('studentCoursePasswords/' + $courseKey).exists","location-start":"352:14","values":[]}],"location-end":"352:72","text":"root.child('studentCoursePasswords/' + $courseKey).exists()","location-start":"352:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"353:14","location-end":"353:17","values":[]},{"text":"child","location-start":"353:19","location-end":"353:23","values":[]}],"location-end":"353:23","text":"root.child","location-start":"353:14","values":[]},{"children":[{"children":[{"children":[{"text":"'studentCoursePasswords/'","location-start":"353:25","location-end":"353:49","values":[]},{"text":"$courseKey","location-start":"353:53","location-end":"353:62","values":[]}],"location-end":"353:62","text":"'studentCoursePasswords/' + $courseKey","location-start":"353:25","values":[]},{"text":"'/'","location-start":"353:66","location-end":"353:68","values":[]}],"location-end":"353:68","text":"'studentCoursePasswords/' + $courseKey + '/'","location-start":"353:25","values":[]},{"text":"$studentKey","location-start":"353:72","location-end":"353:82","values":[]}],"location-end":"353:82","text":"'studentCoursePasswords/' + $courseKey + '/' + $studentKey","location-start":"353:25","values":[]}],"location-end":"353:83","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey)","location-start":"353:14","values":[]},{"text":"exists","location-start":"353:85","location-end":"353:90","values":[]}],"location-end":"353:90","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists","location-start":"353:14","values":[]}],"location-end":"353:92","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"353:14","values":[]}],"location-end":"353:92","text":"root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"352:14","values":[]}],"location-end":"353:92","text":"$studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"351:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"355:14","location-end":"355:17","values":[]},{"text":"child","location-start":"355:19","location-end":"355:23","values":[]}],"location-end":"355:23","text":"root.child","location-start":"355:14","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"355:25","location-end":"355:34","values":[]},{"text":"$courseKey","location-start":"355:38","location-end":"355:47","values":[]}],"location-end":"355:47","text":"'courses/' + $courseKey","location-start":"355:25","values":[]},{"text":"'/owner'","location-start":"355:51","location-end":"355:58","values":[]}],"location-end":"355:58","text":"'courses/' + $courseKey + '/owner'","location-start":"355:25","values":[]}],"location-end":"355:59","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"355:14","values":[]},{"text":"val","location-start":"355:61","location-end":"355:63","values":[]}],"location-end":"355:63","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"355:14","values":[]}],"location-end":"355:65","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"355:14","values":[]},{"children":[{"text":"auth","location-start":"355:70","location-end":"355:73","values":[]},{"text":"uid","location-start":"355:75","location-end":"355:77","values":[]}],"location-end":"355:77","text":"auth.uid","location-start":"355:70","values":[]}],"location-end":"355:77","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"355:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"356:14","location-end":"356:17","values":[]},{"text":"child","location-start":"356:19","location-end":"356:23","values":[]}],"location-end":"356:23","text":"root.child","location-start":"356:14","values":[]},{"children":[{"children":[{"children":[{"text":"'/courseAssistants/'","location-start":"356:25","location-end":"356:44","values":[]},{"text":"$courseKey","location-start":"356:48","location-end":"356:57","values":[]}],"location-end":"356:57","text":"'/courseAssistants/' + $courseKey","location-start":"356:25","values":[]},{"text":"'/'","location-start":"356:61","location-end":"356:63","values":[]}],"location-end":"356:63","text":"'/courseAssistants/' + $courseKey + '/'","location-start":"356:25","values":[]},{"children":[{"text":"auth","location-start":"356:67","location-end":"356:70","values":[]},{"text":"uid","location-start":"356:72","location-end":"356:74","values":[]}],"location-end":"356:74","text":"auth.uid","location-start":"356:67","values":[]}],"location-end":"356:74","text":"'/courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"356:25","values":[]}],"location-end":"356:75","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"356:14","values":[]},{"text":"val","location-start":"356:77","location-end":"356:79","values":[]}],"location-end":"356:79","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val","location-start":"356:14","values":[]}],"location-end":"356:81","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val()","location-start":"356:14","values":[]},{"text":"true","location-start":"356:86","location-end":"356:89","values":[]}],"location-end":"356:89","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"356:14","values":[]}],"location-end":"356:89","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"355:14","values":[]}],"location-end":"357:12","text":"$studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n            ) || (\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            )","location-start":"351:14","values":[]}],"location-end":"357:13","text":"auth != null && ((\n              $studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n            ) || (\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ))","location-start":"350:21","values":[]}}}},"cohortCourses":{".read":{"text":"true","location-start":"64:15","location-end":"64:18","values":[{"value":true,"count":3}]},"$cohortKey":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"68:12","location-end":"68:15","values":[]},{"text":"null","location-start":"68:20","location-end":"68:23","values":[]}],"location-end":"68:23","text":"auth != null","location-start":"68:12","values":[]},{"children":[{"children":[{"children":[{"text":"auth","location-start":"69:13","location-end":"69:16","values":[]},{"text":"uid","location-start":"69:18","location-end":"69:20","values":[]}],"location-end":"69:20","text":"auth.uid","location-start":"69:13","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"69:25","location-end":"69:28","values":[]},{"text":"child","location-start":"69:30","location-end":"69:34","values":[]}],"location-end":"69:34","text":"root.child","location-start":"69:25","values":[]},{"children":[{"children":[{"text":"'/cohorts/'","location-start":"69:36","location-end":"69:46","values":[]},{"text":"$cohortKey","location-start":"69:50","location-end":"69:59","values":[]}],"location-end":"69:59","text":"'/cohorts/' + $cohortKey","location-start":"69:36","values":[]},{"text":"'/owner'","location-start":"69:63","location-end":"69:70","values":[]}],"location-end":"69:70","text":"'/cohorts/' + $cohortKey + '/owner'","location-start":"69:36","values":[]}],"location-end":"69:71","text":"root.child('/cohorts/' + $cohortKey + '/owner')","location-start":"69:25","values":[]},{"text":"val","location-start":"69:73","location-end":"69:75","values":[]}],"location-end":"69:75","text":"root.child('/cohorts/' + $cohortKey + '/owner').val","location-start":"69:25","values":[]}],"location-end":"69:77","text":"root.child('/cohorts/' + $cohortKey + '/owner').val()","location-start":"69:25","values":[]}],"location-end":"69:77","text":"auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val()","location-start":"69:13","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"70:12","location-end":"70:15","values":[]},{"text":"child","location-start":"70:17","location-end":"70:21","values":[]}],"location-end":"70:21","text":"root.child","location-start":"70:12","values":[]},{"children":[{"children":[{"children":[{"text":"'/cohortAssistants/'","location-start":"70:23","location-end":"70:42","values":[]},{"text":"$cohortKey","location-start":"70:46","location-end":"70:55","values":[]}],"location-end":"70:55","text":"'/cohortAssistants/' + $cohortKey","location-start":"70:23","values":[]},{"text":"'/'","location-start":"70:59","location-end":"70:61","values":[]}],"location-end":"70:61","text":"'/cohortAssistants/' + $cohortKey + '/'","location-start":"70:23","values":[]},{"children":[{"text":"auth","location-start":"70:65","location-end":"70:68","values":[]},{"text":"uid","location-start":"70:70","location-end":"70:72","values":[]}],"location-end":"70:72","text":"auth.uid","location-start":"70:65","values":[]}],"location-end":"70:72","text":"'/cohortAssistants/' + $cohortKey + '/' + auth.uid","location-start":"70:23","values":[]}],"location-end":"70:73","text":"root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid)","location-start":"70:12","values":[]},{"text":"exists","location-start":"70:75","location-end":"70:80","values":[]}],"location-end":"70:80","text":"root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists","location-start":"70:12","values":[]}],"location-end":"70:82","text":"root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists()","location-start":"70:12","values":[]}],"location-end":"70:82","text":"auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val() ||\n            root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists()","location-start":"69:13","values":[]}],"location-end":"70:83","text":"auth != null &&\n            (auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val() ||\n            root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists())","location-start":"68:12","values":[]}}}},"jupyterSolutionsQueue":{"responses":{"$taskKey":{".write":{"children":[{"children":[{"children":[{"text":"newData","location-start":"211:22","location-end":"211:28","values":[]},{"text":"exists","location-start":"211:30","location-end":"211:35","values":[]}],"location-end":"211:35","text":"newData.exists","location-start":"211:22","values":[]}],"location-end":"211:37","text":"newData.exists()","location-start":"211:22","values":[]}],"location-end":"211:37","text":"!newData.exists()","location-start":"211:21","values":[]},".read":{"children":[{"text":"auth","location-start":"210:20","location-end":"210:23","values":[]},{"text":"null","location-start":"210:28","location-end":"210:31","values":[]}],"location-end":"210:31","text":"auth != null","location-start":"210:20","values":[]}}},"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"217:21","location-end":"217:24","values":[]},{"text":"null","location-start":"217:29","location-end":"217:32","values":[]}],"location-end":"217:32","text":"auth != null","location-start":"217:21","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"217:37","location-end":"217:43","values":[]},{"text":"child","location-start":"217:45","location-end":"217:49","values":[]}],"location-end":"217:49","text":"newData.child","location-start":"217:37","values":[]},{"text":"'owner'","location-start":"217:51","location-end":"217:57","values":[]}],"location-end":"217:58","text":"newData.child('owner')","location-start":"217:37","values":[]},{"text":"val","location-start":"217:60","location-end":"217:62","values":[]}],"location-end":"217:62","text":"newData.child('owner').val","location-start":"217:37","values":[]}],"location-end":"217:64","text":"newData.child('owner').val()","location-start":"217:37","values":[]},{"children":[{"text":"auth","location-start":"217:69","location-end":"217:72","values":[]},{"text":"uid","location-start":"217:74","location-end":"217:76","values":[]}],"location-end":"217:76","text":"auth.uid","location-start":"217:69","values":[]}],"location-end":"217:76","text":"newData.child('owner').val() == auth.uid","location-start":"217:37","values":[]}],"location-end":"217:76","text":"auth != null && newData.child('owner').val() == auth.uid","location-start":"217:21","values":[]}}}},"activities":{".read":{"children":[{"children":[{"text":"auth","location-start":"3:16","location-end":"3:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@611913920","count":1}]},{"text":"null","location-start":"3:24","location-end":"3:27","values":[{"value":null,"count":2}]}],"location-end":"3:27","text":"auth != null","location-start":"3:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"text":"query","location-start":"4:10","location-end":"4:14","values":[{"value":"hash@414482691","count":1}]},{"text":"orderByChild","location-start":"4:16","location-end":"4:27","values":[{"value":"orderByChild","count":1}]}],"location-end":"4:27","text":"query.orderByChild","location-start":"4:10","values":[{"value":null,"count":1}]},{"text":"'path'","location-start":"4:32","location-end":"4:37","values":[]}],"location-end":"4:37","text":"query.orderByChild == 'path'","location-start":"4:10","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"5:10","location-end":"5:13","values":[]},{"text":"child","location-start":"5:15","location-end":"5:19","values":[]}],"location-end":"5:19","text":"root.child","location-start":"5:10","values":[]},{"children":[{"children":[{"text":"'/paths/'","location-start":"5:21","location-end":"5:29","values":[]},{"children":[{"text":"query","location-start":"5:33","location-end":"5:37","values":[]},{"text":"equalTo","location-start":"5:39","location-end":"5:45","values":[]}],"location-end":"5:45","text":"query.equalTo","location-start":"5:33","values":[]}],"location-end":"5:45","text":"'/paths/' + query.equalTo","location-start":"5:21","values":[]},{"text":"'/isPublic'","location-start":"5:49","location-end":"5:59","values":[]}],"location-end":"5:59","text":"'/paths/' + query.equalTo + '/isPublic'","location-start":"5:21","values":[]}],"location-end":"5:60","text":"root.child('/paths/' + query.equalTo + '/isPublic')","location-start":"5:10","values":[]},{"text":"val","location-start":"5:62","location-end":"5:64","values":[]}],"location-end":"5:64","text":"root.child('/paths/' + query.equalTo + '/isPublic').val","location-start":"5:10","values":[]}],"location-end":"5:66","text":"root.child('/paths/' + query.equalTo + '/isPublic').val()","location-start":"5:10","values":[]},{"text":"true","location-start":"5:71","location-end":"5:74","values":[]}],"location-end":"5:74","text":"root.child('/paths/' + query.equalTo + '/isPublic').val() == true","location-start":"5:10","values":[]}],"location-end":"5:74","text":"query.orderByChild == 'path' &&\n          root.child('/paths/' + query.equalTo + '/isPublic').val() == true","location-start":"4:10","values":[{"value":false,"count":1}]}],"location-end":"6:8","text":"auth != null || (\n          query.orderByChild == 'path' &&\n          root.child('/paths/' + query.equalTo + '/isPublic').val() == true\n        )","location-start":"3:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$activityKey":{".write":{"children":[{"children":[{"children":[{"text":"auth","location-start":"10:19","location-end":"10:22","values":[]},{"text":"null","location-start":"10:27","location-end":"10:30","values":[]}],"location-end":"10:30","text":"auth != null","location-start":"10:19","values":[]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"11:11","location-end":"11:17","values":[]},{"text":"exists","location-start":"11:19","location-end":"11:24","values":[]}],"location-end":"11:24","text":"newData.exists","location-start":"11:11","values":[]}],"location-end":"11:26","text":"newData.exists()","location-start":"11:11","values":[]}],"location-end":"11:26","text":"!newData.exists()","location-start":"11:10","values":[]}],"location-end":"11:26","text":"auth != null &&\n          !newData.exists()","location-start":"10:19","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"12:12","location-end":"12:18","values":[]},{"text":"child","location-start":"12:20","location-end":"12:24","values":[]}],"location-end":"12:24","text":"newData.child","location-start":"12:12","values":[]},{"text":"'path'","location-start":"12:26","location-end":"12:31","values":[]}],"location-end":"12:32","text":"newData.child('path')","location-start":"12:12","values":[]},{"text":"exists","location-start":"12:34","location-end":"12:39","values":[]}],"location-end":"12:39","text":"newData.child('path').exists","location-start":"12:12","values":[]}],"location-end":"12:41","text":"newData.child('path').exists()","location-start":"12:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"13:12","location-end":"13:15","values":[]},{"text":"child","location-start":"13:17","location-end":"13:21","values":[]}],"location-end":"13:21","text":"root.child","location-start":"13:12","values":[]},{"children":[{"text":"'paths/'","location-start":"13:23","location-end":"13:30","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"13:34","location-end":"13:40","values":[]},{"text":"child","location-start":"13:42","location-end":"13:46","values":[]}],"location-end":"13:46","text":"newData.child","location-start":"13:34","values":[]},{"text":"'path'","location-start":"13:48","location-end":"13:53","values":[]}],"location-end":"13:54","text":"newData.child('path')","location-start":"13:34","values":[]},{"text":"val","location-start":"13:56","location-end":"13:58","values":[]}],"location-end":"13:58","text":"newData.child('path').val","location-start":"13:34","values":[]}],"location-end":"13:60","text":"newData.child('path').val()","location-start":"13:34","values":[]}],"location-end":"13:60","text":"'paths/' + newData.child('path').val()","location-start":"13:23","values":[]}],"location-end":"13:61","text":"root.child('paths/' + newData.child('path').val())","location-start":"13:12","values":[]},{"text":"exists","location-start":"13:63","location-end":"13:68","values":[]}],"location-end":"13:68","text":"root.child('paths/' + newData.child('path').val()).exists","location-start":"13:12","values":[]}],"location-end":"13:70","text":"root.child('paths/' + newData.child('path').val()).exists()","location-start":"13:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"14:14","location-end":"14:17","values":[]},{"text":"child","location-start":"14:19","location-end":"14:23","values":[]}],"location-end":"14:23","text":"root.child","location-start":"14:14","values":[]},{"children":[{"children":[{"text":"'paths/'","location-start":"14:25","location-end":"14:32","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"14:36","location-end":"14:42","values":[]},{"text":"child","location-start":"14:44","location-end":"14:48","values":[]}],"location-end":"14:48","text":"newData.child","location-start":"14:36","values":[]},{"text":"'path'","location-start":"14:50","location-end":"14:55","values":[]}],"location-end":"14:56","text":"newData.child('path')","location-start":"14:36","values":[]},{"text":"val","location-start":"14:58","location-end":"14:60","values":[]}],"location-end":"14:60","text":"newData.child('path').val","location-start":"14:36","values":[]}],"location-end":"14:62","text":"newData.child('path').val()","location-start":"14:36","values":[]}],"location-end":"14:62","text":"'paths/' + newData.child('path').val()","location-start":"14:25","values":[]},{"text":"'/owner'","location-start":"15:16","location-end":"15:23","values":[]}],"location-end":"15:23","text":"'paths/' + newData.child('path').val() +\n                '/owner'","location-start":"14:25","values":[]}],"location-end":"15:24","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner')","location-start":"14:14","values":[]},{"text":"val","location-start":"15:26","location-end":"15:28","values":[]}],"location-end":"15:28","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val","location-start":"14:14","values":[]}],"location-end":"15:30","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val()","location-start":"14:14","values":[]},{"children":[{"text":"auth","location-start":"15:35","location-end":"15:38","values":[]},{"text":"uid","location-start":"15:40","location-end":"15:42","values":[]}],"location-end":"15:42","text":"auth.uid","location-start":"15:35","values":[]}],"location-end":"15:42","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid","location-start":"14:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"16:14","location-end":"16:17","values":[]},{"text":"child","location-start":"16:19","location-end":"16:23","values":[]}],"location-end":"16:23","text":"root.child","location-start":"16:14","values":[]},{"children":[{"children":[{"children":[{"text":"'pathAssistants/'","location-start":"16:25","location-end":"16:41","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"16:45","location-end":"16:51","values":[]},{"text":"child","location-start":"16:53","location-end":"16:57","values":[]}],"location-end":"16:57","text":"newData.child","location-start":"16:45","values":[]},{"text":"'path'","location-start":"16:59","location-end":"16:64","values":[]}],"location-end":"16:65","text":"newData.child('path')","location-start":"16:45","values":[]},{"text":"val","location-start":"16:67","location-end":"16:69","values":[]}],"location-end":"16:69","text":"newData.child('path').val","location-start":"16:45","values":[]}],"location-end":"16:71","text":"newData.child('path').val()","location-start":"16:45","values":[]}],"location-end":"16:71","text":"'pathAssistants/' + newData.child('path').val()","location-start":"16:25","values":[]},{"text":"'/'","location-start":"17:16","location-end":"17:18","values":[]}],"location-end":"17:18","text":"'pathAssistants/' + newData.child('path').val() +\n                '/'","location-start":"16:25","values":[]},{"children":[{"text":"auth","location-start":"17:22","location-end":"17:25","values":[]},{"text":"uid","location-start":"17:27","location-end":"17:29","values":[]}],"location-end":"17:29","text":"auth.uid","location-start":"17:22","values":[]}],"location-end":"17:29","text":"'pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid","location-start":"16:25","values":[]}],"location-end":"17:30","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid)","location-start":"16:14","values":[]},{"text":"exists","location-start":"17:32","location-end":"17:37","values":[]}],"location-end":"17:37","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists","location-start":"16:14","values":[]}],"location-end":"17:39","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"16:14","values":[]}],"location-end":"17:39","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"14:14","values":[]}],"location-end":"18:12","text":"root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )","location-start":"13:12","values":[]}],"location-end":"18:12","text":"newData.child('path').exists() &&\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )","location-start":"12:12","values":[]}],"location-end":"19:10","text":"auth != null &&\n          !newData.exists() || (\n            newData.child('path').exists() &&\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )","location-start":"10:19","values":[]},".read":{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"9:18","location-end":"9:21","values":[]},{"text":"child","location-start":"9:23","location-end":"9:27","values":[]}],"location-end":"9:27","text":"root.child","location-start":"9:18","values":[]},{"children":[{"children":[{"text":"'/paths/'","location-start":"9:29","location-end":"9:37","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"9:41","location-end":"9:44","values":[]},{"text":"child","location-start":"9:46","location-end":"9:50","values":[]}],"location-end":"9:50","text":"data.child","location-start":"9:41","values":[]},{"text":"'path'","location-start":"9:52","location-end":"9:57","values":[]}],"location-end":"9:58","text":"data.child('path')","location-start":"9:41","values":[]},{"text":"val","location-start":"9:60","location-end":"9:62","values":[]}],"location-end":"9:62","text":"data.child('path').val","location-start":"9:41","values":[]}],"location-end":"9:64","text":"data.child('path').val()","location-start":"9:41","values":[]}],"location-end":"9:64","text":"'/paths/' + data.child('path').val()","location-start":"9:29","values":[]},{"text":"'/isPublic'","location-start":"9:68","location-end":"9:78","values":[]}],"location-end":"9:78","text":"'/paths/' + data.child('path').val() + '/isPublic'","location-start":"9:29","values":[]}],"location-end":"9:79","text":"root.child('/paths/' + data.child('path').val() + '/isPublic')","location-start":"9:18","values":[]},{"text":"val","location-start":"9:81","location-end":"9:83","values":[]}],"location-end":"9:83","text":"root.child('/paths/' + data.child('path').val() + '/isPublic').val","location-start":"9:18","values":[]}],"location-end":"9:85","text":"root.child('/paths/' + data.child('path').val() + '/isPublic').val()","location-start":"9:18","values":[]},{"text":"true","location-start":"9:90","location-end":"9:93","values":[]}],"location-end":"9:93","text":"root.child('/paths/' + data.child('path').val() + '/isPublic').val() == true","location-start":"9:18","values":[]}}},"users":{".read":{"text":"true","location-start":"405:15","location-end":"405:18","values":[{"value":true,"count":3}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"407:19","location-end":"407:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1790081762","count":1},{"value":"hash@611725595","count":1}]},{"text":"null","location-start":"407:27","location-end":"407:30","values":[{"value":null,"count":3}]}],"location-end":"407:30","text":"auth != null","location-start":"407:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"407:35","location-end":"407:38","values":[{"value":"hash@1790081762","count":1},{"value":"hash@611725595","count":1}]},{"text":"uid","location-start":"407:40","location-end":"407:42","values":[{"value":"uid","count":2}]}],"location-end":"407:42","text":"auth.uid","location-start":"407:35","values":[{"value":"alice","count":2}]},{"text":"$userKey","location-start":"407:47","location-end":"407:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"407:54","text":"auth.uid == $userKey","location-start":"407:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"407:54","text":"auth != null && auth.uid == $userKey","location-start":"407:19","values":[{"value":false,"count":2},{"value":true,"count":1}]}}},"usersPrivate":{"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"413:19","location-end":"413:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@431354076","count":1},{"value":"hash@1002915674","count":1}]},{"text":"null","location-start":"413:27","location-end":"413:30","values":[{"value":null,"count":3}]}],"location-end":"413:30","text":"auth != null","location-start":"413:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"413:35","location-end":"413:38","values":[{"value":"hash@431354076","count":1},{"value":"hash@1002915674","count":1}]},{"text":"uid","location-start":"413:40","location-end":"413:42","values":[{"value":"uid","count":2}]}],"location-end":"413:42","text":"auth.uid","location-start":"413:35","values":[{"value":"alice","count":2}]},{"text":"$userKey","location-start":"413:47","location-end":"413:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"413:54","text":"auth.uid == $userKey","location-start":"413:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"413:54","text":"auth != null && auth.uid == $userKey","location-start":"413:19","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"children":[{"children":[{"text":"auth","location-start":"412:18","location-end":"412:21","values":[{"value":"hash@251569405","count":1}]},{"text":"null","location-start":"412:26","location-end":"412:29","values":[{"value":null,"count":1}]}],"location-end":"412:29","text":"auth != null","location-start":"412:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"text":"auth","location-start":"412:34","location-end":"412:37","values":[{"value":"hash@251569405","count":1}]},{"text":"uid","location-start":"412:39","location-end":"412:41","values":[{"value":"uid","count":1}]}],"location-end":"412:41","text":"auth.uid","location-start":"412:34","values":[{"value":"alice","count":1}]},{"text":"$userKey","location-start":"412:46","location-end":"412:53","values":[{"value":"someNode","count":1}]}],"location-end":"412:53","text":"auth.uid == $userKey","location-start":"412:34","values":[{"value":false,"count":1}]}],"location-end":"412:53","text":"auth != null && auth.uid == $userKey","location-start":"412:18","values":[{"value":false,"count":1}]}}},"activityExampleSolutions":{"$activityKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"40:17","location-end":"40:20","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1799731352","count":1},{"value":"hash@1790974301","count":1}]},{"text":"null","location-start":"40:25","location-end":"40:28","values":[{"value":null,"count":3}]}],"location-end":"40:28","text":"auth != null","location-start":"40:17","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"40:33","location-end":"40:36","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"40:38","location-end":"40:42","values":[{"value":"child","count":2}]}],"location-end":"40:42","text":"root.child","location-start":"40:33","values":[{"value":"hash@1092869630","count":1},{"value":"hash@1944800339","count":1}]},{"children":[{"children":[{"text":"'/activities/'","location-start":"40:44","location-end":"40:57","values":[{"value":"/activities/","count":2}]},{"text":"$activityKey","location-start":"40:61","location-end":"40:72","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"40:72","text":"'/activities/' + $activityKey","location-start":"40:44","values":[{"value":"/activities/someRandomChildNode","count":1},{"value":"/activities/alice","count":1}]},{"text":"'/owner'","location-start":"40:76","location-end":"40:83","values":[{"value":"/owner","count":2}]}],"location-end":"40:83","text":"'/activities/' + $activityKey + '/owner'","location-start":"40:44","values":[{"value":"/activities/someRandomChildNode/owner","count":1},{"value":"/activities/alice/owner","count":1}]}],"location-end":"40:84","text":"root.child('/activities/' + $activityKey + '/owner')","location-start":"40:33","values":[{"value":"hash@583334108","count":1},{"value":"hash@-2038978562","count":1}]},{"text":"val","location-start":"40:86","location-end":"40:88","values":[{"value":"val","count":2}]}],"location-end":"40:88","text":"root.child('/activities/' + $activityKey + '/owner').val","location-start":"40:33","values":[{"value":"hash@629479731","count":1},{"value":"hash@1719682524","count":1}]}],"location-end":"40:90","text":"root.child('/activities/' + $activityKey + '/owner').val()","location-start":"40:33","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"40:95","location-end":"40:98","values":[{"value":"hash@1799731352","count":1},{"value":"hash@1790974301","count":1}]},{"text":"uid","location-start":"40:100","location-end":"40:102","values":[{"value":"uid","count":2}]}],"location-end":"40:102","text":"auth.uid","location-start":"40:95","values":[{"value":"alice","count":2}]}],"location-end":"40:102","text":"root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"40:33","values":[{"value":false,"count":2}]}],"location-end":"40:102","text":"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"40:17","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"41:16","location-end":"41:19","values":[{"value":"hash@1698962171","count":1}]},{"text":"null","location-start":"41:24","location-end":"41:27","values":[{"value":null,"count":1}]}],"location-end":"41:27","text":"auth != null","location-start":"41:16","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"41:32","location-end":"41:35","values":[{"value":"hash@162654299","count":1}]},{"text":"child","location-start":"41:37","location-end":"41:41","values":[{"value":"child","count":1}]}],"location-end":"41:41","text":"root.child","location-start":"41:32","values":[{"value":"hash@1416322216","count":1}]},{"children":[{"children":[{"text":"'/activities/'","location-start":"41:43","location-end":"41:56","values":[{"value":"/activities/","count":1}]},{"text":"$activityKey","location-start":"41:60","location-end":"41:71","values":[{"value":"someNode","count":1}]}],"location-end":"41:71","text":"'/activities/' + $activityKey","location-start":"41:43","values":[{"value":"/activities/someNode","count":1}]},{"text":"'/owner'","location-start":"41:75","location-end":"41:82","values":[{"value":"/owner","count":1}]}],"location-end":"41:82","text":"'/activities/' + $activityKey + '/owner'","location-start":"41:43","values":[{"value":"/activities/someNode/owner","count":1}]}],"location-end":"41:83","text":"root.child('/activities/' + $activityKey + '/owner')","location-start":"41:32","values":[{"value":"hash@-471949145","count":1}]},{"text":"val","location-start":"41:85","location-end":"41:87","values":[{"value":"val","count":1}]}],"location-end":"41:87","text":"root.child('/activities/' + $activityKey + '/owner').val","location-start":"41:32","values":[{"value":"hash@1086172314","count":1}]}],"location-end":"41:89","text":"root.child('/activities/' + $activityKey + '/owner').val()","location-start":"41:32","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"41:94","location-end":"41:97","values":[{"value":"hash@1698962171","count":1}]},{"text":"uid","location-start":"41:99","location-end":"41:101","values":[{"value":"uid","count":1}]}],"location-end":"41:101","text":"auth.uid","location-start":"41:94","values":[{"value":"alice","count":1}]}],"location-end":"41:101","text":"root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"41:32","values":[{"value":false,"count":1}]}],"location-end":"41:101","text":"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"41:16","values":[{"value":false,"count":1}]}}},"config":{".write":{"children":[{"children":[{"text":"auth","location-start":"119:17","location-end":"119:20","values":[{"value":"hash@1039899172","count":2},{"value":"hash@1519135168","count":1},{"value":"hash@1447583587","count":1},{"value":"hash@762755808","count":1}]},{"text":"null","location-start":"119:25","location-end":"119:28","values":[{"value":null,"count":5}]}],"location-end":"119:28","text":"auth != null","location-start":"119:17","values":[{"value":false,"count":2},{"value":true,"count":3}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"119:33","location-end":"119:36","values":[{"value":"hash@16556906","count":3}]},{"text":"child","location-start":"119:38","location-end":"119:42","values":[{"value":"child","count":3}]}],"location-end":"119:42","text":"root.child","location-start":"119:33","values":[{"value":"hash@1657197370","count":1},{"value":"hash@1345423864","count":1},{"value":"hash@61492095","count":1}]},{"children":[{"text":"'/admins/'","location-start":"119:44","location-end":"119:53","values":[{"value":"/admins/","count":3}]},{"children":[{"text":"auth","location-start":"119:57","location-end":"119:60","values":[{"value":"hash@1519135168","count":1},{"value":"hash@1447583587","count":1},{"value":"hash@762755808","count":1}]},{"text":"uid","location-start":"119:62","location-end":"119:64","values":[{"value":"uid","count":3}]}],"location-end":"119:64","text":"auth.uid","location-start":"119:57","values":[{"value":"alice","count":3}]}],"location-end":"119:64","text":"'/admins/' + auth.uid","location-start":"119:44","values":[{"value":"/admins/alice","count":3}]}],"location-end":"119:65","text":"root.child('/admins/' + auth.uid)","location-start":"119:33","values":[{"value":"hash@1083352844","count":3}]},{"text":"val","location-start":"119:67","location-end":"119:69","values":[{"value":"val","count":3}]}],"location-end":"119:69","text":"root.child('/admins/' + auth.uid).val","location-start":"119:33","values":[{"value":"hash@435088042","count":1},{"value":"hash@2001515466","count":1},{"value":"hash@2013847227","count":1}]}],"location-end":"119:71","text":"root.child('/admins/' + auth.uid).val()","location-start":"119:33","values":[{"value":null,"count":3}]},{"text":"true","location-start":"119:76","location-end":"119:79","values":[{"value":true,"count":3}]}],"location-end":"119:79","text":"root.child('/admins/' + auth.uid).val() == true","location-start":"119:33","values":[{"value":false,"count":3}]}],"location-end":"119:79","text":"auth != null && root.child('/admins/' + auth.uid).val() == true","location-start":"119:17","values":[{"value":false,"count":5}]},".read":{"children":[{"children":[{"text":"auth","location-start":"118:16","location-end":"118:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1715890553","count":1},{"value":"hash@19209334","count":1}]},{"text":"null","location-start":"118:24","location-end":"118:27","values":[{"value":null,"count":3}]}],"location-end":"118:27","text":"auth != null","location-start":"118:16","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"118:32","location-end":"118:35","values":[{"value":"hash@-1256990977","count":1},{"value":"hash@1177366743","count":1}]},{"text":"child","location-start":"118:37","location-end":"118:41","values":[{"value":"child","count":2}]}],"location-end":"118:41","text":"root.child","location-start":"118:32","values":[{"value":"hash@1474997835","count":1},{"value":"hash@188909207","count":1}]},{"children":[{"text":"'/admins/'","location-start":"118:43","location-end":"118:52","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"118:56","location-end":"118:59","values":[{"value":"hash@1715890553","count":1},{"value":"hash@19209334","count":1}]},{"text":"uid","location-start":"118:61","location-end":"118:63","values":[{"value":"uid","count":2}]}],"location-end":"118:63","text":"auth.uid","location-start":"118:56","values":[{"value":"alice","count":2}]}],"location-end":"118:63","text":"'/admins/' + auth.uid","location-start":"118:43","values":[{"value":"/admins/alice","count":2}]}],"location-end":"118:64","text":"root.child('/admins/' + auth.uid)","location-start":"118:32","values":[{"value":"hash@-1551749213","count":1},{"value":"hash@1319517202","count":1}]},{"text":"val","location-start":"118:66","location-end":"118:68","values":[{"value":"val","count":2}]}],"location-end":"118:68","text":"root.child('/admins/' + auth.uid).val","location-start":"118:32","values":[{"value":"hash@1404117144","count":1},{"value":"hash@416255371","count":1}]}],"location-end":"118:70","text":"root.child('/admins/' + auth.uid).val()","location-start":"118:32","values":[{"value":null,"count":2}]},{"text":"true","location-start":"118:75","location-end":"118:78","values":[{"value":true,"count":2}]}],"location-end":"118:78","text":"root.child('/admins/' + auth.uid).val() == true","location-start":"118:32","values":[{"value":false,"count":2}]}],"location-end":"118:78","text":"auth != null && root.child('/admins/' + auth.uid).val() == true","location-start":"118:16","values":[{"value":false,"count":3}]},"defaultRecommendations":{".read":{"text":"true","location-start":"121:17","location-end":"121:20","values":[]}},"version":{".read":{"text":"true","location-start":"124:17","location-end":"124:20","values":[]}}},"studentCoursePasswords":{"$courseKey":{"$studentKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"336:21","location-end":"336:24","values":[]},{"text":"null","location-start":"336:29","location-end":"336:32","values":[]}],"location-end":"336:32","text":"auth != null","location-start":"336:21","values":[]},{"children":[{"children":[{"children":[{"text":"$studentKey","location-start":"337:14","location-end":"337:24","values":[]},{"children":[{"text":"auth","location-start":"337:29","location-end":"337:32","values":[]},{"text":"uid","location-start":"337:34","location-end":"337:36","values":[]}],"location-end":"337:36","text":"auth.uid","location-start":"337:29","values":[]}],"location-end":"337:36","text":"$studentKey == auth.uid","location-start":"337:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"338:14","location-end":"338:17","values":[]},{"text":"child","location-start":"338:19","location-end":"338:23","values":[]}],"location-end":"338:23","text":"root.child","location-start":"338:14","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"338:25","location-end":"338:34","values":[]},{"text":"$courseKey","location-start":"338:38","location-end":"338:47","values":[]}],"location-end":"338:47","text":"'courses/' + $courseKey","location-start":"338:25","values":[]},{"text":"'/owner'","location-start":"338:51","location-end":"338:58","values":[]}],"location-end":"338:58","text":"'courses/' + $courseKey + '/owner'","location-start":"338:25","values":[]}],"location-end":"338:59","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"338:14","values":[]},{"text":"val","location-start":"338:61","location-end":"338:63","values":[]}],"location-end":"338:63","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"338:14","values":[]}],"location-end":"338:65","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"338:14","values":[]},{"children":[{"text":"auth","location-start":"338:70","location-end":"338:73","values":[]},{"text":"uid","location-start":"338:75","location-end":"338:77","values":[]}],"location-end":"338:77","text":"auth.uid","location-start":"338:70","values":[]}],"location-end":"338:77","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"338:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"339:14","location-end":"339:17","values":[]},{"text":"child","location-start":"339:19","location-end":"339:23","values":[]}],"location-end":"339:23","text":"root.child","location-start":"339:14","values":[]},{"children":[{"children":[{"children":[{"text":"'/courseAssistants/'","location-start":"339:25","location-end":"339:44","values":[]},{"text":"$courseKey","location-start":"339:48","location-end":"339:57","values":[]}],"location-end":"339:57","text":"'/courseAssistants/' + $courseKey","location-start":"339:25","values":[]},{"text":"'/'","location-start":"339:61","location-end":"339:63","values":[]}],"location-end":"339:63","text":"'/courseAssistants/' + $courseKey + '/'","location-start":"339:25","values":[]},{"children":[{"text":"auth","location-start":"339:67","location-end":"339:70","values":[]},{"text":"uid","location-start":"339:72","location-end":"339:74","values":[]}],"location-end":"339:74","text":"auth.uid","location-start":"339:67","values":[]}],"location-end":"339:74","text":"'/courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"339:25","values":[]}],"location-end":"339:75","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"339:14","values":[]},{"text":"val","location-start":"339:77","location-end":"339:79","values":[]}],"location-end":"339:79","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val","location-start":"339:14","values":[]}],"location-end":"339:81","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val()","location-start":"339:14","values":[]},{"text":"true","location-start":"339:86","location-end":"339:89","values":[]}],"location-end":"339:89","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"339:14","values":[]}],"location-end":"339:89","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"338:14","values":[]}],"location-end":"339:89","text":"$studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"337:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"341:12","location-end":"341:15","values":[]},{"text":"child","location-start":"341:17","location-end":"341:21","values":[]}],"location-end":"341:21","text":"root.child","location-start":"341:12","values":[]},{"children":[{"text":"'coursePasswords/'","location-start":"341:23","location-end":"341:40","values":[]},{"text":"$courseKey","location-start":"341:44","location-end":"341:53","values":[]}],"location-end":"341:53","text":"'coursePasswords/' + $courseKey","location-start":"341:23","values":[]}],"location-end":"341:54","text":"root.child('coursePasswords/' + $courseKey)","location-start":"341:12","values":[]},{"text":"exists","location-start":"341:56","location-end":"341:61","values":[]}],"location-end":"341:61","text":"root.child('coursePasswords/' + $courseKey).exists","location-start":"341:12","values":[]}],"location-end":"341:63","text":"root.child('coursePasswords/' + $courseKey).exists()","location-start":"341:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"342:13","location-end":"342:16","values":[]},{"text":"child","location-start":"342:18","location-end":"342:22","values":[]}],"location-end":"342:22","text":"root.child","location-start":"342:13","values":[]},{"children":[{"text":"'coursePasswords/'","location-start":"342:24","location-end":"342:41","values":[]},{"text":"$courseKey","location-start":"342:45","location-end":"342:54","values":[]}],"location-end":"342:54","text":"'coursePasswords/' + $courseKey","location-start":"342:24","values":[]}],"location-end":"342:55","text":"root.child('coursePasswords/' + $courseKey)","location-start":"342:13","values":[]},{"text":"val","location-start":"342:57","location-end":"342:59","values":[]}],"location-end":"342:59","text":"root.child('coursePasswords/' + $courseKey).val","location-start":"342:13","values":[]}],"location-end":"342:61","text":"root.child('coursePasswords/' + $courseKey).val()","location-start":"342:13","values":[]},{"children":[{"children":[{"text":"newData","location-start":"342:66","location-end":"342:72","values":[]},{"text":"val","location-start":"342:74","location-end":"342:76","values":[]}],"location-end":"342:76","text":"newData.val","location-start":"342:66","values":[]}],"location-end":"342:78","text":"newData.val()","location-start":"342:66","values":[]}],"location-end":"342:78","text":"root.child('coursePasswords/' + $courseKey).val() == newData.val()","location-start":"342:13","values":[]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"342:84","location-end":"342:90","values":[]},{"text":"exists","location-start":"342:92","location-end":"342:97","values":[]}],"location-end":"342:97","text":"newData.exists","location-start":"342:84","values":[]}],"location-end":"342:99","text":"newData.exists()","location-start":"342:84","values":[]}],"location-end":"342:99","text":"!newData.exists()","location-start":"342:83","values":[]}],"location-end":"342:99","text":"root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists()","location-start":"342:13","values":[]}],"location-end":"342:100","text":"root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())","location-start":"341:12","values":[]}],"location-end":"342:100","text":"$studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ) &&\n            root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())","location-start":"337:14","values":[]}],"location-end":"342:100","text":"auth != null && (\n              $studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ) &&\n            root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())","location-start":"336:21","values":[]}}}},"outgoingRequestsQueue":{"tasks":{}},"paths":{".read":{"text":"true","location-start":"273:15","location-end":"273:18","values":[{"value":true,"count":3}]},"$pathKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"276:19","location-end":"276:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1015471004","count":1},{"value":"hash@655348396","count":1}]},{"text":"null","location-start":"276:27","location-end":"276:30","values":[{"value":null,"count":3}]}],"location-end":"276:30","text":"auth != null","location-start":"276:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"278:12","location-end":"278:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"278:17","location-end":"278:21","values":[{"value":"child","count":2}]}],"location-end":"278:21","text":"root.child","location-start":"278:12","values":[{"value":"hash@830802104","count":1},{"value":"hash@1879446444","count":1}]},{"children":[{"text":"'/admins/'","location-start":"278:23","location-end":"278:32","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"278:36","location-end":"278:39","values":[{"value":"hash@1015471004","count":1},{"value":"hash@655348396","count":1}]},{"text":"uid","location-start":"278:41","location-end":"278:43","values":[{"value":"uid","count":2}]}],"location-end":"278:43","text":"auth.uid","location-start":"278:36","values":[{"value":"alice","count":2}]}],"location-end":"278:43","text":"'/admins/' + auth.uid","location-start":"278:23","values":[{"value":"/admins/alice","count":2}]}],"location-end":"278:44","text":"root.child('/admins/' + auth.uid)","location-start":"278:12","values":[{"value":"hash@1083352844","count":2}]},{"text":"exists","location-start":"278:46","location-end":"278:51","values":[{"value":"exists","count":2}]}],"location-end":"278:51","text":"root.child('/admins/' + auth.uid).exists","location-start":"278:12","values":[{"value":"hash@364615317","count":1},{"value":"hash@1488549835","count":1}]}],"location-end":"278:53","text":"root.child('/admins/' + auth.uid).exists()","location-start":"278:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"279:15","location-end":"279:18","values":[{"value":"hash@33444396","count":1},{"value":"hash@2090060950","count":1}]},{"text":"exists","location-start":"279:20","location-end":"279:25","values":[{"value":"exists","count":2}]}],"location-end":"279:25","text":"data.exists","location-start":"279:15","values":[{"value":"hash@1099504961","count":1},{"value":"hash@1168963906","count":1}]}],"location-end":"279:27","text":"data.exists()","location-start":"279:15","values":[{"value":false,"count":2}]}],"location-end":"279:27","text":"!data.exists()","location-start":"279:14","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"279:32","location-end":"279:38","values":[{"value":"hash@1264149719","count":1},{"value":"hash@485476841","count":1}]},{"text":"child","location-start":"279:40","location-end":"279:44","values":[{"value":"child","count":2}]}],"location-end":"279:44","text":"newData.child","location-start":"279:32","values":[{"value":"hash@1375757772","count":1},{"value":"hash@1546920619","count":1}]},{"text":"'owner'","location-start":"279:46","location-end":"279:52","values":[{"value":"owner","count":2}]}],"location-end":"279:53","text":"newData.child('owner')","location-start":"279:32","values":[{"value":"hash@465980967","count":1},{"value":"hash@1327497673","count":1}]},{"text":"val","location-start":"279:55","location-end":"279:57","values":[{"value":"val","count":2}]}],"location-end":"279:57","text":"newData.child('owner').val","location-start":"279:32","values":[{"value":"hash@304888587","count":1},{"value":"hash@1843693446","count":1}]}],"location-end":"279:59","text":"newData.child('owner').val()","location-start":"279:32","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"279:64","location-end":"279:67","values":[{"value":"hash@1015471004","count":1},{"value":"hash@655348396","count":1}]},{"text":"uid","location-start":"279:69","location-end":"279:71","values":[{"value":"uid","count":2}]}],"location-end":"279:71","text":"auth.uid","location-start":"279:64","values":[{"value":"alice","count":2}]}],"location-end":"279:71","text":"newData.child('owner').val() == auth.uid","location-start":"279:32","values":[{"value":false,"count":2}]}],"location-end":"279:71","text":"!data.exists() && newData.child('owner').val() == auth.uid","location-start":"279:14","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"280:14","location-end":"280:17","values":[{"value":"hash@33444396","count":1},{"value":"hash@2090060950","count":1}]},{"text":"exists","location-start":"280:19","location-end":"280:24","values":[{"value":"exists","count":2}]}],"location-end":"280:24","text":"data.exists","location-start":"280:14","values":[{"value":"hash@315853381","count":1},{"value":"hash@254196562","count":1}]}],"location-end":"280:26","text":"data.exists()","location-start":"280:14","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"281:16","location-end":"281:19","values":[]},{"text":"child","location-start":"281:21","location-end":"281:25","values":[]}],"location-end":"281:25","text":"data.child","location-start":"281:16","values":[]},{"text":"'owner'","location-start":"281:27","location-end":"281:33","values":[]}],"location-end":"281:34","text":"data.child('owner')","location-start":"281:16","values":[]},{"text":"val","location-start":"281:36","location-end":"281:38","values":[]}],"location-end":"281:38","text":"data.child('owner').val","location-start":"281:16","values":[]}],"location-end":"281:40","text":"data.child('owner').val()","location-start":"281:16","values":[]},{"children":[{"text":"auth","location-start":"281:45","location-end":"281:48","values":[]},{"text":"uid","location-start":"281:50","location-end":"281:52","values":[]}],"location-end":"281:52","text":"auth.uid","location-start":"281:45","values":[]}],"location-end":"281:52","text":"data.child('owner').val() == auth.uid","location-start":"281:16","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"282:16","location-end":"282:19","values":[]},{"text":"child","location-start":"282:21","location-end":"282:25","values":[]}],"location-end":"282:25","text":"root.child","location-start":"282:16","values":[]},{"children":[{"children":[{"children":[{"text":"'pathAssistants/'","location-start":"282:27","location-end":"282:43","values":[]},{"text":"$pathKey","location-start":"282:47","location-end":"282:54","values":[]}],"location-end":"282:54","text":"'pathAssistants/' + $pathKey","location-start":"282:27","values":[]},{"text":"'/'","location-start":"282:58","location-end":"282:60","values":[]}],"location-end":"282:60","text":"'pathAssistants/' + $pathKey + '/'","location-start":"282:27","values":[]},{"children":[{"text":"auth","location-start":"282:64","location-end":"282:67","values":[]},{"text":"uid","location-start":"282:69","location-end":"282:71","values":[]}],"location-end":"282:71","text":"auth.uid","location-start":"282:64","values":[]}],"location-end":"282:71","text":"'pathAssistants/' + $pathKey + '/' + auth.uid","location-start":"282:27","values":[]}],"location-end":"282:72","text":"root.child('pathAssistants/' + $pathKey + '/' + auth.uid)","location-start":"282:16","values":[]},{"text":"exists","location-start":"282:74","location-end":"282:79","values":[]}],"location-end":"282:79","text":"root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists","location-start":"282:16","values":[]}],"location-end":"282:81","text":"root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()","location-start":"282:16","values":[]}],"location-end":"282:81","text":"data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()","location-start":"281:16","values":[]}],"location-end":"283:14","text":"data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )","location-start":"280:14","values":[{"value":false,"count":2}]}],"location-end":"283:14","text":"!data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )","location-start":"279:14","values":[{"value":false,"count":2}]}],"location-end":"284:12","text":"root.child('/admins/' + auth.uid).exists() || (\n              !data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )\n            )","location-start":"278:12","values":[{"value":false,"count":2}]}],"location-end":"285:10","text":"auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() || (\n              !data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )\n            )\n          )","location-start":"276:19","values":[{"value":false,"count":3}]}}},"studentJoinedPaths":{"$studentKey":{".read":{"children":[{"text":"auth","location-start":"363:18","location-end":"363:21","values":[{"value":"hash@1111997331","count":1}]},{"text":"null","location-start":"363:26","location-end":"363:29","values":[{"value":null,"count":1}]}],"location-end":"363:29","text":"auth != null","location-start":"363:18","values":[{"value":true,"count":1}]},"$pathKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"365:21","location-end":"365:24","values":[]},{"text":"null","location-start":"365:29","location-end":"365:32","values":[]}],"location-end":"365:32","text":"auth != null","location-start":"365:21","values":[]},{"children":[{"children":[{"text":"$studentKey","location-start":"366:14","location-end":"366:24","values":[]},{"children":[{"text":"auth","location-start":"366:29","location-end":"366:32","values":[]},{"text":"uid","location-start":"366:34","location-end":"366:36","values":[]}],"location-end":"366:36","text":"auth.uid","location-start":"366:29","values":[]}],"location-end":"366:36","text":"$studentKey == auth.uid","location-start":"366:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"367:14","location-end":"367:17","values":[]},{"text":"child","location-start":"367:19","location-end":"367:23","values":[]}],"location-end":"367:23","text":"root.child","location-start":"367:14","values":[]},{"children":[{"text":"'paths/'","location-start":"367:25","location-end":"367:32","values":[]},{"text":"$pathKey","location-start":"367:36","location-end":"367:43","values":[]}],"location-end":"367:43","text":"'paths/' + $pathKey","location-start":"367:25","values":[]}],"location-end":"367:44","text":"root.child('paths/' + $pathKey)","location-start":"367:14","values":[]},{"text":"exists","location-start":"367:46","location-end":"367:51","values":[]}],"location-end":"367:51","text":"root.child('paths/' + $pathKey).exists","location-start":"367:14","values":[]}],"location-end":"367:53","text":"root.child('paths/' + $pathKey).exists()","location-start":"367:14","values":[]}],"location-end":"367:53","text":"$studentKey == auth.uid &&\n              root.child('paths/' + $pathKey).exists()","location-start":"366:14","values":[]}],"location-end":"367:53","text":"auth != null &&\n              $studentKey == auth.uid &&\n              root.child('paths/' + $pathKey).exists()","location-start":"365:21","values":[]}}}},"admins":{"$userKey":{".read":{"children":[{"text":"auth","location-start":"46:18","location-end":"46:21","values":[{"value":"hash@1686049102","count":1}]},{"text":"null","location-start":"46:26","location-end":"46:29","values":[{"value":null,"count":1}]}],"location-end":"46:29","text":"auth != null","location-start":"46:18","values":[{"value":true,"count":1}]}}},"courses":{".read":{"children":[{"text":"auth","location-start":"164:16","location-end":"164:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@541495447","count":1}]},{"text":"null","location-start":"164:24","location-end":"164:27","values":[{"value":null,"count":2}]}],"location-end":"164:27","text":"auth != null","location-start":"164:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"169:10","location-end":"169:13","values":[{"value":"hash@1039899172","count":1},{"value":"hash@423191561","count":1},{"value":"hash@354516154","count":1}]},{"text":"null","location-start":"169:18","location-end":"169:21","values":[{"value":null,"count":3}]}],"location-end":"169:21","text":"auth != null","location-start":"169:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"171:12","location-end":"171:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"171:17","location-end":"171:21","values":[{"value":"child","count":2}]}],"location-end":"171:21","text":"root.child","location-start":"171:12","values":[{"value":"hash@1053312133","count":1},{"value":"hash@219702596","count":1}]},{"children":[{"text":"'/admins/'","location-start":"171:23","location-end":"171:32","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"171:36","location-end":"171:39","values":[{"value":"hash@423191561","count":1},{"value":"hash@354516154","count":1}]},{"text":"uid","location-start":"171:41","location-end":"171:43","values":[{"value":"uid","count":2}]}],"location-end":"171:43","text":"auth.uid","location-start":"171:36","values":[{"value":"alice","count":2}]}],"location-end":"171:43","text":"'/admins/' + auth.uid","location-start":"171:23","values":[{"value":"/admins/alice","count":2}]}],"location-end":"171:44","text":"root.child('/admins/' + auth.uid)","location-start":"171:12","values":[{"value":"hash@1083352844","count":2}]},{"text":"exists","location-start":"171:46","location-end":"171:51","values":[{"value":"exists","count":2}]}],"location-end":"171:51","text":"root.child('/admins/' + auth.uid).exists","location-start":"171:12","values":[{"value":"hash@852955400","count":1},{"value":"hash@1555576363","count":1}]}],"location-end":"171:53","text":"root.child('/admins/' + auth.uid).exists()","location-start":"171:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"172:13","location-end":"172:19","values":[{"value":"hash@1942876209","count":1},{"value":"hash@1652282881","count":1}]},{"text":"child","location-start":"172:21","location-end":"172:25","values":[{"value":"child","count":2}]}],"location-end":"172:25","text":"newData.child","location-start":"172:13","values":[{"value":"hash@562482029","count":1},{"value":"hash@2090967640","count":1}]},{"text":"'isPublic'","location-start":"172:27","location-end":"172:36","values":[{"value":"isPublic","count":2}]}],"location-end":"172:37","text":"newData.child('isPublic')","location-start":"172:13","values":[{"value":"hash@1570131892","count":1},{"value":"hash@853396173","count":1}]},{"text":"exists","location-start":"172:39","location-end":"172:44","values":[{"value":"exists","count":2}]}],"location-end":"172:44","text":"newData.child('isPublic').exists","location-start":"172:13","values":[{"value":"hash@1472420447","count":1},{"value":"hash@801749971","count":1}]}],"location-end":"172:46","text":"newData.child('isPublic').exists()","location-start":"172:13","values":[{"value":false,"count":2}]}],"location-end":"172:46","text":"!newData.child('isPublic').exists()","location-start":"172:12","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"175:17","location-end":"175:20","values":[{"value":"hash@1782399425","count":1},{"value":"hash@-121856491","count":1}]},{"text":"exists","location-start":"175:22","location-end":"175:27","values":[{"value":"exists","count":2}]}],"location-end":"175:27","text":"data.exists","location-start":"175:17","values":[{"value":"hash@1267954926","count":1},{"value":"hash@322878453","count":1}]}],"location-end":"175:29","text":"data.exists()","location-start":"175:17","values":[{"value":false,"count":2}]}],"location-end":"175:29","text":"!data.exists()","location-start":"175:16","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"176:18","location-end":"176:24","values":[{"value":"hash@1942876209","count":1},{"value":"hash@1652282881","count":1}]},{"text":"child","location-start":"176:26","location-end":"176:30","values":[{"value":"child","count":2}]}],"location-end":"176:30","text":"newData.child","location-start":"176:18","values":[{"value":"hash@1549341522","count":1},{"value":"hash@1652324520","count":1}]},{"text":"'owner'","location-start":"176:32","location-end":"176:38","values":[{"value":"owner","count":2}]}],"location-end":"176:39","text":"newData.child('owner')","location-start":"176:18","values":[{"value":"hash@870124674","count":1},{"value":"hash@1051417992","count":1}]},{"text":"exists","location-start":"176:41","location-end":"176:46","values":[{"value":"exists","count":2}]}],"location-end":"176:46","text":"newData.child('owner').exists","location-start":"176:18","values":[{"value":"hash@2114038020","count":1},{"value":"hash@1549692589","count":1}]}],"location-end":"176:48","text":"newData.child('owner').exists()","location-start":"176:18","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"177:18","location-end":"177:24","values":[]},{"text":"child","location-start":"177:26","location-end":"177:30","values":[]}],"location-end":"177:30","text":"newData.child","location-start":"177:18","values":[]},{"text":"'owner'","location-start":"177:32","location-end":"177:38","values":[]}],"location-end":"177:39","text":"newData.child('owner')","location-start":"177:18","values":[]},{"text":"val","location-start":"177:41","location-end":"177:43","values":[]}],"location-end":"177:43","text":"newData.child('owner').val","location-start":"177:18","values":[]}],"location-end":"177:45","text":"newData.child('owner').val()","location-start":"177:18","values":[]},{"children":[{"text":"auth","location-start":"177:50","location-end":"177:53","values":[]},{"text":"uid","location-start":"177:55","location-end":"177:57","values":[]}],"location-end":"177:57","text":"auth.uid","location-start":"177:50","values":[]}],"location-end":"177:57","text":"newData.child('owner').val() == auth.uid","location-start":"177:18","values":[]}],"location-end":"177:57","text":"newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"176:18","values":[{"value":false,"count":2}]}],"location-end":"177:57","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"175:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"179:16","location-end":"179:19","values":[{"value":"hash@1782399425","count":1},{"value":"hash@-121856491","count":1}]},{"text":"exists","location-start":"179:21","location-end":"179:26","values":[{"value":"exists","count":2}]}],"location-end":"179:26","text":"data.exists","location-start":"179:16","values":[{"value":"hash@778409518","count":1},{"value":"hash@987334592","count":1}]}],"location-end":"179:28","text":"data.exists()","location-start":"179:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"179:33","location-end":"179:36","values":[]},{"text":"child","location-start":"179:38","location-end":"179:42","values":[]}],"location-end":"179:42","text":"data.child","location-start":"179:33","values":[]},{"text":"'owner'","location-start":"179:44","location-end":"179:50","values":[]}],"location-end":"179:51","text":"data.child('owner')","location-start":"179:33","values":[]},{"text":"val","location-start":"179:53","location-end":"179:55","values":[]}],"location-end":"179:55","text":"data.child('owner').val","location-start":"179:33","values":[]}],"location-end":"179:57","text":"data.child('owner').val()","location-start":"179:33","values":[]},{"children":[{"text":"auth","location-start":"179:62","location-end":"179:65","values":[]},{"text":"uid","location-start":"179:67","location-end":"179:69","values":[]}],"location-end":"179:69","text":"auth.uid","location-start":"179:62","values":[]}],"location-end":"179:69","text":"data.child('owner').val() == auth.uid","location-start":"179:33","values":[]}],"location-end":"179:69","text":"data.exists() && data.child('owner').val() == auth.uid","location-start":"179:16","values":[{"value":false,"count":2}]}],"location-end":"180:14","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )","location-start":"175:16","values":[{"value":false,"count":2}]}],"location-end":"181:12","text":"!newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )","location-start":"172:12","values":[{"value":false,"count":2}]}],"location-end":"181:12","text":"root.child('/admins/' + auth.uid).exists() ||\n            !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )","location-start":"171:12","values":[{"value":false,"count":2}]}],"location-end":"182:10","text":"auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() ||\n            !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          )","location-start":"169:10","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"167:18","location-end":"167:21","values":[]},{"text":"null","location-start":"167:26","location-end":"167:29","values":[]}],"location-end":"167:29","text":"auth != null","location-start":"167:18","values":[]}}},"assignments":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"55:19","location-end":"55:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1845233390","count":1},{"value":"hash@699668364","count":1}]},{"text":"null","location-start":"55:27","location-end":"55:30","values":[{"value":null,"count":3}]}],"location-end":"55:30","text":"auth != null","location-start":"55:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"55:35","location-end":"55:38","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"55:40","location-end":"55:44","values":[{"value":"child","count":2}]}],"location-end":"55:44","text":"root.child","location-start":"55:35","values":[{"value":"hash@972511080","count":1},{"value":"hash@1138030870","count":1}]},{"children":[{"text":"'courses/'","location-start":"55:46","location-end":"55:55","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"55:59","location-end":"55:68","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"55:68","text":"'courses/' + $courseKey","location-start":"55:46","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]}],"location-end":"55:69","text":"root.child('courses/' + $courseKey)","location-start":"55:35","values":[{"value":"hash@1782399425","count":1},{"value":"hash@-121856491","count":1}]},{"text":"exists","location-start":"55:71","location-end":"55:76","values":[{"value":"exists","count":2}]}],"location-end":"55:76","text":"root.child('courses/' + $courseKey).exists","location-start":"55:35","values":[{"value":"hash@1470255430","count":1},{"value":"hash@1794424043","count":1}]}],"location-end":"55:78","text":"root.child('courses/' + $courseKey).exists()","location-start":"55:35","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"56:11","location-end":"56:14","values":[]},{"text":"child","location-start":"56:16","location-end":"56:20","values":[]}],"location-end":"56:20","text":"root.child","location-start":"56:11","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"56:22","location-end":"56:31","values":[]},{"text":"$courseKey","location-start":"56:35","location-end":"56:44","values":[]}],"location-end":"56:44","text":"'courses/' + $courseKey","location-start":"56:22","values":[]},{"text":"'/owner'","location-start":"56:48","location-end":"56:55","values":[]}],"location-end":"56:55","text":"'courses/' + $courseKey + '/owner'","location-start":"56:22","values":[]}],"location-end":"56:56","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"56:11","values":[]},{"text":"val","location-start":"56:58","location-end":"56:60","values":[]}],"location-end":"56:60","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"56:11","values":[]}],"location-end":"56:62","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"56:11","values":[]},{"children":[{"text":"auth","location-start":"56:67","location-end":"56:70","values":[]},{"text":"uid","location-start":"56:72","location-end":"56:74","values":[]}],"location-end":"56:74","text":"auth.uid","location-start":"56:67","values":[]}],"location-end":"56:74","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"56:11","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"57:10","location-end":"57:13","values":[]},{"text":"child","location-start":"57:15","location-end":"57:19","values":[]}],"location-end":"57:19","text":"root.child","location-start":"57:10","values":[]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"57:21","location-end":"57:39","values":[]},{"text":"$courseKey","location-start":"57:43","location-end":"57:52","values":[]}],"location-end":"57:52","text":"'courseAssistants/' + $courseKey","location-start":"57:21","values":[]},{"text":"'/'","location-start":"57:56","location-end":"57:58","values":[]}],"location-end":"57:58","text":"'courseAssistants/' + $courseKey + '/'","location-start":"57:21","values":[]},{"children":[{"text":"auth","location-start":"57:62","location-end":"57:65","values":[]},{"text":"uid","location-start":"57:67","location-end":"57:69","values":[]}],"location-end":"57:69","text":"auth.uid","location-start":"57:62","values":[]}],"location-end":"57:69","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"57:21","values":[]}],"location-end":"57:70","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"57:10","values":[]},{"text":"exists","location-start":"57:72","location-end":"57:77","values":[]}],"location-end":"57:77","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"57:10","values":[]}],"location-end":"57:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"57:10","values":[]}],"location-end":"57:79","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"56:11","values":[]}],"location-end":"57:80","text":"root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"55:35","values":[{"value":false,"count":2}]}],"location-end":"57:80","text":"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"55:19","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"51:18","location-end":"51:21","values":[{"value":"hash@90957236","count":1}]},{"text":"null","location-start":"51:26","location-end":"51:29","values":[{"value":null,"count":1}]}],"location-end":"51:29","text":"auth != null","location-start":"51:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"51:34","location-end":"51:37","values":[{"value":"hash@-581759003","count":1}]},{"text":"child","location-start":"51:39","location-end":"51:43","values":[{"value":"child","count":1}]}],"location-end":"51:43","text":"root.child","location-start":"51:34","values":[{"value":"hash@1984806879","count":1}]},{"children":[{"text":"'courses/'","location-start":"51:45","location-end":"51:54","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"51:58","location-end":"51:67","values":[{"value":"someNode","count":1}]}],"location-end":"51:67","text":"'courses/' + $courseKey","location-start":"51:45","values":[{"value":"courses/someNode","count":1}]}],"location-end":"51:68","text":"root.child('courses/' + $courseKey)","location-start":"51:34","values":[{"value":"hash@-1870388801","count":1}]},{"text":"exists","location-start":"51:70","location-end":"51:75","values":[{"value":"exists","count":1}]}],"location-end":"51:75","text":"root.child('courses/' + $courseKey).exists","location-start":"51:34","values":[{"value":"hash@1538852080","count":1}]}],"location-end":"51:77","text":"root.child('courses/' + $courseKey).exists()","location-start":"51:34","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"52:11","location-end":"52:14","values":[]},{"text":"child","location-start":"52:16","location-end":"52:20","values":[]}],"location-end":"52:20","text":"root.child","location-start":"52:11","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"52:22","location-end":"52:31","values":[]},{"text":"$courseKey","location-start":"52:35","location-end":"52:44","values":[]}],"location-end":"52:44","text":"'courses/' + $courseKey","location-start":"52:22","values":[]},{"text":"'/owner'","location-start":"52:48","location-end":"52:55","values":[]}],"location-end":"52:55","text":"'courses/' + $courseKey + '/owner'","location-start":"52:22","values":[]}],"location-end":"52:56","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"52:11","values":[]},{"text":"val","location-start":"52:58","location-end":"52:60","values":[]}],"location-end":"52:60","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"52:11","values":[]}],"location-end":"52:62","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"52:11","values":[]},{"children":[{"text":"auth","location-start":"52:67","location-end":"52:70","values":[]},{"text":"uid","location-start":"52:72","location-end":"52:74","values":[]}],"location-end":"52:74","text":"auth.uid","location-start":"52:67","values":[]}],"location-end":"52:74","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"52:11","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"53:11","location-end":"53:14","values":[]},{"text":"child","location-start":"53:16","location-end":"53:20","values":[]}],"location-end":"53:20","text":"root.child","location-start":"53:11","values":[]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"53:22","location-end":"53:37","values":[]},{"text":"$courseKey","location-start":"53:41","location-end":"53:50","values":[]}],"location-end":"53:50","text":"'courseMembers/' + $courseKey","location-start":"53:22","values":[]},{"text":"'/'","location-start":"53:54","location-end":"53:56","values":[]}],"location-end":"53:56","text":"'courseMembers/' + $courseKey + '/'","location-start":"53:22","values":[]},{"children":[{"text":"auth","location-start":"53:60","location-end":"53:63","values":[]},{"text":"uid","location-start":"53:65","location-end":"53:67","values":[]}],"location-end":"53:67","text":"auth.uid","location-start":"53:60","values":[]}],"location-end":"53:67","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"53:22","values":[]}],"location-end":"53:68","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"53:11","values":[]},{"text":"exists","location-start":"53:70","location-end":"53:75","values":[]}],"location-end":"53:75","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"53:11","values":[]}],"location-end":"53:77","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"53:11","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"54:11","location-end":"54:14","values":[]},{"text":"child","location-start":"54:16","location-end":"54:20","values":[]}],"location-end":"54:20","text":"root.child","location-start":"54:11","values":[]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"54:22","location-end":"54:40","values":[]},{"text":"$courseKey","location-start":"54:44","location-end":"54:53","values":[]}],"location-end":"54:53","text":"'courseAssistants/' + $courseKey","location-start":"54:22","values":[]},{"text":"'/'","location-start":"54:57","location-end":"54:59","values":[]}],"location-end":"54:59","text":"'courseAssistants/' + $courseKey + '/'","location-start":"54:22","values":[]},{"children":[{"text":"auth","location-start":"54:63","location-end":"54:66","values":[]},{"text":"uid","location-start":"54:68","location-end":"54:70","values":[]}],"location-end":"54:70","text":"auth.uid","location-start":"54:63","values":[]}],"location-end":"54:70","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"54:22","values":[]}],"location-end":"54:71","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"54:11","values":[]},{"text":"exists","location-start":"54:73","location-end":"54:78","values":[]}],"location-end":"54:78","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"54:11","values":[]}],"location-end":"54:80","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"54:11","values":[]}],"location-end":"54:80","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"53:11","values":[]}],"location-end":"54:80","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"52:11","values":[]}],"location-end":"54:81","text":"root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"51:34","values":[{"value":false,"count":1}]}],"location-end":"54:81","text":"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"51:18","values":[{"value":false,"count":1}]}}},"logged_events":{".write":{"children":[{"children":[{"text":"auth","location-start":"251:17","location-end":"251:20","values":[{"value":"hash@1039899172","count":2},{"value":"hash@2135718385","count":1}]},{"text":"null","location-start":"251:25","location-end":"251:28","values":[{"value":null,"count":3}]}],"location-end":"251:28","text":"auth != null","location-start":"251:17","values":[{"value":false,"count":2},{"value":true,"count":1}]},{"children":[{"children":[{"text":"newData","location-start":"251:33","location-end":"251:39","values":[{"value":"hash@1404919202","count":1}]},{"text":"exists","location-start":"251:41","location-end":"251:46","values":[{"value":"exists","count":1}]}],"location-end":"251:46","text":"newData.exists","location-start":"251:33","values":[{"value":"hash@462519715","count":1}]}],"location-end":"251:48","text":"newData.exists()","location-start":"251:33","values":[{"value":true,"count":1}]}],"location-end":"251:48","text":"auth != null && newData.exists()","location-start":"251:17","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"children":[{"text":"auth","location-start":"250:16","location-end":"250:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@422598599","count":1}]},{"text":"null","location-start":"250:24","location-end":"250:27","values":[{"value":null,"count":2}]}],"location-end":"250:27","text":"auth != null","location-start":"250:16","values":[{"value":false,"count":1},{"value":true,"count":1}]}},"visibleSolutions":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"424:10","location-end":"424:13","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1644617562","count":1},{"value":"hash@2028329849","count":1}]},{"text":"null","location-start":"424:18","location-end":"424:21","values":[{"value":null,"count":3}]}],"location-end":"424:21","text":"auth != null","location-start":"424:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"425:12","location-end":"425:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"425:17","location-end":"425:21","values":[{"value":"child","count":2}]}],"location-end":"425:21","text":"root.child","location-start":"425:12","values":[{"value":"hash@145333335","count":1},{"value":"hash@993371446","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"425:23","location-end":"425:32","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"425:36","location-end":"425:45","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"425:45","text":"'courses/' + $courseKey","location-start":"425:23","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"425:49","location-end":"425:56","values":[{"value":"/owner","count":2}]}],"location-end":"425:56","text":"'courses/' + $courseKey + '/owner'","location-start":"425:23","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"425:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"425:12","values":[{"value":"hash@1224711208","count":1},{"value":"hash@879583699","count":1}]},{"text":"val","location-start":"425:59","location-end":"425:61","values":[{"value":"val","count":2}]}],"location-end":"425:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"425:12","values":[{"value":"hash@976688889","count":1},{"value":"hash@100378314","count":1}]}],"location-end":"425:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"425:12","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"425:68","location-end":"425:71","values":[{"value":"hash@1644617562","count":1},{"value":"hash@2028329849","count":1}]},{"text":"uid","location-start":"425:73","location-end":"425:75","values":[{"value":"uid","count":2}]}],"location-end":"425:75","text":"auth.uid","location-start":"425:68","values":[{"value":"alice","count":2}]}],"location-end":"425:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"425:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"426:12","location-end":"426:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"426:17","location-end":"426:21","values":[{"value":"child","count":2}]}],"location-end":"426:21","text":"root.child","location-start":"426:12","values":[{"value":"hash@1112167557","count":1},{"value":"hash@1502186503","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"426:23","location-end":"426:41","values":[{"value":"courseAssistants/","count":2}]},{"text":"$courseKey","location-start":"426:45","location-end":"426:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"426:54","text":"'courseAssistants/' + $courseKey","location-start":"426:23","values":[{"value":"courseAssistants/someRandomChildNode","count":1},{"value":"courseAssistants/alice","count":1}]},{"text":"'/'","location-start":"426:58","location-end":"426:60","values":[{"value":"/","count":2}]}],"location-end":"426:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"426:23","values":[{"value":"courseAssistants/someRandomChildNode/","count":1},{"value":"courseAssistants/alice/","count":1}]},{"children":[{"text":"auth","location-start":"426:64","location-end":"426:67","values":[{"value":"hash@1644617562","count":1},{"value":"hash@2028329849","count":1}]},{"text":"uid","location-start":"426:69","location-end":"426:71","values":[{"value":"uid","count":2}]}],"location-end":"426:71","text":"auth.uid","location-start":"426:64","values":[{"value":"alice","count":2}]}],"location-end":"426:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"426:23","values":[{"value":"courseAssistants/someRandomChildNode/alice","count":1},{"value":"courseAssistants/alice/alice","count":1}]}],"location-end":"426:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"426:12","values":[{"value":"hash@518644954","count":1},{"value":"hash@-1554069086","count":1}]},{"text":"exists","location-start":"426:74","location-end":"426:79","values":[{"value":"exists","count":2}]}],"location-end":"426:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"426:12","values":[{"value":"hash@375566233","count":1},{"value":"hash@266451548","count":1}]}],"location-end":"426:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"426:12","values":[{"value":false,"count":2}]}],"location-end":"426:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"425:12","values":[{"value":false,"count":2}]}],"location-end":"427:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"424:10","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"418:18","location-end":"418:21","values":[{"value":"hash@1058235100","count":1}]},{"text":"null","location-start":"418:26","location-end":"418:29","values":[{"value":null,"count":1}]}],"location-end":"418:29","text":"auth != null","location-start":"418:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"419:11","location-end":"419:14","values":[{"value":"hash@1361841253","count":1}]},{"text":"child","location-start":"419:16","location-end":"419:20","values":[{"value":"child","count":1}]}],"location-end":"419:20","text":"root.child","location-start":"419:11","values":[{"value":"hash@1788394908","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"419:22","location-end":"419:37","values":[{"value":"courseMembers/","count":1}]},{"text":"$courseKey","location-start":"419:41","location-end":"419:50","values":[{"value":"someNode","count":1}]}],"location-end":"419:50","text":"'courseMembers/' + $courseKey","location-start":"419:22","values":[{"value":"courseMembers/someNode","count":1}]},{"text":"'/'","location-start":"419:54","location-end":"419:56","values":[{"value":"/","count":1}]}],"location-end":"419:56","text":"'courseMembers/' + $courseKey + '/'","location-start":"419:22","values":[{"value":"courseMembers/someNode/","count":1}]},{"children":[{"text":"auth","location-start":"419:60","location-end":"419:63","values":[{"value":"hash@1058235100","count":1}]},{"text":"uid","location-start":"419:65","location-end":"419:67","values":[{"value":"uid","count":1}]}],"location-end":"419:67","text":"auth.uid","location-start":"419:60","values":[{"value":"alice","count":1}]}],"location-end":"419:67","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"419:22","values":[{"value":"courseMembers/someNode/alice","count":1}]}],"location-end":"419:68","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"419:11","values":[{"value":"hash@2070867602","count":1}]},{"text":"exists","location-start":"419:70","location-end":"419:75","values":[{"value":"exists","count":1}]}],"location-end":"419:75","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"419:11","values":[{"value":"hash@1495583406","count":1}]}],"location-end":"419:77","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"419:11","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"420:10","location-end":"420:13","values":[{"value":"hash@1361841253","count":1}]},{"text":"child","location-start":"420:15","location-end":"420:19","values":[{"value":"child","count":1}]}],"location-end":"420:19","text":"root.child","location-start":"420:10","values":[{"value":"hash@2105886420","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"420:21","location-end":"420:30","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"420:34","location-end":"420:43","values":[{"value":"someNode","count":1}]}],"location-end":"420:43","text":"'courses/' + $courseKey","location-start":"420:21","values":[{"value":"courses/someNode","count":1}]},{"text":"'/owner'","location-start":"420:47","location-end":"420:54","values":[{"value":"/owner","count":1}]}],"location-end":"420:54","text":"'courses/' + $courseKey + '/owner'","location-start":"420:21","values":[{"value":"courses/someNode/owner","count":1}]}],"location-end":"420:55","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"420:10","values":[{"value":"hash@-809417454","count":1}]},{"text":"val","location-start":"420:57","location-end":"420:59","values":[{"value":"val","count":1}]}],"location-end":"420:59","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"420:10","values":[{"value":"hash@1725722552","count":1}]}],"location-end":"420:61","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"420:10","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"420:66","location-end":"420:69","values":[{"value":"hash@1058235100","count":1}]},{"text":"uid","location-start":"420:71","location-end":"420:73","values":[{"value":"uid","count":1}]}],"location-end":"420:73","text":"auth.uid","location-start":"420:66","values":[{"value":"alice","count":1}]}],"location-end":"420:73","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"420:10","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"421:10","location-end":"421:13","values":[{"value":"hash@1361841253","count":1}]},{"text":"child","location-start":"421:15","location-end":"421:19","values":[{"value":"child","count":1}]}],"location-end":"421:19","text":"root.child","location-start":"421:10","values":[{"value":"hash@1233603234","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"421:21","location-end":"421:39","values":[{"value":"courseAssistants/","count":1}]},{"text":"$courseKey","location-start":"421:43","location-end":"421:52","values":[{"value":"someNode","count":1}]}],"location-end":"421:52","text":"'courseAssistants/' + $courseKey","location-start":"421:21","values":[{"value":"courseAssistants/someNode","count":1}]},{"text":"'/'","location-start":"421:56","location-end":"421:58","values":[{"value":"/","count":1}]}],"location-end":"421:58","text":"'courseAssistants/' + $courseKey + '/'","location-start":"421:21","values":[{"value":"courseAssistants/someNode/","count":1}]},{"children":[{"text":"auth","location-start":"421:62","location-end":"421:65","values":[{"value":"hash@1058235100","count":1}]},{"text":"uid","location-start":"421:67","location-end":"421:69","values":[{"value":"uid","count":1}]}],"location-end":"421:69","text":"auth.uid","location-start":"421:62","values":[{"value":"alice","count":1}]}],"location-end":"421:69","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"421:21","values":[{"value":"courseAssistants/someNode/alice","count":1}]}],"location-end":"421:70","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"421:10","values":[{"value":"hash@-1147269044","count":1}]},{"text":"exists","location-start":"421:72","location-end":"421:77","values":[{"value":"exists","count":1}]}],"location-end":"421:77","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"421:10","values":[{"value":"hash@914983046","count":1}]}],"location-end":"421:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"421:10","values":[{"value":false,"count":1}]}],"location-end":"421:79","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"420:10","values":[{"value":false,"count":1}]}],"location-end":"421:79","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"419:11","values":[{"value":false,"count":1}]}],"location-end":"421:81","text":"auth != null  &&\n          (root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists() )","location-start":"418:18","values":[{"value":false,"count":1}]}}},"problemSolutions":{"$activityKey":{".read":{"children":[{"text":"auth","location-start":"290:18","location-end":"290:21","values":[{"value":"hash@1288256416","count":1}]},{"text":"null","location-start":"290:26","location-end":"290:29","values":[{"value":null,"count":1}]}],"location-end":"290:29","text":"auth != null","location-start":"290:18","values":[{"value":true,"count":1}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"293:21","location-end":"293:24","values":[]},{"text":"null","location-start":"293:29","location-end":"293:32","values":[]}],"location-end":"293:32","text":"auth != null","location-start":"293:21","values":[]},{"children":[{"children":[{"text":"auth","location-start":"293:37","location-end":"293:40","values":[]},{"text":"uid","location-start":"293:42","location-end":"293:44","values":[]}],"location-end":"293:44","text":"auth.uid","location-start":"293:37","values":[]},{"text":"$userKey","location-start":"293:49","location-end":"293:56","values":[]}],"location-end":"293:56","text":"auth.uid == $userKey","location-start":"293:37","values":[]}],"location-end":"293:56","text":"auth != null && auth.uid == $userKey","location-start":"293:21","values":[]},".read":{"children":[{"text":"auth","location-start":"292:20","location-end":"292:23","values":[]},{"text":"null","location-start":"292:28","location-end":"292:31","values":[]}],"location-end":"292:31","text":"auth != null","location-start":"292:20","values":[]}}}},"jupyterSolutionAnalysisQueue":{"responses":{"$taskKey":{".write":{"children":[{"children":[{"children":[{"text":"newData","location-start":"225:22","location-end":"225:28","values":[]},{"text":"exists","location-start":"225:30","location-end":"225:35","values":[]}],"location-end":"225:35","text":"newData.exists","location-start":"225:22","values":[]}],"location-end":"225:37","text":"newData.exists()","location-start":"225:22","values":[]}],"location-end":"225:37","text":"!newData.exists()","location-start":"225:21","values":[]},".read":{"children":[{"text":"auth","location-start":"224:20","location-end":"224:23","values":[]},{"text":"null","location-start":"224:28","location-end":"224:31","values":[]}],"location-end":"224:31","text":"auth != null","location-start":"224:20","values":[]}}},"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"231:21","location-end":"231:24","values":[]},{"text":"null","location-start":"231:29","location-end":"231:32","values":[]}],"location-end":"231:32","text":"auth != null","location-start":"231:21","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"231:37","location-end":"231:43","values":[]},{"text":"child","location-start":"231:45","location-end":"231:49","values":[]}],"location-end":"231:49","text":"newData.child","location-start":"231:37","values":[]},{"text":"'owner'","location-start":"231:51","location-end":"231:57","values":[]}],"location-end":"231:58","text":"newData.child('owner')","location-start":"231:37","values":[]},{"text":"val","location-start":"231:60","location-end":"231:62","values":[]}],"location-end":"231:62","text":"newData.child('owner').val","location-start":"231:37","values":[]}],"location-end":"231:64","text":"newData.child('owner').val()","location-start":"231:37","values":[]},{"children":[{"text":"auth","location-start":"231:69","location-end":"231:72","values":[]},{"text":"uid","location-start":"231:74","location-end":"231:76","values":[]}],"location-end":"231:76","text":"auth.uid","location-start":"231:69","values":[]}],"location-end":"231:76","text":"newData.child('owner').val() == auth.uid","location-start":"231:37","values":[]}],"location-end":"231:76","text":"auth != null && newData.child('owner').val() == auth.uid","location-start":"231:21","values":[]}}}},"userAchievements":{".read":{"children":[{"text":"auth","location-start":"386:16","location-end":"386:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@662397762","count":1}]},{"text":"null","location-start":"386:24","location-end":"386:27","values":[{"value":null,"count":2}]}],"location-end":"386:27","text":"auth != null","location-start":"386:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"388:19","location-end":"388:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1126998998","count":1},{"value":"hash@568789692","count":1}]},{"text":"null","location-start":"388:27","location-end":"388:30","values":[{"value":null,"count":3}]}],"location-end":"388:30","text":"auth != null","location-start":"388:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"388:35","location-end":"388:38","values":[{"value":"hash@1126998998","count":1},{"value":"hash@568789692","count":1}]},{"text":"uid","location-start":"388:40","location-end":"388:42","values":[{"value":"uid","count":2}]}],"location-end":"388:42","text":"auth.uid","location-start":"388:35","values":[{"value":"alice","count":2}]},{"text":"$userKey","location-start":"388:47","location-end":"388:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"388:54","text":"auth.uid == $userKey","location-start":"388:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"388:54","text":"auth != null && auth.uid == $userKey","location-start":"388:19","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"children":[{"text":"auth","location-start":"389:18","location-end":"389:21","values":[]},{"text":"null","location-start":"389:26","location-end":"389:29","values":[]}],"location-end":"389:29","text":"auth != null","location-start":"389:18","values":[]},"CodeCombat":{"achievements":{"$achievementId":{".validate":{"text":"false","location-start":"393:27","location-end":"393:31","values":[]}}}}}},"courseAssistants":{".read":{"children":[{"children":[{"text":"auth","location-start":"157:16","location-end":"157:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1473106088","count":1}]},{"text":"uid","location-start":"157:21","location-end":"157:23","values":[{"value":"uid","count":2}]}],"location-end":"157:23","text":"auth.uid","location-start":"157:16","values":[{"value":"hash@1039899172","count":1},{"value":"alice","count":1}]},{"text":"null","location-start":"157:28","location-end":"157:31","values":[{"value":null,"count":2}]}],"location-end":"157:31","text":"auth.uid != null","location-start":"157:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"160:19","location-end":"160:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1132238158","count":1},{"value":"hash@1783474517","count":1}]},{"text":"null","location-start":"160:27","location-end":"160:30","values":[{"value":null,"count":3}]}],"location-end":"160:30","text":"auth != null","location-start":"160:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"160:35","location-end":"160:38","values":[{"value":"hash@1132238158","count":1},{"value":"hash@1783474517","count":1}]},{"text":"uid","location-start":"160:40","location-end":"160:42","values":[{"value":"uid","count":2}]}],"location-end":"160:42","text":"auth.uid","location-start":"160:35","values":[{"value":"alice","count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"160:47","location-end":"160:50","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"160:52","location-end":"160:56","values":[{"value":"child","count":2}]}],"location-end":"160:56","text":"root.child","location-start":"160:47","values":[{"value":"hash@1474001157","count":1},{"value":"hash@135877566","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"160:58","location-end":"160:67","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"160:71","location-end":"160:80","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"160:80","text":"'courses/' + $courseKey","location-start":"160:58","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"160:84","location-end":"160:91","values":[{"value":"/owner","count":2}]}],"location-end":"160:91","text":"'courses/' + $courseKey + '/owner'","location-start":"160:58","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"160:92","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"160:47","values":[{"value":"hash@1224711208","count":1},{"value":"hash@879583699","count":1}]},{"text":"val","location-start":"160:94","location-end":"160:96","values":[{"value":"val","count":2}]}],"location-end":"160:96","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"160:47","values":[{"value":"hash@192500815","count":1},{"value":"hash@2073147126","count":1}]}],"location-end":"160:98","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"160:47","values":[{"value":null,"count":2}]}],"location-end":"160:98","text":"auth.uid == root.child('courses/' + $courseKey + '/owner').val()","location-start":"160:35","values":[{"value":false,"count":2}]}],"location-end":"160:98","text":"auth != null && auth.uid == root.child('courses/' + $courseKey + '/owner').val()","location-start":"160:19","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"159:18","location-end":"159:21","values":[]},{"text":"null","location-start":"159:26","location-end":"159:29","values":[]}],"location-end":"159:29","text":"auth != null","location-start":"159:18","values":[]}}},"courseMembers":{".read":{"children":[{"text":"auth","location-start":"128:16","location-end":"128:19","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1174995251","count":1}]},{"text":"null","location-start":"128:24","location-end":"128:27","values":[{"value":null,"count":2}]}],"location-end":"128:27","text":"auth != null","location-start":"128:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"131:10","location-end":"131:13","values":[{"value":"hash@1039899172","count":1},{"value":"hash@272892240","count":1},{"value":"hash@1526674224","count":1}]},{"text":"null","location-start":"131:18","location-end":"131:21","values":[{"value":null,"count":3}]}],"location-end":"131:21","text":"auth != null","location-start":"131:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"132:12","location-end":"132:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"132:17","location-end":"132:21","values":[{"value":"child","count":2}]}],"location-end":"132:21","text":"root.child","location-start":"132:12","values":[{"value":"hash@903646499","count":1},{"value":"hash@1577008699","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"132:23","location-end":"132:32","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"132:36","location-end":"132:45","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"132:45","text":"'courses/' + $courseKey","location-start":"132:23","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"132:49","location-end":"132:56","values":[{"value":"/owner","count":2}]}],"location-end":"132:56","text":"'courses/' + $courseKey + '/owner'","location-start":"132:23","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"132:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"132:12","values":[{"value":"hash@1224711208","count":1},{"value":"hash@879583699","count":1}]},{"text":"val","location-start":"132:59","location-end":"132:61","values":[{"value":"val","count":2}]}],"location-end":"132:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"132:12","values":[{"value":"hash@1342659758","count":1},{"value":"hash@532222617","count":1}]}],"location-end":"132:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"132:12","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"132:68","location-end":"132:71","values":[{"value":"hash@272892240","count":1},{"value":"hash@1526674224","count":1}]},{"text":"uid","location-start":"132:73","location-end":"132:75","values":[{"value":"uid","count":2}]}],"location-end":"132:75","text":"auth.uid","location-start":"132:68","values":[{"value":"alice","count":2}]}],"location-end":"132:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"132:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"133:12","location-end":"133:15","values":[{"value":"hash@16556906","count":2}]},{"text":"child","location-start":"133:17","location-end":"133:21","values":[{"value":"child","count":2}]}],"location-end":"133:21","text":"root.child","location-start":"133:12","values":[{"value":"hash@909252985","count":1},{"value":"hash@1776886174","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"133:23","location-end":"133:41","values":[{"value":"courseAssistants/","count":2}]},{"text":"$courseKey","location-start":"133:45","location-end":"133:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"133:54","text":"'courseAssistants/' + $courseKey","location-start":"133:23","values":[{"value":"courseAssistants/someRandomChildNode","count":1},{"value":"courseAssistants/alice","count":1}]},{"text":"'/'","location-start":"133:58","location-end":"133:60","values":[{"value":"/","count":2}]}],"location-end":"133:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"133:23","values":[{"value":"courseAssistants/someRandomChildNode/","count":1},{"value":"courseAssistants/alice/","count":1}]},{"children":[{"text":"auth","location-start":"133:64","location-end":"133:67","values":[{"value":"hash@272892240","count":1},{"value":"hash@1526674224","count":1}]},{"text":"uid","location-start":"133:69","location-end":"133:71","values":[{"value":"uid","count":2}]}],"location-end":"133:71","text":"auth.uid","location-start":"133:64","values":[{"value":"alice","count":2}]}],"location-end":"133:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"133:23","values":[{"value":"courseAssistants/someRandomChildNode/alice","count":1},{"value":"courseAssistants/alice/alice","count":1}]}],"location-end":"133:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"133:12","values":[{"value":"hash@518644954","count":1},{"value":"hash@-1554069086","count":1}]},{"text":"exists","location-start":"133:74","location-end":"133:79","values":[{"value":"exists","count":2}]}],"location-end":"133:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"133:12","values":[{"value":"hash@105697390","count":1},{"value":"hash@1244457248","count":1}]}],"location-end":"133:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"133:12","values":[{"value":false,"count":2}]}],"location-end":"133:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"132:12","values":[{"value":false,"count":2}]}],"location-end":"134:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"131:10","values":[{"value":false,"count":3}]},"$studentKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"138:12","location-end":"138:15","values":[]},{"text":"null","location-start":"138:20","location-end":"138:23","values":[]}],"location-end":"138:23","text":"auth != null","location-start":"138:12","values":[]},{"children":[{"children":[{"text":"$studentKey","location-start":"139:12","location-end":"139:22","values":[]},{"children":[{"text":"auth","location-start":"139:27","location-end":"139:30","values":[]},{"text":"uid","location-start":"139:32","location-end":"139:34","values":[]}],"location-end":"139:34","text":"auth.uid","location-start":"139:27","values":[]}],"location-end":"139:34","text":"$studentKey == auth.uid","location-start":"139:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"140:12","location-end":"140:15","values":[]},{"text":"child","location-start":"140:17","location-end":"140:21","values":[]}],"location-end":"140:21","text":"root.child","location-start":"140:12","values":[]},{"children":[{"text":"'studentCoursePasswords/'","location-start":"140:23","location-end":"140:47","values":[]},{"text":"$courseKey","location-start":"140:51","location-end":"140:60","values":[]}],"location-end":"140:60","text":"'studentCoursePasswords/' + $courseKey","location-start":"140:23","values":[]}],"location-end":"140:61","text":"root.child('studentCoursePasswords/' + $courseKey)","location-start":"140:12","values":[]},{"text":"exists","location-start":"140:63","location-end":"140:68","values":[]}],"location-end":"140:68","text":"root.child('studentCoursePasswords/' + $courseKey).exists","location-start":"140:12","values":[]}],"location-end":"140:70","text":"root.child('studentCoursePasswords/' + $courseKey).exists()","location-start":"140:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"141:12","location-end":"141:15","values":[]},{"text":"child","location-start":"141:17","location-end":"141:21","values":[]}],"location-end":"141:21","text":"root.child","location-start":"141:12","values":[]},{"children":[{"children":[{"children":[{"text":"'studentCoursePasswords/'","location-start":"141:23","location-end":"141:47","values":[]},{"text":"$courseKey","location-start":"141:51","location-end":"141:60","values":[]}],"location-end":"141:60","text":"'studentCoursePasswords/' + $courseKey","location-start":"141:23","values":[]},{"text":"'/'","location-start":"141:64","location-end":"141:66","values":[]}],"location-end":"141:66","text":"'studentCoursePasswords/' + $courseKey + '/'","location-start":"141:23","values":[]},{"text":"$studentKey","location-start":"141:70","location-end":"141:80","values":[]}],"location-end":"141:80","text":"'studentCoursePasswords/' + $courseKey + '/' + $studentKey","location-start":"141:23","values":[]}],"location-end":"141:81","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey)","location-start":"141:12","values":[]},{"text":"exists","location-start":"141:83","location-end":"141:88","values":[]}],"location-end":"141:88","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists","location-start":"141:12","values":[]}],"location-end":"141:90","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"141:12","values":[]}],"location-end":"141:90","text":"root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"140:12","values":[]}],"location-end":"141:90","text":"$studentKey == auth.uid &&\n            root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"139:12","values":[]}],"location-end":"141:90","text":"auth != null &&\n            $studentKey == auth.uid &&\n            root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"138:12","values":[]}}}},"fetchGithubFilesQueue":{"responses":{"$taskKey":{".write":{"children":[{"children":[{"children":[{"text":"newData","location-start":"239:22","location-end":"239:28","values":[]},{"text":"exists","location-start":"239:30","location-end":"239:35","values":[]}],"location-end":"239:35","text":"newData.exists","location-start":"239:22","values":[]}],"location-end":"239:37","text":"newData.exists()","location-start":"239:22","values":[]}],"location-end":"239:37","text":"!newData.exists()","location-start":"239:21","values":[]},".read":{"children":[{"text":"auth","location-start":"238:20","location-end":"238:23","values":[]},{"text":"null","location-start":"238:28","location-end":"238:31","values":[]}],"location-end":"238:31","text":"auth != null","location-start":"238:20","values":[]}}},"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"245:21","location-end":"245:24","values":[]},{"text":"null","location-start":"245:29","location-end":"245:32","values":[]}],"location-end":"245:32","text":"auth != null","location-start":"245:21","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"245:37","location-end":"245:43","values":[]},{"text":"child","location-start":"245:45","location-end":"245:49","values":[]}],"location-end":"245:49","text":"newData.child","location-start":"245:37","values":[]},{"text":"'owner'","location-start":"245:51","location-end":"245:57","values":[]}],"location-end":"245:58","text":"newData.child('owner')","location-start":"245:37","values":[]},{"text":"val","location-start":"245:60","location-end":"245:62","values":[]}],"location-end":"245:62","text":"newData.child('owner').val","location-start":"245:37","values":[]}],"location-end":"245:64","text":"newData.child('owner').val()","location-start":"245:37","values":[]},{"children":[{"text":"auth","location-start":"245:69","location-end":"245:72","values":[]},{"text":"uid","location-start":"245:74","location-end":"245:76","values":[]}],"location-end":"245:76","text":"auth.uid","location-start":"245:69","values":[]}],"location-end":"245:76","text":"newData.child('owner').val() == auth.uid","location-start":"245:37","values":[]}],"location-end":"245:76","text":"auth != null && newData.child('owner').val() == auth.uid","location-start":"245:21","values":[]}}}},"userRecommendations":{"$userKey":{".read":{"children":[{"children":[{"text":"auth","location-start":"401:18","location-end":"401:21","values":[{"value":"hash@855883319","count":1}]},{"text":"null","location-start":"401:26","location-end":"401:29","values":[{"value":null,"count":1}]}],"location-end":"401:29","text":"auth != null","location-start":"401:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"text":"auth","location-start":"401:34","location-end":"401:37","values":[{"value":"hash@855883319","count":1}]},{"text":"uid","location-start":"401:39","location-end":"401:41","values":[{"value":"uid","count":1}]}],"location-end":"401:41","text":"auth.uid","location-start":"401:34","values":[{"value":"alice","count":1}]},{"text":"$userKey","location-start":"401:46","location-end":"401:53","values":[{"value":"someNode","count":1}]}],"location-end":"401:53","text":"auth.uid == $userKey","location-start":"401:34","values":[{"value":false,"count":1}]}],"location-end":"401:53","text":"auth != null && auth.uid == $userKey","location-start":"401:18","values":[{"value":false,"count":1}]}}},"cohortRecalculateQueue":{"$cohortKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"78:19","location-end":"78:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1482723748","count":1}]},{"text":"null","location-start":"78:27","location-end":"78:30","values":[{"value":null,"count":2}]}],"location-end":"78:30","text":"auth != null","location-start":"78:19","values":[{"value":false,"count":1},{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"78:35","location-end":"78:38","values":[{"value":"hash@16556906","count":1}]},{"text":"child","location-start":"78:40","location-end":"78:44","values":[{"value":"child","count":1}]}],"location-end":"78:44","text":"root.child","location-start":"78:35","values":[{"value":"hash@505901896","count":1}]},{"children":[{"text":"'/cohorts/'","location-start":"78:46","location-end":"78:56","values":[{"value":"/cohorts/","count":1}]},{"text":"$cohortKey","location-start":"78:60","location-end":"78:69","values":[{"value":"someRandomChildNode","count":1}]}],"location-end":"78:69","text":"'/cohorts/' + $cohortKey","location-start":"78:46","values":[{"value":"/cohorts/someRandomChildNode","count":1}]}],"location-end":"78:70","text":"root.child('/cohorts/' + $cohortKey)","location-start":"78:35","values":[{"value":"hash@-1951597063","count":1}]},{"text":"exists","location-start":"78:72","location-end":"78:77","values":[{"value":"exists","count":1}]}],"location-end":"78:77","text":"root.child('/cohorts/' + $cohortKey).exists","location-start":"78:35","values":[{"value":"hash@1093964127","count":1}]}],"location-end":"78:79","text":"root.child('/cohorts/' + $cohortKey).exists()","location-start":"78:35","values":[{"value":false,"count":1}]}],"location-end":"78:79","text":"auth != null && root.child('/cohorts/' + $cohortKey).exists()","location-start":"78:19","values":[{"value":false,"count":2}]},".read":{"children":[{"text":"auth","location-start":"77:18","location-end":"77:21","values":[{"value":"hash@756054204","count":1}]},{"text":"null","location-start":"77:26","location-end":"77:29","values":[{"value":null,"count":1}]}],"location-end":"77:29","text":"auth != null","location-start":"77:18","values":[{"value":true,"count":1}]}}},"coursePasswords":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"150:19","location-end":"150:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1349490252","count":1}]},{"text":"null","location-start":"150:27","location-end":"150:30","values":[{"value":null,"count":2}]}],"location-end":"150:30","text":"auth != null","location-start":"150:19","values":[{"value":false,"count":1},{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"151:11","location-end":"151:14","values":[{"value":"hash@16556906","count":1}]},{"text":"child","location-start":"151:16","location-end":"151:20","values":[{"value":"child","count":1}]}],"location-end":"151:20","text":"root.child","location-start":"151:11","values":[{"value":"hash@1083248312","count":1}]},{"children":[{"text":"'courses/'","location-start":"151:22","location-end":"151:31","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"151:35","location-end":"151:44","values":[{"value":"alice","count":1}]}],"location-end":"151:44","text":"'courses/' + $courseKey","location-start":"151:22","values":[{"value":"courses/alice","count":1}]}],"location-end":"151:45","text":"root.child('courses/' + $courseKey)","location-start":"151:11","values":[{"value":"hash@-121856491","count":1}]},{"text":"exists","location-start":"151:47","location-end":"151:52","values":[{"value":"exists","count":1}]}],"location-end":"151:52","text":"root.child('courses/' + $courseKey).exists","location-start":"151:11","values":[{"value":"hash@1124892500","count":1}]}],"location-end":"151:54","text":"root.child('courses/' + $courseKey).exists()","location-start":"151:11","values":[{"value":false,"count":1}]}],"location-end":"151:54","text":"!root.child('courses/' + $courseKey).exists()","location-start":"151:10","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"152:10","location-end":"152:13","values":[]},{"text":"child","location-start":"152:15","location-end":"152:19","values":[]}],"location-end":"152:19","text":"root.child","location-start":"152:10","values":[]},{"children":[{"text":"'courses/'","location-start":"152:21","location-end":"152:30","values":[]},{"text":"$courseKey","location-start":"152:34","location-end":"152:43","values":[]}],"location-end":"152:43","text":"'courses/' + $courseKey","location-start":"152:21","values":[]}],"location-end":"152:44","text":"root.child('courses/' + $courseKey)","location-start":"152:10","values":[]},{"text":"exists","location-start":"152:46","location-end":"152:51","values":[]}],"location-end":"152:51","text":"root.child('courses/' + $courseKey).exists","location-start":"152:10","values":[]}],"location-end":"152:53","text":"root.child('courses/' + $courseKey).exists()","location-start":"152:10","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"153:10","location-end":"153:13","values":[]},{"text":"child","location-start":"153:15","location-end":"153:19","values":[]}],"location-end":"153:19","text":"root.child","location-start":"153:10","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"153:21","location-end":"153:30","values":[]},{"text":"$courseKey","location-start":"153:34","location-end":"153:43","values":[]}],"location-end":"153:43","text":"'courses/' + $courseKey","location-start":"153:21","values":[]},{"text":"'/owner'","location-start":"153:47","location-end":"153:54","values":[]}],"location-end":"153:54","text":"'courses/' + $courseKey + '/owner'","location-start":"153:21","values":[]}],"location-end":"153:55","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"153:10","values":[]},{"text":"val","location-start":"153:57","location-end":"153:59","values":[]}],"location-end":"153:59","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"153:10","values":[]}],"location-end":"153:61","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"153:10","values":[]},{"children":[{"text":"auth","location-start":"153:66","location-end":"153:69","values":[]},{"text":"uid","location-start":"153:71","location-end":"153:73","values":[]}],"location-end":"153:73","text":"auth.uid","location-start":"153:66","values":[]}],"location-end":"153:73","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"153:10","values":[]}],"location-end":"153:73","text":"root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"152:10","values":[]}],"location-end":"153:73","text":"!root.child('courses/' + $courseKey).exists() ||\n          root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"151:10","values":[{"value":true,"count":1}]}],"location-end":"153:74","text":"auth != null && (\n          !root.child('courses/' + $courseKey).exists() ||\n          root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid)","location-start":"150:19","values":[{"value":false,"count":1},{"value":true,"count":1}]},".read":{"children":[{"children":[{"text":"auth","location-start":"148:18","location-end":"148:21","values":[{"value":"hash@824243272","count":1}]},{"text":"null","location-start":"148:26","location-end":"148:29","values":[{"value":null,"count":1}]}],"location-end":"148:29","text":"auth != null","location-start":"148:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"149:10","location-end":"149:13","values":[{"value":"hash@1865469924","count":1}]},{"text":"child","location-start":"149:15","location-end":"149:19","values":[{"value":"child","count":1}]}],"location-end":"149:19","text":"root.child","location-start":"149:10","values":[{"value":"hash@1835024118","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"149:21","location-end":"149:30","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"149:34","location-end":"149:43","values":[{"value":"someNode","count":1}]}],"location-end":"149:43","text":"'courses/' + $courseKey","location-start":"149:21","values":[{"value":"courses/someNode","count":1}]},{"text":"'/owner'","location-start":"149:47","location-end":"149:54","values":[{"value":"/owner","count":1}]}],"location-end":"149:54","text":"'courses/' + $courseKey + '/owner'","location-start":"149:21","values":[{"value":"courses/someNode/owner","count":1}]}],"location-end":"149:55","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"149:10","values":[{"value":"hash@-64018647","count":1}]},{"text":"val","location-start":"149:57","location-end":"149:59","values":[{"value":"val","count":1}]}],"location-end":"149:59","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"149:10","values":[{"value":"hash@153568516","count":1}]}],"location-end":"149:61","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"149:10","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"149:66","location-end":"149:69","values":[{"value":"hash@824243272","count":1}]},{"text":"uid","location-start":"149:71","location-end":"149:73","values":[{"value":"uid","count":1}]}],"location-end":"149:73","text":"auth.uid","location-start":"149:66","values":[{"value":"alice","count":1}]}],"location-end":"149:73","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"149:10","values":[{"value":false,"count":1}]}],"location-end":"149:73","text":"auth != null &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"148:18","values":[{"value":false,"count":1}]}}},"destinations":{".read":{"children":[{"text":"auth","location-start":"187:17","location-end":"187:20","values":[{"value":"hash@1039899172","count":1},{"value":"hash@914156992","count":1}]},{"text":"null","location-start":"187:25","location-end":"187:28","values":[{"value":null,"count":2}]}],"location-end":"187:28","text":"auth != null","location-start":"187:17","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$destinationKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"191:12","location-end":"191:15","values":[{"value":"hash@1039899172","count":1},{"value":"hash@984798003","count":1},{"value":"hash@1854277816","count":1}]},{"text":"null","location-start":"191:20","location-end":"191:23","values":[{"value":null,"count":3}]}],"location-end":"191:23","text":"auth != null","location-start":"191:12","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"194:16","location-end":"194:22","values":[{"value":"hash@1632662011","count":1},{"value":"hash@972874283","count":1}]},{"text":"exists","location-start":"194:24","location-end":"194:29","values":[{"value":"exists","count":2}]}],"location-end":"194:29","text":"newData.exists","location-start":"194:16","values":[{"value":"hash@308985180","count":1},{"value":"hash@431604059","count":1}]}],"location-end":"194:31","text":"newData.exists()","location-start":"194:16","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"195:16","location-end":"195:22","values":[{"value":"hash@1632662011","count":1},{"value":"hash@972874283","count":1}]},{"text":"child","location-start":"195:24","location-end":"195:28","values":[{"value":"child","count":2}]}],"location-end":"195:28","text":"newData.child","location-start":"195:16","values":[{"value":"hash@280792537","count":1},{"value":"hash@888229541","count":1}]},{"text":"'originator'","location-start":"195:30","location-end":"195:41","values":[{"value":"originator","count":2}]}],"location-end":"195:42","text":"newData.child('originator')","location-start":"195:16","values":[{"value":"hash@1010560950","count":1},{"value":"hash@1793868619","count":1}]},{"text":"exists","location-start":"195:44","location-end":"195:49","values":[{"value":"exists","count":2}]}],"location-end":"195:49","text":"newData.child('originator').exists","location-start":"195:16","values":[{"value":"hash@1577487971","count":1},{"value":"hash@878643591","count":1}]}],"location-end":"195:51","text":"newData.child('originator').exists()","location-start":"195:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"196:16","location-end":"196:22","values":[]},{"text":"child","location-start":"196:24","location-end":"196:28","values":[]}],"location-end":"196:28","text":"newData.child","location-start":"196:16","values":[]},{"text":"'originator'","location-start":"196:30","location-end":"196:41","values":[]}],"location-end":"196:42","text":"newData.child('originator')","location-start":"196:16","values":[]},{"text":"val","location-start":"196:44","location-end":"196:46","values":[]}],"location-end":"196:46","text":"newData.child('originator').val","location-start":"196:16","values":[]}],"location-end":"196:48","text":"newData.child('originator').val()","location-start":"196:16","values":[]},{"children":[{"text":"auth","location-start":"196:53","location-end":"196:56","values":[]},{"text":"uid","location-start":"196:58","location-end":"196:60","values":[]}],"location-end":"196:60","text":"auth.uid","location-start":"196:53","values":[]}],"location-end":"196:60","text":"newData.child('originator').val() == auth.uid","location-start":"196:16","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"198:19","location-end":"198:22","values":[]},{"text":"exists","location-start":"198:24","location-end":"198:29","values":[]}],"location-end":"198:29","text":"data.exists","location-start":"198:19","values":[]}],"location-end":"198:31","text":"data.exists()","location-start":"198:19","values":[]}],"location-end":"198:31","text":"!data.exists()","location-start":"198:18","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"199:20","location-end":"199:23","values":[]},{"text":"child","location-start":"199:25","location-end":"199:29","values":[]}],"location-end":"199:29","text":"data.child","location-start":"199:20","values":[]},{"text":"'originator'","location-start":"199:31","location-end":"199:42","values":[]}],"location-end":"199:43","text":"data.child('originator')","location-start":"199:20","values":[]},{"text":"val","location-start":"199:45","location-end":"199:47","values":[]}],"location-end":"199:47","text":"data.child('originator').val","location-start":"199:20","values":[]}],"location-end":"199:49","text":"data.child('originator').val()","location-start":"199:20","values":[]},{"children":[{"text":"auth","location-start":"199:54","location-end":"199:57","values":[]},{"text":"uid","location-start":"199:59","location-end":"199:61","values":[]}],"location-end":"199:61","text":"auth.uid","location-start":"199:54","values":[]}],"location-end":"199:61","text":"data.child('originator').val() == auth.uid","location-start":"199:20","values":[]}],"location-end":"199:62","text":"!data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)","location-start":"198:18","values":[]}],"location-end":"200:16","text":"newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )","location-start":"196:16","values":[]}],"location-end":"200:16","text":"newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )","location-start":"195:16","values":[{"value":false,"count":2}]}],"location-end":"200:16","text":"newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )","location-start":"194:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"202:16","location-end":"202:19","values":[{"value":"hash@1386952201","count":1},{"value":"hash@88426499","count":1}]},{"text":"exists","location-start":"202:21","location-end":"202:26","values":[{"value":"exists","count":2}]}],"location-end":"202:26","text":"data.exists","location-start":"202:16","values":[{"value":"hash@432101538","count":1},{"value":"hash@1664857422","count":1}]}],"location-end":"202:28","text":"data.exists()","location-start":"202:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"202:33","location-end":"202:36","values":[]},{"text":"child","location-start":"202:38","location-end":"202:42","values":[]}],"location-end":"202:42","text":"data.child","location-start":"202:33","values":[]},{"text":"'originator'","location-start":"202:44","location-end":"202:55","values":[]}],"location-end":"202:56","text":"data.child('originator')","location-start":"202:33","values":[]},{"text":"val","location-start":"202:58","location-end":"202:60","values":[]}],"location-end":"202:60","text":"data.child('originator').val","location-start":"202:33","values":[]}],"location-end":"202:62","text":"data.child('originator').val()","location-start":"202:33","values":[]},{"children":[{"text":"auth","location-start":"202:67","location-end":"202:70","values":[]},{"text":"uid","location-start":"202:72","location-end":"202:74","values":[]}],"location-end":"202:74","text":"auth.uid","location-start":"202:67","values":[]}],"location-end":"202:74","text":"data.child('originator').val() == auth.uid","location-start":"202:33","values":[]}],"location-end":"202:74","text":"data.exists() && data.child('originator').val() == auth.uid","location-start":"202:16","values":[{"value":false,"count":2}]}],"location-end":"203:14","text":"newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )\n              ) || (\n                data.exists() && data.child('originator').val() == auth.uid\n              )","location-start":"194:16","values":[{"value":false,"count":2}]}],"location-end":"204:12","text":"auth != null &&\n            (\n              (\n                newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )\n              ) || (\n                data.exists() && data.child('originator').val() == auth.uid\n              )\n            )","location-start":"191:12","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"189:19","location-end":"189:22","values":[]},{"text":"null","location-start":"189:27","location-end":"189:30","values":[]}],"location-end":"189:30","text":"auth != null","location-start":"189:19","values":[]}}},"completedActivities":{"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"114:19","location-end":"114:22","values":[{"value":"hash@1039899172","count":1},{"value":"hash@1282753739","count":1},{"value":"hash@319048950","count":1}]},{"text":"null","location-start":"114:27","location-end":"114:30","values":[{"value":null,"count":3}]}],"location-end":"114:30","text":"auth != null","location-start":"114:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"text":"$userKey","location-start":"114:35","location-end":"114:42","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]},{"children":[{"text":"auth","location-start":"114:47","location-end":"114:50","values":[{"value":"hash@1282753739","count":1},{"value":"hash@319048950","count":1}]},{"text":"uid","location-start":"114:52","location-end":"114:54","values":[{"value":"uid","count":2}]}],"location-end":"114:54","text":"auth.uid","location-start":"114:47","values":[{"value":"alice","count":2}]}],"location-end":"114:54","text":"$userKey == auth.uid","location-start":"114:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"114:54","text":"auth != null && $userKey == auth.uid","location-start":"114:19","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"text":"true","location-start":"113:17","location-end":"113:20","values":[{"value":true,"count":2}]}}},"blacklistActions":{".read":{"text":"true","location-start":"61:15","location-end":"61:18","values":[]}}}}

const REPORT_LIMIT_SIZE = 15

window.onload = function() {
  document.body.appendChild(buildFormattedReport(data.report, data.rules))
};

/**
 * Builds the html block with span elements for rule visualization.
 *
 * @param ruleBlock The report data with properly formatted expression blocks embedded.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @return A <pre> html element with <span></span> around expressions and subexpressions within
 *     .write, .read, and .validate tokens so that they can be selected.
 */
function buildFormattedReport(ruleBlock, fullRuleString) {
  const cumulativeLineCounts = calculateCumulativeLineCounts(data.rules)
  const elements = mapRuleBlock(ruleBlock, cumulativeLineCounts, fullRuleString)
  const withText = interpolateTextNodes(
    elements,
    fullRuleString,
    0,
    fullRuleString.length
  )
  var preElement = document.createElement('pre')
  withText.forEach((element) => preElement.appendChild(element.element))
  return preElement
}

/**
 * Traverses a rule block.
 *
 * A rule block is basically any json scope in the actual rules. The report data mirrors the
 * structure found in the raw rules but also adds more blocks in place of expressions
 * (.read, .write, .validate). When one of these keywords are encountered a different map function
 * is called.
 *
 * @param ruleBlock The current recursive chunk of rule data.
 * @param cumulativeLineCounts The line-count mapping used to convert rr:cc to a single index.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @return A list of objects with at least the keys location-start, location-end, and element where
 *    locations are in rr:cc format and element is an HTML element (text or span).
 */
function mapRuleBlock(ruleBlock, cumulativeLineCounts, fullRuleString) {
  return Object.keys(ruleBlock).map((key) => {
    if (['.write', '.read', '.validate'].indexOf(key) >= 0) {
      // Make array so we can flatten it with other returned values
      return [mapExpressionBlock(ruleBlock[key], cumulativeLineCounts, fullRuleString)]
    } else {
      return mapRuleBlock(ruleBlock[key], cumulativeLineCounts, fullRuleString)
    }
  }).reduce((acc, val) => acc.concat(val), [])
}

/**
 * Traverses an expression block.
 *
 * In the actual rules, an expression is a string following the .read, .write, .validate keywords.
 * The report data formats this as a json tree with subexpressions as children. These blocks
 * have to be handled seperately from rule blocks. Specifically, each expression needs to be wrapped
 * in a span and so it's children need to be immediately resolved so they can be added to the
 * element.
 *
 * @param expressionBlock The current recursive chunk of expression data.
 * @param cumulativeLineCounts The line-count mapping used to convert rr:cc to a single index.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @return A single object with at least the keys start, end, and element where
 *    locations are in rr:cc format and element is the span element for that [sub]expression. The
 *    span element should have all it's children already added.
 */
function mapExpressionBlock(expressionBlock, cumulativeLineCounts, fullRuleString) {
  const start = calculateCanonicalIndex(expressionBlock['location-start'], cumulativeLineCounts)
  const end = calculateCanonicalIndex(expressionBlock['location-end'], cumulativeLineCounts) + 1
  const onlyChildSpans = (expressionBlock.children || []).map(
    (child) => mapExpressionBlock(child, cumulativeLineCounts, fullRuleString)
  )
  const allChildren = interpolateTextNodes(
    onlyChildSpans,
    fullRuleString,
    start,
    end,
    true
  )
  var span = document.createElement('span')
  allChildren.forEach((child) => {
    span.appendChild(child.element)
  })
  span.classList.add('coverage-expr')
  span.title = buildValueString(expressionBlock.values);
  return {
    element: span,
    start: start,
    end: end
  }
}

/**
 * The formatted report data has information about where subexpression are located. It does not,
 * however, have information about text around these expressions. This function takes a formatted
 * list of spans (representing expressions) and puts surrounding text into text elements and
 * returns the list of all elements in that given text-area.
 *
 * @param objs the list of spans to have their bounds interpolated. Each element in the list should
 *    formatted with the keys start, end, and element.
 * @param cumulativeLineCounts The line-count mapping used to convert rr:cc to a single index.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @param optStart An optional start index (rr:cc) to start gathering text-elements from.
 * @param optEnd An optional end index (rr:cc) to finish gathering text-elements at.
 * @param whether to remove newlines from the text values.
 * @return An interpolated list with all indices from start to end of the fullRuleString being
 *    included in either a span or a text element.
 */
function interpolateTextNodes(objs, fullRuleString, start = null, end = null, removeNewLines = false) {
  // Arrays so null objects aren't appended (options)
  const expressionStart = start !== null ? [{'end': start}] : []
  const expressionEnd = end !== null ? [{'start': end}] : []
  const sortedInnerBlocks = (objs || []).sort((a, b) => (a['start'] - b['start']))
  const blocksWithBounds = [].concat(expressionStart, sortedInnerBlocks, expressionEnd)
  const interpolatedBlocks = blocksWithBounds.reduce((allChildren, child, idx) => {
    if (allChildren && allChildren.length) {
      const lastEnd = allChildren[allChildren.length - 1]['end']
      const thisStart = child['start']
      // This is an array so that we don't append null objects
      if (lastEnd < thisStart) {
        const text = fullRuleString.substring(lastEnd, thisStart)
        const textElement = [{
          element: document.createTextNode(removeNewLines ? text.replace(/\n\s*/g,' ') : text),
          'start': allChildren[allChildren.length - 1]['end'],
          'end': child['start']
        }]
        return allChildren.concat(textElement, child)
      }
    }
    return allChildren.concat(child)
  }, [])
  return interpolatedBlocks.filter(
    (child) => child['start'] !== undefined && child['end'] !== undefined
  )
}

/**
 * Builds an array where each index maps to the sum of all characters before that row in the string.
 * Rows are determined by newline.
 *
 * @param inputString The string to build the index for.
 * @return A list of cumulative row counts.
 */
function calculateCumulativeLineCounts(inputString) {
  // Add 1 at the end to account for lost \n from split.
  const accumulate = (acc, val) => acc.concat(val + (acc[acc.length - 1] || 0) + 1)
  // The first line has 0 characters before it.
  return inputString.split('\n').map((line) => line.length).reduce(accumulate, [0])
}

/**
 * Converts rr:cc to a single index on the full rule string.
 *
 * @param index The index formatted as rr:cc.
 * @param cumulativeLineCounts The helper data structure calculated in the previous method.
 * @return The canonical string index matching the rr:cc value.
 */
function calculateCanonicalIndex(index, cumulativeLineCounts) {
  if (typeof index !== 'string' || index.indexOf(':') <= 0) return null
  const lineNumber = parseInt(index.split(':')[0])
  const columnNumber = parseInt(index.split(':')[1])
  // column/rows are zero-indexed.
  return cumulativeLineCounts[lineNumber] + columnNumber
}

/**
 * Creates the mouse-over text for each span.
 *
 * @param values The array of value objects formatted as {value: **, count: **}.
 * @return A single string for the mouse-over text.
 */
function buildValueString(values) {
  if (values.length >= REPORT_LIMIT_SIZE) {
    const allCounts = values.reduce((acc, obj) => acc + obj.count, 0)
    return `${values.length} distinct items returned over ${allCounts} times`
  } else {
    return values.map(({value, count}) => {
      if (typeof value === 'string' && value.startsWith('hash')) {
        return `[object Object] returned ${count} time(s)`
      } else {
        return `Value '${value}' returned ${count} time(s)`
      }
    }).join('\n')
  }
}

</script>
<style>
  span[title=""] {
    background-color: yellow;
  }
  
.coverage-expr {
  padding-bottom: 4px;
  display: inline-block;
  border-bottom: 3px solid black;
  vertical-align: top;
}
.coverage-expr:hover {
  background-color: rgba(255, 100, 100, 0.2);
  cursor: default;
  border-bottom: 3px solid red;
}
</style>
