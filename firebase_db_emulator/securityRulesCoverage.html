<!DOCTYPE html>
<meta charset="utf-8">
<title>Firebase Rule Coverage Report</title>

<script>
const data = {"rules":"{\n  \"rules\": {\n    \"activities\": {\n      \".read\": \"auth != null || (\n          query.orderByChild == 'path' &&\n          root.child('/paths/' + query.equalTo + '/isPublic').val() == true\n        )\",\n      \".indexOn\": [\"path\"],\n      \"$activityKey\": {\n        \".read\": \"root.child('/paths/' + data.child('path').val() + '/isPublic').val() == true\",\n        \".write\": \"auth != null &&\n          !newData.exists() || (\n            newData.child('path').exists() &&\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )\n        \"\n      }\n    },\n    \"activityData\": {\n      \".read\": \"auth != null\",\n      \"$activityKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null &&\n          !newData.exists() || (\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )\n        \"\n      }\n    },\n    \"activityExampleSolutions\": {\n      \"$activityKey\": {\n      \".write\": \"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid\",\n      \".read\": \"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid\"\n      }\n    },\n    \"admins\": {\n      \".write\": false,\n      \"$userKey\": {\n        \".read\": \"auth != null\"\n      }\n    },\n    \"api_tokens\": {\n      \".read\": false,\n      \".write\": false\n    },\n    \"assignments\": {\n      \"$courseKey\": {\n        \".read\": \"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())\",\n        \".write\": \"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())\"\n      }\n    },\n    \"blacklistActions\": {\n      \".read\": true,\n      \".write\": false\n    },\n    \"cohortCourses\": {\n      \".read\": true,\n      \".write\": false,\n      \"$cohortKey\": {\n        \"$courseKey\": {\n          \".write\": \"\n            auth != null &&\n            (auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val() ||\n            root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists())\n          \"\n        }\n      }\n    },\n    \"cohortRecalculateQueue\": {\n      \"$cohortKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null && root.child('/cohorts/' + $cohortKey).exists()\"\n      }\n    },\n    \"cohortAssistants\": {\n      \"$cohortKey\": {\n        \".read\": true,\n        \".write\": \"auth != null &&\n          root.child('/cohorts/' + $cohortKey).exists() &&\n          root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid\"\n      }\n    },\n    \"cohorts\": {\n      \".read\": true,\n      \".indexOn\": [\"owner\", \"isPublic\"],\n      \"$cohortKey\": {\n        \".write\": \"auth != null &&\n          newData.exists() &&\n          (root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          ))\n        \"\n      }\n    },\n    \"completedActivities\": {\n      \"$userKey\": {\n        \".read\": true,\n        \".write\": \"auth != null && $userKey == auth.uid\"\n      }\n    },\n    \"config\": {\n      \".read\": \"auth != null && root.child('/admins/' + auth.uid).val() == true\",\n      \".write\": \"auth != null && root.child('/admins/' + auth.uid).val() == true\",\n      \"defaultRecommendations\": {\n        \".read\": true\n      },\n      \"version\": {\n        \".read\": true\n      }\n    },\n    \"courseMembers\": {\n      \".read\": \"auth != null\",\n      \"$courseKey\": {\n        \".write\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \",\n        \"$studentKey\": {\n          \".write\": \"\n            auth != null &&\n            $studentKey == auth.uid &&\n            root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n          \"\n        }\n      }\n    },\n    \"coursePasswords\": {\n      \"$courseKey\": {\n        \".read\": \"auth != null &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid\",\n        \".write\": \"auth != null && (\n          !root.child('courses/' + $courseKey).exists() ||\n          root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid)\"\n      }\n    },\n    \"courseAssistants\": {\n      \".read\": \"auth.uid != null\",\n      \"$courseKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null && auth.uid == root.child('courses/' + $courseKey + '/owner').val()\"\n      }\n    },\n    \"courses\": {\n      \".read\": \"auth != null\",\n      \".indexOn\": [\"owner\", \"isPublic\"],\n      \"$courseKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"\n          auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() ||\n            !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          )\n        \"\n      }\n    },\n    \"destinations\":{\n      \".read\" : \"auth != null\",\n      \"$destinationKey\" :{\n        \".read\" : \"auth != null\",\n        \".write\" : \"\n            auth != null &&\n            (\n              (\n                newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )\n              ) || (\n                data.exists() && data.child('originator').val() == auth.uid\n              )\n            )\"\n        }\n    },\n    \"jupyterSolutionsQueue\": {\n      \"responses\": {\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"!newData.exists()\"\n        }\n      },\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".read\": false,\n          \".write\": \"auth != null && newData.child('owner').val() == auth.uid\"\n        }\n      }\n    },\n    \"jupyterSolutionAnalysisQueue\" : {\n      \"responses\": {\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"!newData.exists()\"\n        }\n      },\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".read\": false,\n          \".write\": \"auth != null && newData.child('owner').val() == auth.uid\"\n        }\n      }\n    },\n    \"fetchGithubFilesQueue\" : {\n      \"responses\": {\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"!newData.exists()\"\n        }\n      },\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".read\": false,\n          \".write\": \"auth != null && newData.child('owner').val() == auth.uid\"\n        }\n      }\n    },\n    \"logged_events\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null && newData.exists()\",\n      \".indexOn\": [\"createdAt\", \"type\"]\n    },\n    \"moreProblemsRequests\": {\n      \"$requestKey\": {\n        \".write\": \"auth != null &&\n          newData.child('sender').exists() &&\n          auth.uid == newData.child('sender').val()\"\n      }\n    },\n    \"outgoingRequestsQueue\": {\n      \"tasks\": {\n        \".indexOn\": [\"_state\"]\n      }\n    },\n    \"pathAssistants\": {\n      \"$pathKey\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null && auth.uid == root.child('paths/' + $pathKey + '/owner').val()\"\n      }\n    },\n    \"pathProblems\": {\n      \".read\": \"auth != null\",\n      \"$userKey\": {\n        \".write\": \"auth != null && auth.uid == $userKey && !newData.child('path').exists()\"\n      }\n    },\n    \"paths\": {\n      \".read\": true,\n      \".indexOn\": [\"owner\", \"isPublic\"],\n      \"$pathKey\": {\n        \".write\": \"auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() || (\n              !data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )\n            )\n          )\"\n      }\n    },\n    \"problemSolutions\": {\n      \"$activityKey\": {\n        \".read\": \"auth != null\",\n        \"$userKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"auth != null && auth.uid == $userKey\"\n        }\n      }\n    },\n    \"profileData\": {\n      \".read\": true\n    },\n    \"secrets\": {\n      \".read\": \"auth != null && root.child('admins/' + auth.uid).exists()\"\n    },\n    \"solutions\": {\n      \".read\": \"false\",\n      \"$courseKey\": {\n        \".read\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \",\n        \".write\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \",\n        \"$userKey\": {\n          \".read\": \"\n            auth != null &&\n              (\n                ($userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n              ) || root.child('courses/' + $courseKey + '/owner').val() == auth.uid )\n          \",\n          \".write\": \"\n            auth != null &&\n            $userKey == auth.uid &&\n            root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n          \"\n        }\n      }\n    },\n    \"studentCoursePasswords\": {\n      \".read\": \"false\",\n      \"$courseKey\": {\n        \"$studentKey\": {\n          \".write\": \"auth != null && (\n              $studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ) &&\n            root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())\"\n        }\n      }\n    },\n    \"studentJoinedCourses\": {\n      \".read\": false,\n      \"$studentKey\": {\n        \".read\": \"auth != null && auth.uid == $studentKey\",\n        \"$courseKey\": {\n          \".write\": \"auth != null && ((\n              $studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n            ) || (\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ))\"\n        }\n      }\n    },\n    \"studentJoinedPaths\": {\n      \"$studentKey\": {\n        \".read\": \"auth != null\",\n        \"$pathKey\": {\n          \".write\": \"auth != null &&\n              $studentKey == auth.uid &&\n              root.child('paths/' + $pathKey).exists()\n            \"\n        }\n      }\n    },\n    \"updateProfileQueue\": {\n      \"tasks\": {\n        \".indexOn\": [\"_state\"],\n        \"$taskKey\": {\n          \".read\": \"auth != null\",\n          \".write\": \"\n            auth != null &&\n            newData.exists() &&\n            newData.hasChild('uid')\n          \"\n        }\n      }\n    },\n    \"userAchievements\": {\n      \".read\": \"auth != null\",\n      \"$userKey\": {\n        \".write\": \"auth != null && auth.uid == $userKey\",\n        \".read\": \"auth != null\",\n        \"CodeCombat\": {\n          \"achievements\": {\n            \"$achievementId\": {\n              \".write\": false,\n              \".validate\": false\n            }\n          }\n        }\n      }\n    },\n    \"userRecommendations\": {\n      \"$userKey\": {\n        \".read\": \"auth != null && auth.uid == $userKey\",\n        \".write\": false\n      }\n    },\n    \"users\": {\n      \".read\": true,\n      \"$userKey\": {\n        \".write\": \"auth != null && auth.uid == $userKey\",\n      }\n    },\n    \"usersPrivate\": {\n      \".read\": false,\n      \"$userKey\": {\n        \".read\": \"auth != null && auth.uid == $userKey\",\n        \".write\": \"auth != null && auth.uid == $userKey\"\n      }\n    },\n    \"visibleSolutions\": {\n      \".read\": \"false\",\n      \"$courseKey\": {\n        \".read\": \"auth != null  &&\n          (root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists() )\n        \",\n        \".write\": \"\n          auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )\n        \"\n      }\n    }\n  }\n}\n","report":{"solutions":{".read":{"text":"false","location-start":"321:16","location-end":"321:20","values":[{"value":false,"count":3}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"330:10","location-end":"330:13","values":[{"value":"hash@1788853110","count":1},{"value":"hash@802728031","count":1},{"value":"hash@2023319451","count":1}]},{"text":"null","location-start":"330:18","location-end":"330:21","values":[{"value":null,"count":3}]}],"location-end":"330:21","text":"auth != null","location-start":"330:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"331:12","location-end":"331:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"331:17","location-end":"331:21","values":[{"value":"child","count":2}]}],"location-end":"331:21","text":"root.child","location-start":"331:12","values":[{"value":"hash@1017948647","count":1},{"value":"hash@853104456","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"331:23","location-end":"331:32","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"331:36","location-end":"331:45","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"331:45","text":"'courses/' + $courseKey","location-start":"331:23","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"331:49","location-end":"331:56","values":[{"value":"/owner","count":2}]}],"location-end":"331:56","text":"'courses/' + $courseKey + '/owner'","location-start":"331:23","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"331:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"331:12","values":[{"value":"hash@1685685558","count":1},{"value":"hash@1969779968","count":1}]},{"text":"val","location-start":"331:59","location-end":"331:61","values":[{"value":"val","count":2}]}],"location-end":"331:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"331:12","values":[{"value":"hash@1808854872","count":1},{"value":"hash@1059968714","count":1}]}],"location-end":"331:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"331:12","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"331:68","location-end":"331:71","values":[{"value":"hash@802728031","count":1},{"value":"hash@2023319451","count":1}]},{"text":"uid","location-start":"331:73","location-end":"331:75","values":[{"value":"uid","count":2}]}],"location-end":"331:75","text":"auth.uid","location-start":"331:68","values":[{"value":"alice","count":2}]}],"location-end":"331:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"331:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"332:12","location-end":"332:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"332:17","location-end":"332:21","values":[{"value":"child","count":2}]}],"location-end":"332:21","text":"root.child","location-start":"332:12","values":[{"value":"hash@609148673","count":1},{"value":"hash@1033205384","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"332:23","location-end":"332:41","values":[{"value":"courseAssistants/","count":2}]},{"text":"$courseKey","location-start":"332:45","location-end":"332:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"332:54","text":"'courseAssistants/' + $courseKey","location-start":"332:23","values":[{"value":"courseAssistants/someRandomChildNode","count":1},{"value":"courseAssistants/alice","count":1}]},{"text":"'/'","location-start":"332:58","location-end":"332:60","values":[{"value":"/","count":2}]}],"location-end":"332:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"332:23","values":[{"value":"courseAssistants/someRandomChildNode/","count":1},{"value":"courseAssistants/alice/","count":1}]},{"children":[{"text":"auth","location-start":"332:64","location-end":"332:67","values":[{"value":"hash@802728031","count":1},{"value":"hash@2023319451","count":1}]},{"text":"uid","location-start":"332:69","location-end":"332:71","values":[{"value":"uid","count":2}]}],"location-end":"332:71","text":"auth.uid","location-start":"332:64","values":[{"value":"alice","count":2}]}],"location-end":"332:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"332:23","values":[{"value":"courseAssistants/someRandomChildNode/alice","count":1},{"value":"courseAssistants/alice/alice","count":1}]}],"location-end":"332:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"332:12","values":[{"value":"hash@1158544613","count":1},{"value":"hash@1259099175","count":1}]},{"text":"exists","location-start":"332:74","location-end":"332:79","values":[{"value":"exists","count":2}]}],"location-end":"332:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"332:12","values":[{"value":"hash@1312686471","count":1},{"value":"hash@243493662","count":1}]}],"location-end":"332:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"332:12","values":[{"value":false,"count":2}]}],"location-end":"332:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"331:12","values":[{"value":false,"count":2}]}],"location-end":"333:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"330:10","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"324:10","location-end":"324:13","values":[{"value":"hash@600652804","count":1}]},{"text":"null","location-start":"324:18","location-end":"324:21","values":[{"value":null,"count":1}]}],"location-end":"324:21","text":"auth != null","location-start":"324:10","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"325:12","location-end":"325:15","values":[{"value":"hash@1048383471","count":1}]},{"text":"child","location-start":"325:17","location-end":"325:21","values":[{"value":"child","count":1}]}],"location-end":"325:21","text":"root.child","location-start":"325:12","values":[{"value":"hash@1500473628","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"325:23","location-end":"325:32","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"325:36","location-end":"325:45","values":[{"value":"someNode","count":1}]}],"location-end":"325:45","text":"'courses/' + $courseKey","location-start":"325:23","values":[{"value":"courses/someNode","count":1}]},{"text":"'/owner'","location-start":"325:49","location-end":"325:56","values":[{"value":"/owner","count":1}]}],"location-end":"325:56","text":"'courses/' + $courseKey + '/owner'","location-start":"325:23","values":[{"value":"courses/someNode/owner","count":1}]}],"location-end":"325:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"325:12","values":[{"value":"hash@1077699029","count":1}]},{"text":"val","location-start":"325:59","location-end":"325:61","values":[{"value":"val","count":1}]}],"location-end":"325:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"325:12","values":[{"value":"hash@634905846","count":1}]}],"location-end":"325:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"325:12","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"325:68","location-end":"325:71","values":[{"value":"hash@600652804","count":1}]},{"text":"uid","location-start":"325:73","location-end":"325:75","values":[{"value":"uid","count":1}]}],"location-end":"325:75","text":"auth.uid","location-start":"325:68","values":[{"value":"alice","count":1}]}],"location-end":"325:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"325:12","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"326:12","location-end":"326:15","values":[{"value":"hash@1048383471","count":1}]},{"text":"child","location-start":"326:17","location-end":"326:21","values":[{"value":"child","count":1}]}],"location-end":"326:21","text":"root.child","location-start":"326:12","values":[{"value":"hash@1873854804","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"326:23","location-end":"326:41","values":[{"value":"courseAssistants/","count":1}]},{"text":"$courseKey","location-start":"326:45","location-end":"326:54","values":[{"value":"someNode","count":1}]}],"location-end":"326:54","text":"'courseAssistants/' + $courseKey","location-start":"326:23","values":[{"value":"courseAssistants/someNode","count":1}]},{"text":"'/'","location-start":"326:58","location-end":"326:60","values":[{"value":"/","count":1}]}],"location-end":"326:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"326:23","values":[{"value":"courseAssistants/someNode/","count":1}]},{"children":[{"text":"auth","location-start":"326:64","location-end":"326:67","values":[{"value":"hash@600652804","count":1}]},{"text":"uid","location-start":"326:69","location-end":"326:71","values":[{"value":"uid","count":1}]}],"location-end":"326:71","text":"auth.uid","location-start":"326:64","values":[{"value":"alice","count":1}]}],"location-end":"326:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"326:23","values":[{"value":"courseAssistants/someNode/alice","count":1}]}],"location-end":"326:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"326:12","values":[{"value":"hash@-1854076392","count":1}]},{"text":"exists","location-start":"326:74","location-end":"326:79","values":[{"value":"exists","count":1}]}],"location-end":"326:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"326:12","values":[{"value":"hash@598510559","count":1}]}],"location-end":"326:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"326:12","values":[{"value":false,"count":1}]}],"location-end":"326:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"325:12","values":[{"value":false,"count":1}]}],"location-end":"327:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"324:10","values":[{"value":false,"count":1}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"344:12","location-end":"344:15","values":[]},{"text":"null","location-start":"344:20","location-end":"344:23","values":[]}],"location-end":"344:23","text":"auth != null","location-start":"344:12","values":[]},{"children":[{"children":[{"text":"$userKey","location-start":"345:12","location-end":"345:19","values":[]},{"children":[{"text":"auth","location-start":"345:24","location-end":"345:27","values":[]},{"text":"uid","location-start":"345:29","location-end":"345:31","values":[]}],"location-end":"345:31","text":"auth.uid","location-start":"345:24","values":[]}],"location-end":"345:31","text":"$userKey == auth.uid","location-start":"345:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"346:12","location-end":"346:15","values":[]},{"text":"child","location-start":"346:17","location-end":"346:21","values":[]}],"location-end":"346:21","text":"root.child","location-start":"346:12","values":[]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"346:23","location-end":"346:38","values":[]},{"text":"$courseKey","location-start":"346:42","location-end":"346:51","values":[]}],"location-end":"346:51","text":"'courseMembers/' + $courseKey","location-start":"346:23","values":[]},{"text":"'/'","location-start":"346:55","location-end":"346:57","values":[]}],"location-end":"346:57","text":"'courseMembers/' + $courseKey + '/'","location-start":"346:23","values":[]},{"children":[{"text":"auth","location-start":"346:61","location-end":"346:64","values":[]},{"text":"uid","location-start":"346:66","location-end":"346:68","values":[]}],"location-end":"346:68","text":"auth.uid","location-start":"346:61","values":[]}],"location-end":"346:68","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"346:23","values":[]}],"location-end":"346:69","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"346:12","values":[]},{"text":"exists","location-start":"346:71","location-end":"346:76","values":[]}],"location-end":"346:76","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"346:12","values":[]}],"location-end":"346:78","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"346:12","values":[]}],"location-end":"346:78","text":"$userKey == auth.uid &&\n            root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"345:12","values":[]}],"location-end":"346:78","text":"auth != null &&\n            $userKey == auth.uid &&\n            root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"344:12","values":[]},".read":{"children":[{"children":[{"text":"auth","location-start":"337:12","location-end":"337:15","values":[]},{"text":"null","location-start":"337:20","location-end":"337:23","values":[]}],"location-end":"337:23","text":"auth != null","location-start":"337:12","values":[]},{"children":[{"children":[{"children":[{"text":"$userKey","location-start":"339:17","location-end":"339:24","values":[]},{"children":[{"text":"auth","location-start":"339:29","location-end":"339:32","values":[]},{"text":"uid","location-start":"339:34","location-end":"339:36","values":[]}],"location-end":"339:36","text":"auth.uid","location-start":"339:29","values":[]}],"location-end":"339:36","text":"$userKey == auth.uid","location-start":"339:17","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"340:16","location-end":"340:19","values":[]},{"text":"child","location-start":"340:21","location-end":"340:25","values":[]}],"location-end":"340:25","text":"root.child","location-start":"340:16","values":[]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"340:27","location-end":"340:42","values":[]},{"text":"$courseKey","location-start":"340:46","location-end":"340:55","values":[]}],"location-end":"340:55","text":"'courseMembers/' + $courseKey","location-start":"340:27","values":[]},{"text":"'/'","location-start":"340:59","location-end":"340:61","values":[]}],"location-end":"340:61","text":"'courseMembers/' + $courseKey + '/'","location-start":"340:27","values":[]},{"children":[{"text":"auth","location-start":"340:65","location-end":"340:68","values":[]},{"text":"uid","location-start":"340:70","location-end":"340:72","values":[]}],"location-end":"340:72","text":"auth.uid","location-start":"340:65","values":[]}],"location-end":"340:72","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"340:27","values":[]}],"location-end":"340:73","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"340:16","values":[]},{"text":"exists","location-start":"340:75","location-end":"340:80","values":[]}],"location-end":"340:80","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"340:16","values":[]}],"location-end":"340:82","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"340:16","values":[]}],"location-end":"340:82","text":"$userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"339:17","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"341:19","location-end":"341:22","values":[]},{"text":"child","location-start":"341:24","location-end":"341:28","values":[]}],"location-end":"341:28","text":"root.child","location-start":"341:19","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"341:30","location-end":"341:39","values":[]},{"text":"$courseKey","location-start":"341:43","location-end":"341:52","values":[]}],"location-end":"341:52","text":"'courses/' + $courseKey","location-start":"341:30","values":[]},{"text":"'/owner'","location-start":"341:56","location-end":"341:63","values":[]}],"location-end":"341:63","text":"'courses/' + $courseKey + '/owner'","location-start":"341:30","values":[]}],"location-end":"341:64","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"341:19","values":[]},{"text":"val","location-start":"341:66","location-end":"341:68","values":[]}],"location-end":"341:68","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"341:19","values":[]}],"location-end":"341:70","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"341:19","values":[]},{"children":[{"text":"auth","location-start":"341:75","location-end":"341:78","values":[]},{"text":"uid","location-start":"341:80","location-end":"341:82","values":[]}],"location-end":"341:82","text":"auth.uid","location-start":"341:75","values":[]}],"location-end":"341:82","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"341:19","values":[]}],"location-end":"341:82","text":"$userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n              ) || root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"339:17","values":[]}],"location-end":"341:84","text":"auth != null &&\n              (\n                ($userKey == auth.uid &&\n                root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()\n              ) || root.child('courses/' + $courseKey + '/owner').val() == auth.uid )","location-start":"337:12","values":[]}}}},"moreProblemsRequests":{"$requestKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"267:19","location-end":"267:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@470243087","count":1},{"value":"hash@542301656","count":1}]},{"text":"null","location-start":"267:27","location-end":"267:30","values":[{"value":null,"count":3}]}],"location-end":"267:30","text":"auth != null","location-start":"267:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"268:10","location-end":"268:16","values":[{"value":"hash@1609525031","count":1},{"value":"hash@447520380","count":1}]},{"text":"child","location-start":"268:18","location-end":"268:22","values":[{"value":"child","count":2}]}],"location-end":"268:22","text":"newData.child","location-start":"268:10","values":[{"value":"hash@1924332359","count":1},{"value":"hash@2078421418","count":1}]},{"text":"'sender'","location-start":"268:24","location-end":"268:31","values":[{"value":"sender","count":2}]}],"location-end":"268:32","text":"newData.child('sender')","location-start":"268:10","values":[{"value":"hash@1580745762","count":1},{"value":"hash@1693956722","count":1}]},{"text":"exists","location-start":"268:34","location-end":"268:39","values":[{"value":"exists","count":2}]}],"location-end":"268:39","text":"newData.child('sender').exists","location-start":"268:10","values":[{"value":"hash@2023874501","count":1},{"value":"hash@1392318249","count":1}]}],"location-end":"268:41","text":"newData.child('sender').exists()","location-start":"268:10","values":[{"value":false,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"269:10","location-end":"269:13","values":[]},{"text":"uid","location-start":"269:15","location-end":"269:17","values":[]}],"location-end":"269:17","text":"auth.uid","location-start":"269:10","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"269:22","location-end":"269:28","values":[]},{"text":"child","location-start":"269:30","location-end":"269:34","values":[]}],"location-end":"269:34","text":"newData.child","location-start":"269:22","values":[]},{"text":"'sender'","location-start":"269:36","location-end":"269:43","values":[]}],"location-end":"269:44","text":"newData.child('sender')","location-start":"269:22","values":[]},{"text":"val","location-start":"269:46","location-end":"269:48","values":[]}],"location-end":"269:48","text":"newData.child('sender').val","location-start":"269:22","values":[]}],"location-end":"269:50","text":"newData.child('sender').val()","location-start":"269:22","values":[]}],"location-end":"269:50","text":"auth.uid == newData.child('sender').val()","location-start":"269:10","values":[]}],"location-end":"269:50","text":"newData.child('sender').exists() &&\n          auth.uid == newData.child('sender').val()","location-start":"268:10","values":[{"value":false,"count":2}]}],"location-end":"269:50","text":"auth != null &&\n          newData.child('sender').exists() &&\n          auth.uid == newData.child('sender').val()","location-start":"267:19","values":[{"value":false,"count":3}]}}},"profileData":{".read":{"text":"true","location-start":"315:15","location-end":"315:18","values":[]}},"updateProfileQueue":{"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"398:12","location-end":"398:15","values":[]},{"text":"null","location-start":"398:20","location-end":"398:23","values":[]}],"location-end":"398:23","text":"auth != null","location-start":"398:12","values":[]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"399:12","location-end":"399:18","values":[]},{"text":"exists","location-start":"399:20","location-end":"399:25","values":[]}],"location-end":"399:25","text":"newData.exists","location-start":"399:12","values":[]}],"location-end":"399:27","text":"newData.exists()","location-start":"399:12","values":[]},{"children":[{"children":[{"text":"newData","location-start":"400:12","location-end":"400:18","values":[]},{"text":"hasChild","location-start":"400:20","location-end":"400:27","values":[]}],"location-end":"400:27","text":"newData.hasChild","location-start":"400:12","values":[]},{"text":"'uid'","location-start":"400:29","location-end":"400:33","values":[]}],"location-end":"400:34","text":"newData.hasChild('uid')","location-start":"400:12","values":[]}],"location-end":"400:34","text":"newData.exists() &&\n            newData.hasChild('uid')","location-start":"399:12","values":[]}],"location-end":"400:34","text":"auth != null &&\n            newData.exists() &&\n            newData.hasChild('uid')","location-start":"398:12","values":[]},".read":{"children":[{"text":"auth","location-start":"396:20","location-end":"396:23","values":[]},{"text":"null","location-start":"396:28","location-end":"396:31","values":[]}],"location-end":"396:31","text":"auth != null","location-start":"396:20","values":[]}}}},"pathAssistants":{"$pathKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"280:19","location-end":"280:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1557354921","count":1},{"value":"hash@1726324213","count":1}]},{"text":"null","location-start":"280:27","location-end":"280:30","values":[{"value":null,"count":3}]}],"location-end":"280:30","text":"auth != null","location-start":"280:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"280:35","location-end":"280:38","values":[{"value":"hash@1557354921","count":1},{"value":"hash@1726324213","count":1}]},{"text":"uid","location-start":"280:40","location-end":"280:42","values":[{"value":"uid","count":2}]}],"location-end":"280:42","text":"auth.uid","location-start":"280:35","values":[{"value":"alice","count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"280:47","location-end":"280:50","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"280:52","location-end":"280:56","values":[{"value":"child","count":2}]}],"location-end":"280:56","text":"root.child","location-start":"280:47","values":[{"value":"hash@962521527","count":1},{"value":"hash@1263060519","count":1}]},{"children":[{"children":[{"text":"'paths/'","location-start":"280:58","location-end":"280:65","values":[{"value":"paths/","count":2}]},{"text":"$pathKey","location-start":"280:69","location-end":"280:76","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"280:76","text":"'paths/' + $pathKey","location-start":"280:58","values":[{"value":"paths/someRandomChildNode","count":1},{"value":"paths/alice","count":1}]},{"text":"'/owner'","location-start":"280:80","location-end":"280:87","values":[{"value":"/owner","count":2}]}],"location-end":"280:87","text":"'paths/' + $pathKey + '/owner'","location-start":"280:58","values":[{"value":"paths/someRandomChildNode/owner","count":1},{"value":"paths/alice/owner","count":1}]}],"location-end":"280:88","text":"root.child('paths/' + $pathKey + '/owner')","location-start":"280:47","values":[{"value":"hash@-1509772703","count":1},{"value":"hash@-1627195270","count":1}]},{"text":"val","location-start":"280:90","location-end":"280:92","values":[{"value":"val","count":2}]}],"location-end":"280:92","text":"root.child('paths/' + $pathKey + '/owner').val","location-start":"280:47","values":[{"value":"hash@635151338","count":1},{"value":"hash@483646762","count":1}]}],"location-end":"280:94","text":"root.child('paths/' + $pathKey + '/owner').val()","location-start":"280:47","values":[{"value":null,"count":2}]}],"location-end":"280:94","text":"auth.uid == root.child('paths/' + $pathKey + '/owner').val()","location-start":"280:35","values":[{"value":false,"count":2}]}],"location-end":"280:94","text":"auth != null && auth.uid == root.child('paths/' + $pathKey + '/owner').val()","location-start":"280:19","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"279:18","location-end":"279:21","values":[{"value":"hash@1767069044","count":1}]},{"text":"null","location-start":"279:26","location-end":"279:29","values":[{"value":null,"count":1}]}],"location-end":"279:29","text":"auth != null","location-start":"279:18","values":[{"value":true,"count":1}]}}},"activityData":{".read":{"children":[{"text":"auth","location-start":"24:16","location-end":"24:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@238467149","count":1}]},{"text":"null","location-start":"24:24","location-end":"24:27","values":[{"value":null,"count":2}]}],"location-end":"24:27","text":"auth != null","location-start":"24:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$activityKey":{".write":{"children":[{"children":[{"children":[{"text":"auth","location-start":"27:19","location-end":"27:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1156986512","count":1},{"value":"hash@502142891","count":1}]},{"text":"null","location-start":"27:27","location-end":"27:30","values":[{"value":null,"count":3}]}],"location-end":"27:30","text":"auth != null","location-start":"27:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"28:11","location-end":"28:17","values":[{"value":"hash@1265690609","count":1},{"value":"hash@102048663","count":1}]},{"text":"exists","location-start":"28:19","location-end":"28:24","values":[{"value":"exists","count":2}]}],"location-end":"28:24","text":"newData.exists","location-start":"28:11","values":[{"value":"hash@1465629433","count":1},{"value":"hash@833180907","count":1}]}],"location-end":"28:26","text":"newData.exists()","location-start":"28:11","values":[{"value":true,"count":2}]}],"location-end":"28:26","text":"!newData.exists()","location-start":"28:10","values":[{"value":false,"count":2}]}],"location-end":"28:26","text":"auth != null &&\n          !newData.exists()","location-start":"27:19","values":[{"value":false,"count":3}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"29:12","location-end":"29:15","values":[{"value":"hash@733261220","count":3}]},{"text":"child","location-start":"29:17","location-end":"29:21","values":[{"value":"child","count":3}]}],"location-end":"29:21","text":"root.child","location-start":"29:12","values":[{"value":"hash@746529274","count":1},{"value":"hash@1082268176","count":1},{"value":"hash@222592597","count":1}]},{"children":[{"text":"'paths/'","location-start":"29:23","location-end":"29:30","values":[{"value":"paths/","count":3}]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"29:34","location-end":"29:40","values":[{"value":"hash@404151653","count":1},{"value":"hash@1265690609","count":1},{"value":"hash@102048663","count":1}]},{"text":"child","location-start":"29:42","location-end":"29:46","values":[{"value":"child","count":3}]}],"location-end":"29:46","text":"newData.child","location-start":"29:34","values":[{"value":"hash@1388451437","count":1},{"value":"hash@209793694","count":1},{"value":"hash@1627022105","count":1}]},{"text":"'path'","location-start":"29:48","location-end":"29:53","values":[{"value":"path","count":3}]}],"location-end":"29:54","text":"newData.child('path')","location-start":"29:34","values":[{"value":"hash@542153563","count":1},{"value":"hash@109563269","count":1},{"value":"hash@1331490058","count":1}]},{"text":"val","location-start":"29:56","location-end":"29:58","values":[{"value":"val","count":3}]}],"location-end":"29:58","text":"newData.child('path').val","location-start":"29:34","values":[{"value":"hash@1632945187","count":1},{"value":"hash@485278781","count":1},{"value":"hash@883549702","count":1}]}],"location-end":"29:60","text":"newData.child('path').val()","location-start":"29:34","values":[{"value":null,"count":3}]}],"location-end":"29:60","text":"'paths/' + newData.child('path').val()","location-start":"29:23","values":[]}],"location-end":"29:61","text":"root.child('paths/' + newData.child('path').val())","location-start":"29:12","values":[]},{"text":"exists","location-start":"29:63","location-end":"29:68","values":[]}],"location-end":"29:68","text":"root.child('paths/' + newData.child('path').val()).exists","location-start":"29:12","values":[]}],"location-end":"29:70","text":"root.child('paths/' + newData.child('path').val()).exists()","location-start":"29:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"30:14","location-end":"30:17","values":[]},{"text":"child","location-start":"30:19","location-end":"30:23","values":[]}],"location-end":"30:23","text":"root.child","location-start":"30:14","values":[]},{"children":[{"children":[{"text":"'paths/'","location-start":"30:25","location-end":"30:32","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"30:36","location-end":"30:42","values":[]},{"text":"child","location-start":"30:44","location-end":"30:48","values":[]}],"location-end":"30:48","text":"newData.child","location-start":"30:36","values":[]},{"text":"'path'","location-start":"30:50","location-end":"30:55","values":[]}],"location-end":"30:56","text":"newData.child('path')","location-start":"30:36","values":[]},{"text":"val","location-start":"30:58","location-end":"30:60","values":[]}],"location-end":"30:60","text":"newData.child('path').val","location-start":"30:36","values":[]}],"location-end":"30:62","text":"newData.child('path').val()","location-start":"30:36","values":[]}],"location-end":"30:62","text":"'paths/' + newData.child('path').val()","location-start":"30:25","values":[]},{"text":"'/owner'","location-start":"31:16","location-end":"31:23","values":[]}],"location-end":"31:23","text":"'paths/' + newData.child('path').val() +\n                '/owner'","location-start":"30:25","values":[]}],"location-end":"31:24","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner')","location-start":"30:14","values":[]},{"text":"val","location-start":"31:26","location-end":"31:28","values":[]}],"location-end":"31:28","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val","location-start":"30:14","values":[]}],"location-end":"31:30","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val()","location-start":"30:14","values":[]},{"children":[{"text":"auth","location-start":"31:35","location-end":"31:38","values":[]},{"text":"uid","location-start":"31:40","location-end":"31:42","values":[]}],"location-end":"31:42","text":"auth.uid","location-start":"31:35","values":[]}],"location-end":"31:42","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid","location-start":"30:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"32:14","location-end":"32:17","values":[]},{"text":"child","location-start":"32:19","location-end":"32:23","values":[]}],"location-end":"32:23","text":"root.child","location-start":"32:14","values":[]},{"children":[{"children":[{"children":[{"text":"'pathAssistants/'","location-start":"32:25","location-end":"32:41","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"32:45","location-end":"32:51","values":[]},{"text":"child","location-start":"32:53","location-end":"32:57","values":[]}],"location-end":"32:57","text":"newData.child","location-start":"32:45","values":[]},{"text":"'path'","location-start":"32:59","location-end":"32:64","values":[]}],"location-end":"32:65","text":"newData.child('path')","location-start":"32:45","values":[]},{"text":"val","location-start":"32:67","location-end":"32:69","values":[]}],"location-end":"32:69","text":"newData.child('path').val","location-start":"32:45","values":[]}],"location-end":"32:71","text":"newData.child('path').val()","location-start":"32:45","values":[]}],"location-end":"32:71","text":"'pathAssistants/' + newData.child('path').val()","location-start":"32:25","values":[]},{"text":"'/'","location-start":"33:16","location-end":"33:18","values":[]}],"location-end":"33:18","text":"'pathAssistants/' + newData.child('path').val() +\n                '/'","location-start":"32:25","values":[]},{"children":[{"text":"auth","location-start":"33:22","location-end":"33:25","values":[]},{"text":"uid","location-start":"33:27","location-end":"33:29","values":[]}],"location-end":"33:29","text":"auth.uid","location-start":"33:22","values":[]}],"location-end":"33:29","text":"'pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid","location-start":"32:25","values":[]}],"location-end":"33:30","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid)","location-start":"32:14","values":[]},{"text":"exists","location-start":"33:32","location-end":"33:37","values":[]}],"location-end":"33:37","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists","location-start":"32:14","values":[]}],"location-end":"33:39","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"32:14","values":[]}],"location-end":"33:39","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"30:14","values":[]}],"location-end":"34:12","text":"root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )","location-start":"29:12","values":[]}],"location-end":"35:10","text":"auth != null &&\n          !newData.exists() || (\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )","location-start":"27:19","values":[]},".read":{"children":[{"text":"auth","location-start":"26:18","location-end":"26:21","values":[]},{"text":"null","location-start":"26:26","location-end":"26:29","values":[]}],"location-end":"26:29","text":"auth != null","location-start":"26:18","values":[]}}},"secrets":{".read":{"children":[{"children":[{"text":"auth","location-start":"318:16","location-end":"318:19","values":[]},{"text":"null","location-start":"318:24","location-end":"318:27","values":[]}],"location-end":"318:27","text":"auth != null","location-start":"318:16","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"318:32","location-end":"318:35","values":[]},{"text":"child","location-start":"318:37","location-end":"318:41","values":[]}],"location-end":"318:41","text":"root.child","location-start":"318:32","values":[]},{"children":[{"text":"'admins/'","location-start":"318:43","location-end":"318:51","values":[]},{"children":[{"text":"auth","location-start":"318:55","location-end":"318:58","values":[]},{"text":"uid","location-start":"318:60","location-end":"318:62","values":[]}],"location-end":"318:62","text":"auth.uid","location-start":"318:55","values":[]}],"location-end":"318:62","text":"'admins/' + auth.uid","location-start":"318:43","values":[]}],"location-end":"318:63","text":"root.child('admins/' + auth.uid)","location-start":"318:32","values":[]},{"text":"exists","location-start":"318:65","location-end":"318:70","values":[]}],"location-end":"318:70","text":"root.child('admins/' + auth.uid).exists","location-start":"318:32","values":[]}],"location-end":"318:72","text":"root.child('admins/' + auth.uid).exists()","location-start":"318:32","values":[]}],"location-end":"318:72","text":"auth != null && root.child('admins/' + auth.uid).exists()","location-start":"318:16","values":[]}},"cohortAssistants":{"$cohortKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"92:19","location-end":"92:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@706235961","count":1},{"value":"hash@1717106510","count":1}]},{"text":"null","location-start":"92:27","location-end":"92:30","values":[{"value":null,"count":3}]}],"location-end":"92:30","text":"auth != null","location-start":"92:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"93:10","location-end":"93:13","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"93:15","location-end":"93:19","values":[{"value":"child","count":2}]}],"location-end":"93:19","text":"root.child","location-start":"93:10","values":[{"value":"hash@1665026599","count":1},{"value":"hash@526953636","count":1}]},{"children":[{"text":"'/cohorts/'","location-start":"93:21","location-end":"93:31","values":[{"value":"/cohorts/","count":2}]},{"text":"$cohortKey","location-start":"93:35","location-end":"93:44","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"93:44","text":"'/cohorts/' + $cohortKey","location-start":"93:21","values":[{"value":"/cohorts/someRandomChildNode","count":1},{"value":"/cohorts/alice","count":1}]}],"location-end":"93:45","text":"root.child('/cohorts/' + $cohortKey)","location-start":"93:10","values":[{"value":"hash@877378730","count":1},{"value":"hash@-1612136809","count":1}]},{"text":"exists","location-start":"93:47","location-end":"93:52","values":[{"value":"exists","count":2}]}],"location-end":"93:52","text":"root.child('/cohorts/' + $cohortKey).exists","location-start":"93:10","values":[{"value":"hash@1898084114","count":1},{"value":"hash@52035272","count":1}]}],"location-end":"93:54","text":"root.child('/cohorts/' + $cohortKey).exists()","location-start":"93:10","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"94:10","location-end":"94:13","values":[]},{"text":"child","location-start":"94:15","location-end":"94:19","values":[]}],"location-end":"94:19","text":"root.child","location-start":"94:10","values":[]},{"children":[{"children":[{"text":"'/cohorts/'","location-start":"94:21","location-end":"94:31","values":[]},{"text":"$cohortKey","location-start":"94:35","location-end":"94:44","values":[]}],"location-end":"94:44","text":"'/cohorts/' + $cohortKey","location-start":"94:21","values":[]},{"text":"'/owner'","location-start":"94:48","location-end":"94:55","values":[]}],"location-end":"94:55","text":"'/cohorts/' + $cohortKey + '/owner'","location-start":"94:21","values":[]}],"location-end":"94:56","text":"root.child('/cohorts/' + $cohortKey + '/owner')","location-start":"94:10","values":[]},{"text":"val","location-start":"94:58","location-end":"94:60","values":[]}],"location-end":"94:60","text":"root.child('/cohorts/' + $cohortKey + '/owner').val","location-start":"94:10","values":[]}],"location-end":"94:62","text":"root.child('/cohorts/' + $cohortKey + '/owner').val()","location-start":"94:10","values":[]},{"children":[{"text":"auth","location-start":"94:67","location-end":"94:70","values":[]},{"text":"uid","location-start":"94:72","location-end":"94:74","values":[]}],"location-end":"94:74","text":"auth.uid","location-start":"94:67","values":[]}],"location-end":"94:74","text":"root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid","location-start":"94:10","values":[]}],"location-end":"94:74","text":"root.child('/cohorts/' + $cohortKey).exists() &&\n          root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid","location-start":"93:10","values":[{"value":false,"count":2}]}],"location-end":"94:74","text":"auth != null &&\n          root.child('/cohorts/' + $cohortKey).exists() &&\n          root.child('/cohorts/' + $cohortKey + '/owner').val() == auth.uid","location-start":"92:19","values":[{"value":false,"count":3}]},".read":{"text":"true","location-start":"91:17","location-end":"91:20","values":[{"value":true,"count":2}]}}},"cohorts":{".read":{"text":"true","location-start":"98:15","location-end":"98:18","values":[{"value":true,"count":3}]},"$cohortKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"101:19","location-end":"101:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@699481538","count":1},{"value":"hash@439455760","count":1}]},{"text":"null","location-start":"101:27","location-end":"101:30","values":[{"value":null,"count":3}]}],"location-end":"101:30","text":"auth != null","location-start":"101:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"102:10","location-end":"102:16","values":[{"value":"hash@775241158","count":1},{"value":"hash@702597860","count":1}]},{"text":"exists","location-start":"102:18","location-end":"102:23","values":[{"value":"exists","count":2}]}],"location-end":"102:23","text":"newData.exists","location-start":"102:10","values":[{"value":"hash@1310212858","count":1},{"value":"hash@24925807","count":1}]}],"location-end":"102:25","text":"newData.exists()","location-start":"102:10","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"103:11","location-end":"103:14","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"103:16","location-end":"103:20","values":[{"value":"child","count":2}]}],"location-end":"103:20","text":"root.child","location-start":"103:11","values":[{"value":"hash@1327129038","count":1},{"value":"hash@2048792976","count":1}]},{"children":[{"text":"'/admins/'","location-start":"103:22","location-end":"103:31","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"103:35","location-end":"103:38","values":[{"value":"hash@699481538","count":1},{"value":"hash@439455760","count":1}]},{"text":"uid","location-start":"103:40","location-end":"103:42","values":[{"value":"uid","count":2}]}],"location-end":"103:42","text":"auth.uid","location-start":"103:35","values":[{"value":"alice","count":2}]}],"location-end":"103:42","text":"'/admins/' + auth.uid","location-start":"103:22","values":[{"value":"/admins/alice","count":2}]}],"location-end":"103:43","text":"root.child('/admins/' + auth.uid)","location-start":"103:11","values":[{"value":"hash@904955535","count":2}]},{"text":"exists","location-start":"103:45","location-end":"103:50","values":[{"value":"exists","count":2}]}],"location-end":"103:50","text":"root.child('/admins/' + auth.uid).exists","location-start":"103:11","values":[{"value":"hash@1868892866","count":1},{"value":"hash@1824106451","count":1}]}],"location-end":"103:52","text":"root.child('/admins/' + auth.uid).exists()","location-start":"103:11","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"105:11","location-end":"105:17","values":[{"value":"hash@775241158","count":1},{"value":"hash@702597860","count":1}]},{"text":"child","location-start":"105:19","location-end":"105:23","values":[{"value":"child","count":2}]}],"location-end":"105:23","text":"newData.child","location-start":"105:11","values":[{"value":"hash@1757004261","count":1},{"value":"hash@1134683978","count":1}]},{"text":"'isPublic'","location-start":"105:25","location-end":"105:34","values":[{"value":"isPublic","count":2}]}],"location-end":"105:35","text":"newData.child('isPublic')","location-start":"105:11","values":[{"value":"hash@1681539482","count":1},{"value":"hash@546115199","count":1}]},{"text":"exists","location-start":"105:37","location-end":"105:42","values":[{"value":"exists","count":2}]}],"location-end":"105:42","text":"newData.child('isPublic').exists","location-start":"105:11","values":[{"value":"hash@2016561346","count":1},{"value":"hash@710234471","count":1}]}],"location-end":"105:44","text":"newData.child('isPublic').exists()","location-start":"105:11","values":[{"value":false,"count":2}]}],"location-end":"105:44","text":"!newData.child('isPublic').exists()","location-start":"105:10","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"108:17","location-end":"108:20","values":[{"value":"hash@877378730","count":1},{"value":"hash@-1612136809","count":1}]},{"text":"exists","location-start":"108:22","location-end":"108:27","values":[{"value":"exists","count":2}]}],"location-end":"108:27","text":"data.exists","location-start":"108:17","values":[{"value":"hash@1069968924","count":1},{"value":"hash@200539329","count":1}]}],"location-end":"108:29","text":"data.exists()","location-start":"108:17","values":[{"value":false,"count":2}]}],"location-end":"108:29","text":"!data.exists()","location-start":"108:16","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"109:18","location-end":"109:24","values":[{"value":"hash@775241158","count":1},{"value":"hash@702597860","count":1}]},{"text":"child","location-start":"109:26","location-end":"109:30","values":[{"value":"child","count":2}]}],"location-end":"109:30","text":"newData.child","location-start":"109:18","values":[{"value":"hash@425076456","count":1},{"value":"hash@1193591106","count":1}]},{"text":"'owner'","location-start":"109:32","location-end":"109:38","values":[{"value":"owner","count":2}]}],"location-end":"109:39","text":"newData.child('owner')","location-start":"109:18","values":[{"value":"hash@802591433","count":1},{"value":"hash@252891439","count":1}]},{"text":"exists","location-start":"109:41","location-end":"109:46","values":[{"value":"exists","count":2}]}],"location-end":"109:46","text":"newData.child('owner').exists","location-start":"109:18","values":[{"value":"hash@1162394537","count":1},{"value":"hash@265054147","count":1}]}],"location-end":"109:48","text":"newData.child('owner').exists()","location-start":"109:18","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"110:18","location-end":"110:24","values":[]},{"text":"child","location-start":"110:26","location-end":"110:30","values":[]}],"location-end":"110:30","text":"newData.child","location-start":"110:18","values":[]},{"text":"'owner'","location-start":"110:32","location-end":"110:38","values":[]}],"location-end":"110:39","text":"newData.child('owner')","location-start":"110:18","values":[]},{"text":"val","location-start":"110:41","location-end":"110:43","values":[]}],"location-end":"110:43","text":"newData.child('owner').val","location-start":"110:18","values":[]}],"location-end":"110:45","text":"newData.child('owner').val()","location-start":"110:18","values":[]},{"children":[{"text":"auth","location-start":"110:50","location-end":"110:53","values":[]},{"text":"uid","location-start":"110:55","location-end":"110:57","values":[]}],"location-end":"110:57","text":"auth.uid","location-start":"110:50","values":[]}],"location-end":"110:57","text":"newData.child('owner').val() == auth.uid","location-start":"110:18","values":[]}],"location-end":"110:57","text":"newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"109:18","values":[{"value":false,"count":2}]}],"location-end":"110:57","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"108:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"112:16","location-end":"112:19","values":[{"value":"hash@877378730","count":1},{"value":"hash@-1612136809","count":1}]},{"text":"exists","location-start":"112:21","location-end":"112:26","values":[{"value":"exists","count":2}]}],"location-end":"112:26","text":"data.exists","location-start":"112:16","values":[{"value":"hash@1232247698","count":1},{"value":"hash@466454287","count":1}]}],"location-end":"112:28","text":"data.exists()","location-start":"112:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"112:33","location-end":"112:36","values":[]},{"text":"child","location-start":"112:38","location-end":"112:42","values":[]}],"location-end":"112:42","text":"data.child","location-start":"112:33","values":[]},{"text":"'owner'","location-start":"112:44","location-end":"112:50","values":[]}],"location-end":"112:51","text":"data.child('owner')","location-start":"112:33","values":[]},{"text":"val","location-start":"112:53","location-end":"112:55","values":[]}],"location-end":"112:55","text":"data.child('owner').val","location-start":"112:33","values":[]}],"location-end":"112:57","text":"data.child('owner').val()","location-start":"112:33","values":[]},{"children":[{"text":"auth","location-start":"112:62","location-end":"112:65","values":[]},{"text":"uid","location-start":"112:67","location-end":"112:69","values":[]}],"location-end":"112:69","text":"auth.uid","location-start":"112:62","values":[]}],"location-end":"112:69","text":"data.child('owner').val() == auth.uid","location-start":"112:33","values":[]}],"location-end":"112:69","text":"data.exists() && data.child('owner').val() == auth.uid","location-start":"112:16","values":[{"value":false,"count":2}]}],"location-end":"113:14","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )","location-start":"108:16","values":[{"value":false,"count":2}]}],"location-end":"114:12","text":"!newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )","location-start":"105:10","values":[{"value":false,"count":2}]}],"location-end":"115:10","text":"root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          )","location-start":"103:11","values":[{"value":false,"count":2}]}],"location-end":"115:11","text":"newData.exists() &&\n          (root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          ))","location-start":"102:10","values":[{"value":false,"count":2}]}],"location-end":"115:11","text":"auth != null &&\n          newData.exists() &&\n          (root.child('/admins/' + auth.uid).exists() ||\n          (\n          !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          ))","location-start":"101:19","values":[{"value":false,"count":3}]}}},"studentJoinedCourses":{".read":{"text":"false","location-start":"366:15","location-end":"366:19","values":[{"value":false,"count":3}]},"$studentKey":{".read":{"children":[{"children":[{"text":"auth","location-start":"368:18","location-end":"368:21","values":[{"value":"hash@19476799","count":1}]},{"text":"null","location-start":"368:26","location-end":"368:29","values":[{"value":null,"count":1}]}],"location-end":"368:29","text":"auth != null","location-start":"368:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"text":"auth","location-start":"368:34","location-end":"368:37","values":[{"value":"hash@19476799","count":1}]},{"text":"uid","location-start":"368:39","location-end":"368:41","values":[{"value":"uid","count":1}]}],"location-end":"368:41","text":"auth.uid","location-start":"368:34","values":[{"value":"alice","count":1}]},{"text":"$studentKey","location-start":"368:46","location-end":"368:56","values":[{"value":"someNode","count":1}]}],"location-end":"368:56","text":"auth.uid == $studentKey","location-start":"368:34","values":[{"value":false,"count":1}]}],"location-end":"368:56","text":"auth != null && auth.uid == $studentKey","location-start":"368:18","values":[{"value":false,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"370:21","location-end":"370:24","values":[]},{"text":"null","location-start":"370:29","location-end":"370:32","values":[]}],"location-end":"370:32","text":"auth != null","location-start":"370:21","values":[]},{"children":[{"children":[{"children":[{"text":"$studentKey","location-start":"371:14","location-end":"371:24","values":[]},{"children":[{"text":"auth","location-start":"371:29","location-end":"371:32","values":[]},{"text":"uid","location-start":"371:34","location-end":"371:36","values":[]}],"location-end":"371:36","text":"auth.uid","location-start":"371:29","values":[]}],"location-end":"371:36","text":"$studentKey == auth.uid","location-start":"371:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"372:14","location-end":"372:17","values":[]},{"text":"child","location-start":"372:19","location-end":"372:23","values":[]}],"location-end":"372:23","text":"root.child","location-start":"372:14","values":[]},{"children":[{"text":"'studentCoursePasswords/'","location-start":"372:25","location-end":"372:49","values":[]},{"text":"$courseKey","location-start":"372:53","location-end":"372:62","values":[]}],"location-end":"372:62","text":"'studentCoursePasswords/' + $courseKey","location-start":"372:25","values":[]}],"location-end":"372:63","text":"root.child('studentCoursePasswords/' + $courseKey)","location-start":"372:14","values":[]},{"text":"exists","location-start":"372:65","location-end":"372:70","values":[]}],"location-end":"372:70","text":"root.child('studentCoursePasswords/' + $courseKey).exists","location-start":"372:14","values":[]}],"location-end":"372:72","text":"root.child('studentCoursePasswords/' + $courseKey).exists()","location-start":"372:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"373:14","location-end":"373:17","values":[]},{"text":"child","location-start":"373:19","location-end":"373:23","values":[]}],"location-end":"373:23","text":"root.child","location-start":"373:14","values":[]},{"children":[{"children":[{"children":[{"text":"'studentCoursePasswords/'","location-start":"373:25","location-end":"373:49","values":[]},{"text":"$courseKey","location-start":"373:53","location-end":"373:62","values":[]}],"location-end":"373:62","text":"'studentCoursePasswords/' + $courseKey","location-start":"373:25","values":[]},{"text":"'/'","location-start":"373:66","location-end":"373:68","values":[]}],"location-end":"373:68","text":"'studentCoursePasswords/' + $courseKey + '/'","location-start":"373:25","values":[]},{"text":"$studentKey","location-start":"373:72","location-end":"373:82","values":[]}],"location-end":"373:82","text":"'studentCoursePasswords/' + $courseKey + '/' + $studentKey","location-start":"373:25","values":[]}],"location-end":"373:83","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey)","location-start":"373:14","values":[]},{"text":"exists","location-start":"373:85","location-end":"373:90","values":[]}],"location-end":"373:90","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists","location-start":"373:14","values":[]}],"location-end":"373:92","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"373:14","values":[]}],"location-end":"373:92","text":"root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"372:14","values":[]}],"location-end":"373:92","text":"$studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"371:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"375:14","location-end":"375:17","values":[]},{"text":"child","location-start":"375:19","location-end":"375:23","values":[]}],"location-end":"375:23","text":"root.child","location-start":"375:14","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"375:25","location-end":"375:34","values":[]},{"text":"$courseKey","location-start":"375:38","location-end":"375:47","values":[]}],"location-end":"375:47","text":"'courses/' + $courseKey","location-start":"375:25","values":[]},{"text":"'/owner'","location-start":"375:51","location-end":"375:58","values":[]}],"location-end":"375:58","text":"'courses/' + $courseKey + '/owner'","location-start":"375:25","values":[]}],"location-end":"375:59","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"375:14","values":[]},{"text":"val","location-start":"375:61","location-end":"375:63","values":[]}],"location-end":"375:63","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"375:14","values":[]}],"location-end":"375:65","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"375:14","values":[]},{"children":[{"text":"auth","location-start":"375:70","location-end":"375:73","values":[]},{"text":"uid","location-start":"375:75","location-end":"375:77","values":[]}],"location-end":"375:77","text":"auth.uid","location-start":"375:70","values":[]}],"location-end":"375:77","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"375:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"376:14","location-end":"376:17","values":[]},{"text":"child","location-start":"376:19","location-end":"376:23","values":[]}],"location-end":"376:23","text":"root.child","location-start":"376:14","values":[]},{"children":[{"children":[{"children":[{"text":"'/courseAssistants/'","location-start":"376:25","location-end":"376:44","values":[]},{"text":"$courseKey","location-start":"376:48","location-end":"376:57","values":[]}],"location-end":"376:57","text":"'/courseAssistants/' + $courseKey","location-start":"376:25","values":[]},{"text":"'/'","location-start":"376:61","location-end":"376:63","values":[]}],"location-end":"376:63","text":"'/courseAssistants/' + $courseKey + '/'","location-start":"376:25","values":[]},{"children":[{"text":"auth","location-start":"376:67","location-end":"376:70","values":[]},{"text":"uid","location-start":"376:72","location-end":"376:74","values":[]}],"location-end":"376:74","text":"auth.uid","location-start":"376:67","values":[]}],"location-end":"376:74","text":"'/courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"376:25","values":[]}],"location-end":"376:75","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"376:14","values":[]},{"text":"val","location-start":"376:77","location-end":"376:79","values":[]}],"location-end":"376:79","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val","location-start":"376:14","values":[]}],"location-end":"376:81","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val()","location-start":"376:14","values":[]},{"text":"true","location-start":"376:86","location-end":"376:89","values":[]}],"location-end":"376:89","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"376:14","values":[]}],"location-end":"376:89","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"375:14","values":[]}],"location-end":"377:12","text":"$studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n            ) || (\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            )","location-start":"371:14","values":[]}],"location-end":"377:13","text":"auth != null && ((\n              $studentKey == auth.uid &&\n              root.child('studentCoursePasswords/' + $courseKey).exists() &&\n              root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()\n            ) || (\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ))","location-start":"370:21","values":[]}}}},"cohortCourses":{".write":{"text":"false","location-start":"72:16","location-end":"72:20","values":[{"value":false,"count":5}]},".read":{"text":"true","location-start":"71:15","location-end":"71:18","values":[{"value":true,"count":3}]},"$cohortKey":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"76:12","location-end":"76:15","values":[]},{"text":"null","location-start":"76:20","location-end":"76:23","values":[]}],"location-end":"76:23","text":"auth != null","location-start":"76:12","values":[]},{"children":[{"children":[{"children":[{"text":"auth","location-start":"77:13","location-end":"77:16","values":[]},{"text":"uid","location-start":"77:18","location-end":"77:20","values":[]}],"location-end":"77:20","text":"auth.uid","location-start":"77:13","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"77:25","location-end":"77:28","values":[]},{"text":"child","location-start":"77:30","location-end":"77:34","values":[]}],"location-end":"77:34","text":"root.child","location-start":"77:25","values":[]},{"children":[{"children":[{"text":"'/cohorts/'","location-start":"77:36","location-end":"77:46","values":[]},{"text":"$cohortKey","location-start":"77:50","location-end":"77:59","values":[]}],"location-end":"77:59","text":"'/cohorts/' + $cohortKey","location-start":"77:36","values":[]},{"text":"'/owner'","location-start":"77:63","location-end":"77:70","values":[]}],"location-end":"77:70","text":"'/cohorts/' + $cohortKey + '/owner'","location-start":"77:36","values":[]}],"location-end":"77:71","text":"root.child('/cohorts/' + $cohortKey + '/owner')","location-start":"77:25","values":[]},{"text":"val","location-start":"77:73","location-end":"77:75","values":[]}],"location-end":"77:75","text":"root.child('/cohorts/' + $cohortKey + '/owner').val","location-start":"77:25","values":[]}],"location-end":"77:77","text":"root.child('/cohorts/' + $cohortKey + '/owner').val()","location-start":"77:25","values":[]}],"location-end":"77:77","text":"auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val()","location-start":"77:13","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"78:12","location-end":"78:15","values":[]},{"text":"child","location-start":"78:17","location-end":"78:21","values":[]}],"location-end":"78:21","text":"root.child","location-start":"78:12","values":[]},{"children":[{"children":[{"children":[{"text":"'/cohortAssistants/'","location-start":"78:23","location-end":"78:42","values":[]},{"text":"$cohortKey","location-start":"78:46","location-end":"78:55","values":[]}],"location-end":"78:55","text":"'/cohortAssistants/' + $cohortKey","location-start":"78:23","values":[]},{"text":"'/'","location-start":"78:59","location-end":"78:61","values":[]}],"location-end":"78:61","text":"'/cohortAssistants/' + $cohortKey + '/'","location-start":"78:23","values":[]},{"children":[{"text":"auth","location-start":"78:65","location-end":"78:68","values":[]},{"text":"uid","location-start":"78:70","location-end":"78:72","values":[]}],"location-end":"78:72","text":"auth.uid","location-start":"78:65","values":[]}],"location-end":"78:72","text":"'/cohortAssistants/' + $cohortKey + '/' + auth.uid","location-start":"78:23","values":[]}],"location-end":"78:73","text":"root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid)","location-start":"78:12","values":[]},{"text":"exists","location-start":"78:75","location-end":"78:80","values":[]}],"location-end":"78:80","text":"root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists","location-start":"78:12","values":[]}],"location-end":"78:82","text":"root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists()","location-start":"78:12","values":[]}],"location-end":"78:82","text":"auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val() ||\n            root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists()","location-start":"77:13","values":[]}],"location-end":"78:83","text":"auth != null &&\n            (auth.uid == root.child('/cohorts/' + $cohortKey + '/owner').val() ||\n            root.child('/cohortAssistants/' + $cohortKey + '/' + auth.uid).exists())","location-start":"76:12","values":[]}}}},"jupyterSolutionsQueue":{"responses":{"$taskKey":{".write":{"children":[{"children":[{"children":[{"text":"newData","location-start":"219:22","location-end":"219:28","values":[]},{"text":"exists","location-start":"219:30","location-end":"219:35","values":[]}],"location-end":"219:35","text":"newData.exists","location-start":"219:22","values":[]}],"location-end":"219:37","text":"newData.exists()","location-start":"219:22","values":[]}],"location-end":"219:37","text":"!newData.exists()","location-start":"219:21","values":[]},".read":{"children":[{"text":"auth","location-start":"218:20","location-end":"218:23","values":[]},{"text":"null","location-start":"218:28","location-end":"218:31","values":[]}],"location-end":"218:31","text":"auth != null","location-start":"218:20","values":[]}}},"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"226:21","location-end":"226:24","values":[]},{"text":"null","location-start":"226:29","location-end":"226:32","values":[]}],"location-end":"226:32","text":"auth != null","location-start":"226:21","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"226:37","location-end":"226:43","values":[]},{"text":"child","location-start":"226:45","location-end":"226:49","values":[]}],"location-end":"226:49","text":"newData.child","location-start":"226:37","values":[]},{"text":"'owner'","location-start":"226:51","location-end":"226:57","values":[]}],"location-end":"226:58","text":"newData.child('owner')","location-start":"226:37","values":[]},{"text":"val","location-start":"226:60","location-end":"226:62","values":[]}],"location-end":"226:62","text":"newData.child('owner').val","location-start":"226:37","values":[]}],"location-end":"226:64","text":"newData.child('owner').val()","location-start":"226:37","values":[]},{"children":[{"text":"auth","location-start":"226:69","location-end":"226:72","values":[]},{"text":"uid","location-start":"226:74","location-end":"226:76","values":[]}],"location-end":"226:76","text":"auth.uid","location-start":"226:69","values":[]}],"location-end":"226:76","text":"newData.child('owner').val() == auth.uid","location-start":"226:37","values":[]}],"location-end":"226:76","text":"auth != null && newData.child('owner').val() == auth.uid","location-start":"226:21","values":[]},".read":{"text":"false","location-start":"225:19","location-end":"225:23","values":[]}}}},"activities":{".read":{"children":[{"children":[{"text":"auth","location-start":"3:16","location-end":"3:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@272514878","count":1}]},{"text":"null","location-start":"3:24","location-end":"3:27","values":[{"value":null,"count":2}]}],"location-end":"3:27","text":"auth != null","location-start":"3:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"text":"query","location-start":"4:10","location-end":"4:14","values":[{"value":"hash@1065180382","count":1}]},{"text":"orderByChild","location-start":"4:16","location-end":"4:27","values":[{"value":"orderByChild","count":1}]}],"location-end":"4:27","text":"query.orderByChild","location-start":"4:10","values":[{"value":null,"count":1}]},{"text":"'path'","location-start":"4:32","location-end":"4:37","values":[]}],"location-end":"4:37","text":"query.orderByChild == 'path'","location-start":"4:10","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"5:10","location-end":"5:13","values":[]},{"text":"child","location-start":"5:15","location-end":"5:19","values":[]}],"location-end":"5:19","text":"root.child","location-start":"5:10","values":[]},{"children":[{"children":[{"text":"'/paths/'","location-start":"5:21","location-end":"5:29","values":[]},{"children":[{"text":"query","location-start":"5:33","location-end":"5:37","values":[]},{"text":"equalTo","location-start":"5:39","location-end":"5:45","values":[]}],"location-end":"5:45","text":"query.equalTo","location-start":"5:33","values":[]}],"location-end":"5:45","text":"'/paths/' + query.equalTo","location-start":"5:21","values":[]},{"text":"'/isPublic'","location-start":"5:49","location-end":"5:59","values":[]}],"location-end":"5:59","text":"'/paths/' + query.equalTo + '/isPublic'","location-start":"5:21","values":[]}],"location-end":"5:60","text":"root.child('/paths/' + query.equalTo + '/isPublic')","location-start":"5:10","values":[]},{"text":"val","location-start":"5:62","location-end":"5:64","values":[]}],"location-end":"5:64","text":"root.child('/paths/' + query.equalTo + '/isPublic').val","location-start":"5:10","values":[]}],"location-end":"5:66","text":"root.child('/paths/' + query.equalTo + '/isPublic').val()","location-start":"5:10","values":[]},{"text":"true","location-start":"5:71","location-end":"5:74","values":[]}],"location-end":"5:74","text":"root.child('/paths/' + query.equalTo + '/isPublic').val() == true","location-start":"5:10","values":[]}],"location-end":"5:74","text":"query.orderByChild == 'path' &&\n          root.child('/paths/' + query.equalTo + '/isPublic').val() == true","location-start":"4:10","values":[{"value":false,"count":1}]}],"location-end":"6:8","text":"auth != null || (\n          query.orderByChild == 'path' &&\n          root.child('/paths/' + query.equalTo + '/isPublic').val() == true\n        )","location-start":"3:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$activityKey":{".write":{"children":[{"children":[{"children":[{"text":"auth","location-start":"10:19","location-end":"10:22","values":[]},{"text":"null","location-start":"10:27","location-end":"10:30","values":[]}],"location-end":"10:30","text":"auth != null","location-start":"10:19","values":[]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"11:11","location-end":"11:17","values":[]},{"text":"exists","location-start":"11:19","location-end":"11:24","values":[]}],"location-end":"11:24","text":"newData.exists","location-start":"11:11","values":[]}],"location-end":"11:26","text":"newData.exists()","location-start":"11:11","values":[]}],"location-end":"11:26","text":"!newData.exists()","location-start":"11:10","values":[]}],"location-end":"11:26","text":"auth != null &&\n          !newData.exists()","location-start":"10:19","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"12:12","location-end":"12:18","values":[]},{"text":"child","location-start":"12:20","location-end":"12:24","values":[]}],"location-end":"12:24","text":"newData.child","location-start":"12:12","values":[]},{"text":"'path'","location-start":"12:26","location-end":"12:31","values":[]}],"location-end":"12:32","text":"newData.child('path')","location-start":"12:12","values":[]},{"text":"exists","location-start":"12:34","location-end":"12:39","values":[]}],"location-end":"12:39","text":"newData.child('path').exists","location-start":"12:12","values":[]}],"location-end":"12:41","text":"newData.child('path').exists()","location-start":"12:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"13:12","location-end":"13:15","values":[]},{"text":"child","location-start":"13:17","location-end":"13:21","values":[]}],"location-end":"13:21","text":"root.child","location-start":"13:12","values":[]},{"children":[{"text":"'paths/'","location-start":"13:23","location-end":"13:30","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"13:34","location-end":"13:40","values":[]},{"text":"child","location-start":"13:42","location-end":"13:46","values":[]}],"location-end":"13:46","text":"newData.child","location-start":"13:34","values":[]},{"text":"'path'","location-start":"13:48","location-end":"13:53","values":[]}],"location-end":"13:54","text":"newData.child('path')","location-start":"13:34","values":[]},{"text":"val","location-start":"13:56","location-end":"13:58","values":[]}],"location-end":"13:58","text":"newData.child('path').val","location-start":"13:34","values":[]}],"location-end":"13:60","text":"newData.child('path').val()","location-start":"13:34","values":[]}],"location-end":"13:60","text":"'paths/' + newData.child('path').val()","location-start":"13:23","values":[]}],"location-end":"13:61","text":"root.child('paths/' + newData.child('path').val())","location-start":"13:12","values":[]},{"text":"exists","location-start":"13:63","location-end":"13:68","values":[]}],"location-end":"13:68","text":"root.child('paths/' + newData.child('path').val()).exists","location-start":"13:12","values":[]}],"location-end":"13:70","text":"root.child('paths/' + newData.child('path').val()).exists()","location-start":"13:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"14:14","location-end":"14:17","values":[]},{"text":"child","location-start":"14:19","location-end":"14:23","values":[]}],"location-end":"14:23","text":"root.child","location-start":"14:14","values":[]},{"children":[{"children":[{"text":"'paths/'","location-start":"14:25","location-end":"14:32","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"14:36","location-end":"14:42","values":[]},{"text":"child","location-start":"14:44","location-end":"14:48","values":[]}],"location-end":"14:48","text":"newData.child","location-start":"14:36","values":[]},{"text":"'path'","location-start":"14:50","location-end":"14:55","values":[]}],"location-end":"14:56","text":"newData.child('path')","location-start":"14:36","values":[]},{"text":"val","location-start":"14:58","location-end":"14:60","values":[]}],"location-end":"14:60","text":"newData.child('path').val","location-start":"14:36","values":[]}],"location-end":"14:62","text":"newData.child('path').val()","location-start":"14:36","values":[]}],"location-end":"14:62","text":"'paths/' + newData.child('path').val()","location-start":"14:25","values":[]},{"text":"'/owner'","location-start":"15:16","location-end":"15:23","values":[]}],"location-end":"15:23","text":"'paths/' + newData.child('path').val() +\n                '/owner'","location-start":"14:25","values":[]}],"location-end":"15:24","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner')","location-start":"14:14","values":[]},{"text":"val","location-start":"15:26","location-end":"15:28","values":[]}],"location-end":"15:28","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val","location-start":"14:14","values":[]}],"location-end":"15:30","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val()","location-start":"14:14","values":[]},{"children":[{"text":"auth","location-start":"15:35","location-end":"15:38","values":[]},{"text":"uid","location-start":"15:40","location-end":"15:42","values":[]}],"location-end":"15:42","text":"auth.uid","location-start":"15:35","values":[]}],"location-end":"15:42","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid","location-start":"14:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"16:14","location-end":"16:17","values":[]},{"text":"child","location-start":"16:19","location-end":"16:23","values":[]}],"location-end":"16:23","text":"root.child","location-start":"16:14","values":[]},{"children":[{"children":[{"children":[{"text":"'pathAssistants/'","location-start":"16:25","location-end":"16:41","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"16:45","location-end":"16:51","values":[]},{"text":"child","location-start":"16:53","location-end":"16:57","values":[]}],"location-end":"16:57","text":"newData.child","location-start":"16:45","values":[]},{"text":"'path'","location-start":"16:59","location-end":"16:64","values":[]}],"location-end":"16:65","text":"newData.child('path')","location-start":"16:45","values":[]},{"text":"val","location-start":"16:67","location-end":"16:69","values":[]}],"location-end":"16:69","text":"newData.child('path').val","location-start":"16:45","values":[]}],"location-end":"16:71","text":"newData.child('path').val()","location-start":"16:45","values":[]}],"location-end":"16:71","text":"'pathAssistants/' + newData.child('path').val()","location-start":"16:25","values":[]},{"text":"'/'","location-start":"17:16","location-end":"17:18","values":[]}],"location-end":"17:18","text":"'pathAssistants/' + newData.child('path').val() +\n                '/'","location-start":"16:25","values":[]},{"children":[{"text":"auth","location-start":"17:22","location-end":"17:25","values":[]},{"text":"uid","location-start":"17:27","location-end":"17:29","values":[]}],"location-end":"17:29","text":"auth.uid","location-start":"17:22","values":[]}],"location-end":"17:29","text":"'pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid","location-start":"16:25","values":[]}],"location-end":"17:30","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid)","location-start":"16:14","values":[]},{"text":"exists","location-start":"17:32","location-end":"17:37","values":[]}],"location-end":"17:37","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists","location-start":"16:14","values":[]}],"location-end":"17:39","text":"root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"16:14","values":[]}],"location-end":"17:39","text":"root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()","location-start":"14:14","values":[]}],"location-end":"18:12","text":"root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )","location-start":"13:12","values":[]}],"location-end":"18:12","text":"newData.child('path').exists() &&\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )","location-start":"12:12","values":[]}],"location-end":"19:10","text":"auth != null &&\n          !newData.exists() || (\n            newData.child('path').exists() &&\n            root.child('paths/' + newData.child('path').val()).exists() && (\n              root.child('paths/' + newData.child('path').val() +\n                '/owner').val() == auth.uid ||\n              root.child('pathAssistants/' + newData.child('path').val() +\n                '/' + auth.uid).exists()\n            )\n          )","location-start":"10:19","values":[]},".read":{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"9:18","location-end":"9:21","values":[]},{"text":"child","location-start":"9:23","location-end":"9:27","values":[]}],"location-end":"9:27","text":"root.child","location-start":"9:18","values":[]},{"children":[{"children":[{"text":"'/paths/'","location-start":"9:29","location-end":"9:37","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"9:41","location-end":"9:44","values":[]},{"text":"child","location-start":"9:46","location-end":"9:50","values":[]}],"location-end":"9:50","text":"data.child","location-start":"9:41","values":[]},{"text":"'path'","location-start":"9:52","location-end":"9:57","values":[]}],"location-end":"9:58","text":"data.child('path')","location-start":"9:41","values":[]},{"text":"val","location-start":"9:60","location-end":"9:62","values":[]}],"location-end":"9:62","text":"data.child('path').val","location-start":"9:41","values":[]}],"location-end":"9:64","text":"data.child('path').val()","location-start":"9:41","values":[]}],"location-end":"9:64","text":"'/paths/' + data.child('path').val()","location-start":"9:29","values":[]},{"text":"'/isPublic'","location-start":"9:68","location-end":"9:78","values":[]}],"location-end":"9:78","text":"'/paths/' + data.child('path').val() + '/isPublic'","location-start":"9:29","values":[]}],"location-end":"9:79","text":"root.child('/paths/' + data.child('path').val() + '/isPublic')","location-start":"9:18","values":[]},{"text":"val","location-start":"9:81","location-end":"9:83","values":[]}],"location-end":"9:83","text":"root.child('/paths/' + data.child('path').val() + '/isPublic').val","location-start":"9:18","values":[]}],"location-end":"9:85","text":"root.child('/paths/' + data.child('path').val() + '/isPublic').val()","location-start":"9:18","values":[]},{"text":"true","location-start":"9:90","location-end":"9:93","values":[]}],"location-end":"9:93","text":"root.child('/paths/' + data.child('path').val() + '/isPublic').val() == true","location-start":"9:18","values":[]}}},"users":{".read":{"text":"true","location-start":"427:15","location-end":"427:18","values":[{"value":true,"count":3}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"429:19","location-end":"429:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1092457296","count":1},{"value":"hash@2067983777","count":1}]},{"text":"null","location-start":"429:27","location-end":"429:30","values":[{"value":null,"count":3}]}],"location-end":"429:30","text":"auth != null","location-start":"429:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"429:35","location-end":"429:38","values":[{"value":"hash@1092457296","count":1},{"value":"hash@2067983777","count":1}]},{"text":"uid","location-start":"429:40","location-end":"429:42","values":[{"value":"uid","count":2}]}],"location-end":"429:42","text":"auth.uid","location-start":"429:35","values":[{"value":"alice","count":2}]},{"text":"$userKey","location-start":"429:47","location-end":"429:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"429:54","text":"auth.uid == $userKey","location-start":"429:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"429:54","text":"auth != null && auth.uid == $userKey","location-start":"429:19","values":[{"value":false,"count":2},{"value":true,"count":1}]}}},"usersPrivate":{".read":{"text":"false","location-start":"433:15","location-end":"433:19","values":[{"value":false,"count":3}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"436:19","location-end":"436:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1962476778","count":1},{"value":"hash@690389791","count":1}]},{"text":"null","location-start":"436:27","location-end":"436:30","values":[{"value":null,"count":3}]}],"location-end":"436:30","text":"auth != null","location-start":"436:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"436:35","location-end":"436:38","values":[{"value":"hash@1962476778","count":1},{"value":"hash@690389791","count":1}]},{"text":"uid","location-start":"436:40","location-end":"436:42","values":[{"value":"uid","count":2}]}],"location-end":"436:42","text":"auth.uid","location-start":"436:35","values":[{"value":"alice","count":2}]},{"text":"$userKey","location-start":"436:47","location-end":"436:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"436:54","text":"auth.uid == $userKey","location-start":"436:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"436:54","text":"auth != null && auth.uid == $userKey","location-start":"436:19","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"children":[{"children":[{"text":"auth","location-start":"435:18","location-end":"435:21","values":[{"value":"hash@1913671157","count":1}]},{"text":"null","location-start":"435:26","location-end":"435:29","values":[{"value":null,"count":1}]}],"location-end":"435:29","text":"auth != null","location-start":"435:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"text":"auth","location-start":"435:34","location-end":"435:37","values":[{"value":"hash@1913671157","count":1}]},{"text":"uid","location-start":"435:39","location-end":"435:41","values":[{"value":"uid","count":1}]}],"location-end":"435:41","text":"auth.uid","location-start":"435:34","values":[{"value":"alice","count":1}]},{"text":"$userKey","location-start":"435:46","location-end":"435:53","values":[{"value":"someNode","count":1}]}],"location-end":"435:53","text":"auth.uid == $userKey","location-start":"435:34","values":[{"value":false,"count":1}]}],"location-end":"435:53","text":"auth != null && auth.uid == $userKey","location-start":"435:18","values":[{"value":false,"count":1}]}}},"activityExampleSolutions":{"$activityKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"41:17","location-end":"41:20","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1290669866","count":1},{"value":"hash@628896156","count":1}]},{"text":"null","location-start":"41:25","location-end":"41:28","values":[{"value":null,"count":3}]}],"location-end":"41:28","text":"auth != null","location-start":"41:17","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"41:33","location-end":"41:36","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"41:38","location-end":"41:42","values":[{"value":"child","count":2}]}],"location-end":"41:42","text":"root.child","location-start":"41:33","values":[{"value":"hash@1241436651","count":1},{"value":"hash@1059208046","count":1}]},{"children":[{"children":[{"text":"'/activities/'","location-start":"41:44","location-end":"41:57","values":[{"value":"/activities/","count":2}]},{"text":"$activityKey","location-start":"41:61","location-end":"41:72","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"41:72","text":"'/activities/' + $activityKey","location-start":"41:44","values":[{"value":"/activities/someRandomChildNode","count":1},{"value":"/activities/alice","count":1}]},{"text":"'/owner'","location-start":"41:76","location-end":"41:83","values":[{"value":"/owner","count":2}]}],"location-end":"41:83","text":"'/activities/' + $activityKey + '/owner'","location-start":"41:44","values":[{"value":"/activities/someRandomChildNode/owner","count":1},{"value":"/activities/alice/owner","count":1}]}],"location-end":"41:84","text":"root.child('/activities/' + $activityKey + '/owner')","location-start":"41:33","values":[{"value":"hash@1753458061","count":1},{"value":"hash@1724640573","count":1}]},{"text":"val","location-start":"41:86","location-end":"41:88","values":[{"value":"val","count":2}]}],"location-end":"41:88","text":"root.child('/activities/' + $activityKey + '/owner').val","location-start":"41:33","values":[{"value":"hash@1907218100","count":1},{"value":"hash@1782554057","count":1}]}],"location-end":"41:90","text":"root.child('/activities/' + $activityKey + '/owner').val()","location-start":"41:33","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"41:95","location-end":"41:98","values":[{"value":"hash@1290669866","count":1},{"value":"hash@628896156","count":1}]},{"text":"uid","location-start":"41:100","location-end":"41:102","values":[{"value":"uid","count":2}]}],"location-end":"41:102","text":"auth.uid","location-start":"41:95","values":[{"value":"alice","count":2}]}],"location-end":"41:102","text":"root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"41:33","values":[{"value":false,"count":2}]}],"location-end":"41:102","text":"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"41:17","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"42:16","location-end":"42:19","values":[{"value":"hash@69117498","count":1}]},{"text":"null","location-start":"42:24","location-end":"42:27","values":[{"value":null,"count":1}]}],"location-end":"42:27","text":"auth != null","location-start":"42:16","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"42:32","location-end":"42:35","values":[{"value":"hash@-1767930390","count":1}]},{"text":"child","location-start":"42:37","location-end":"42:41","values":[{"value":"child","count":1}]}],"location-end":"42:41","text":"root.child","location-start":"42:32","values":[{"value":"hash@250006858","count":1}]},{"children":[{"children":[{"text":"'/activities/'","location-start":"42:43","location-end":"42:56","values":[{"value":"/activities/","count":1}]},{"text":"$activityKey","location-start":"42:60","location-end":"42:71","values":[{"value":"someNode","count":1}]}],"location-end":"42:71","text":"'/activities/' + $activityKey","location-start":"42:43","values":[{"value":"/activities/someNode","count":1}]},{"text":"'/owner'","location-start":"42:75","location-end":"42:82","values":[{"value":"/owner","count":1}]}],"location-end":"42:82","text":"'/activities/' + $activityKey + '/owner'","location-start":"42:43","values":[{"value":"/activities/someNode/owner","count":1}]}],"location-end":"42:83","text":"root.child('/activities/' + $activityKey + '/owner')","location-start":"42:32","values":[{"value":"hash@1501923446","count":1}]},{"text":"val","location-start":"42:85","location-end":"42:87","values":[{"value":"val","count":1}]}],"location-end":"42:87","text":"root.child('/activities/' + $activityKey + '/owner').val","location-start":"42:32","values":[{"value":"hash@1112605895","count":1}]}],"location-end":"42:89","text":"root.child('/activities/' + $activityKey + '/owner').val()","location-start":"42:32","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"42:94","location-end":"42:97","values":[{"value":"hash@69117498","count":1}]},{"text":"uid","location-start":"42:99","location-end":"42:101","values":[{"value":"uid","count":1}]}],"location-end":"42:101","text":"auth.uid","location-start":"42:94","values":[{"value":"alice","count":1}]}],"location-end":"42:101","text":"root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"42:32","values":[{"value":false,"count":1}]}],"location-end":"42:101","text":"auth != null && root.child('/activities/' + $activityKey + '/owner').val() == auth.uid","location-start":"42:16","values":[{"value":false,"count":1}]}}},"config":{".write":{"children":[{"children":[{"text":"auth","location-start":"127:17","location-end":"127:20","values":[{"value":"hash@1788853110","count":2},{"value":"hash@1783412927","count":1},{"value":"hash@2061501190","count":1},{"value":"hash@216231455","count":1}]},{"text":"null","location-start":"127:25","location-end":"127:28","values":[{"value":null,"count":5}]}],"location-end":"127:28","text":"auth != null","location-start":"127:17","values":[{"value":false,"count":2},{"value":true,"count":3}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"127:33","location-end":"127:36","values":[{"value":"hash@733261220","count":3}]},{"text":"child","location-start":"127:38","location-end":"127:42","values":[{"value":"child","count":3}]}],"location-end":"127:42","text":"root.child","location-start":"127:33","values":[{"value":"hash@1181440917","count":1},{"value":"hash@2062907904","count":1},{"value":"hash@765463114","count":1}]},{"children":[{"text":"'/admins/'","location-start":"127:44","location-end":"127:53","values":[{"value":"/admins/","count":3}]},{"children":[{"text":"auth","location-start":"127:57","location-end":"127:60","values":[{"value":"hash@1783412927","count":1},{"value":"hash@2061501190","count":1},{"value":"hash@216231455","count":1}]},{"text":"uid","location-start":"127:62","location-end":"127:64","values":[{"value":"uid","count":3}]}],"location-end":"127:64","text":"auth.uid","location-start":"127:57","values":[{"value":"alice","count":3}]}],"location-end":"127:64","text":"'/admins/' + auth.uid","location-start":"127:44","values":[{"value":"/admins/alice","count":3}]}],"location-end":"127:65","text":"root.child('/admins/' + auth.uid)","location-start":"127:33","values":[{"value":"hash@904955535","count":3}]},{"text":"val","location-start":"127:67","location-end":"127:69","values":[{"value":"val","count":3}]}],"location-end":"127:69","text":"root.child('/admins/' + auth.uid).val","location-start":"127:33","values":[{"value":"hash@363783238","count":1},{"value":"hash@663146695","count":1},{"value":"hash@2004328150","count":1}]}],"location-end":"127:71","text":"root.child('/admins/' + auth.uid).val()","location-start":"127:33","values":[{"value":null,"count":3}]},{"text":"true","location-start":"127:76","location-end":"127:79","values":[{"value":true,"count":3}]}],"location-end":"127:79","text":"root.child('/admins/' + auth.uid).val() == true","location-start":"127:33","values":[{"value":false,"count":3}]}],"location-end":"127:79","text":"auth != null && root.child('/admins/' + auth.uid).val() == true","location-start":"127:17","values":[{"value":false,"count":5}]},".read":{"children":[{"children":[{"text":"auth","location-start":"126:16","location-end":"126:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@844867670","count":1},{"value":"hash@1121035618","count":1}]},{"text":"null","location-start":"126:24","location-end":"126:27","values":[{"value":null,"count":3}]}],"location-end":"126:27","text":"auth != null","location-start":"126:16","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"126:32","location-end":"126:35","values":[{"value":"hash@376188588","count":1},{"value":"hash@2123534913","count":1}]},{"text":"child","location-start":"126:37","location-end":"126:41","values":[{"value":"child","count":2}]}],"location-end":"126:41","text":"root.child","location-start":"126:32","values":[{"value":"hash@125322843","count":1},{"value":"hash@573219718","count":1}]},{"children":[{"text":"'/admins/'","location-start":"126:43","location-end":"126:52","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"126:56","location-end":"126:59","values":[{"value":"hash@844867670","count":1},{"value":"hash@1121035618","count":1}]},{"text":"uid","location-start":"126:61","location-end":"126:63","values":[{"value":"uid","count":2}]}],"location-end":"126:63","text":"auth.uid","location-start":"126:56","values":[{"value":"alice","count":2}]}],"location-end":"126:63","text":"'/admins/' + auth.uid","location-start":"126:43","values":[{"value":"/admins/alice","count":2}]}],"location-end":"126:64","text":"root.child('/admins/' + auth.uid)","location-start":"126:32","values":[{"value":"hash@1406522498","count":1},{"value":"hash@-569621029","count":1}]},{"text":"val","location-start":"126:66","location-end":"126:68","values":[{"value":"val","count":2}]}],"location-end":"126:68","text":"root.child('/admins/' + auth.uid).val","location-start":"126:32","values":[{"value":"hash@757576072","count":1},{"value":"hash@840035770","count":1}]}],"location-end":"126:70","text":"root.child('/admins/' + auth.uid).val()","location-start":"126:32","values":[{"value":null,"count":2}]},{"text":"true","location-start":"126:75","location-end":"126:78","values":[{"value":true,"count":2}]}],"location-end":"126:78","text":"root.child('/admins/' + auth.uid).val() == true","location-start":"126:32","values":[{"value":false,"count":2}]}],"location-end":"126:78","text":"auth != null && root.child('/admins/' + auth.uid).val() == true","location-start":"126:16","values":[{"value":false,"count":3}]},"defaultRecommendations":{".read":{"text":"true","location-start":"129:17","location-end":"129:20","values":[]}},"version":{".read":{"text":"true","location-start":"132:17","location-end":"132:20","values":[]}}},"studentCoursePasswords":{".read":{"text":"false","location-start":"352:16","location-end":"352:20","values":[{"value":false,"count":3}]},"$courseKey":{"$studentKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"355:21","location-end":"355:24","values":[]},{"text":"null","location-start":"355:29","location-end":"355:32","values":[]}],"location-end":"355:32","text":"auth != null","location-start":"355:21","values":[]},{"children":[{"children":[{"children":[{"text":"$studentKey","location-start":"356:14","location-end":"356:24","values":[]},{"children":[{"text":"auth","location-start":"356:29","location-end":"356:32","values":[]},{"text":"uid","location-start":"356:34","location-end":"356:36","values":[]}],"location-end":"356:36","text":"auth.uid","location-start":"356:29","values":[]}],"location-end":"356:36","text":"$studentKey == auth.uid","location-start":"356:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"357:14","location-end":"357:17","values":[]},{"text":"child","location-start":"357:19","location-end":"357:23","values":[]}],"location-end":"357:23","text":"root.child","location-start":"357:14","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"357:25","location-end":"357:34","values":[]},{"text":"$courseKey","location-start":"357:38","location-end":"357:47","values":[]}],"location-end":"357:47","text":"'courses/' + $courseKey","location-start":"357:25","values":[]},{"text":"'/owner'","location-start":"357:51","location-end":"357:58","values":[]}],"location-end":"357:58","text":"'courses/' + $courseKey + '/owner'","location-start":"357:25","values":[]}],"location-end":"357:59","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"357:14","values":[]},{"text":"val","location-start":"357:61","location-end":"357:63","values":[]}],"location-end":"357:63","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"357:14","values":[]}],"location-end":"357:65","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"357:14","values":[]},{"children":[{"text":"auth","location-start":"357:70","location-end":"357:73","values":[]},{"text":"uid","location-start":"357:75","location-end":"357:77","values":[]}],"location-end":"357:77","text":"auth.uid","location-start":"357:70","values":[]}],"location-end":"357:77","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"357:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"358:14","location-end":"358:17","values":[]},{"text":"child","location-start":"358:19","location-end":"358:23","values":[]}],"location-end":"358:23","text":"root.child","location-start":"358:14","values":[]},{"children":[{"children":[{"children":[{"text":"'/courseAssistants/'","location-start":"358:25","location-end":"358:44","values":[]},{"text":"$courseKey","location-start":"358:48","location-end":"358:57","values":[]}],"location-end":"358:57","text":"'/courseAssistants/' + $courseKey","location-start":"358:25","values":[]},{"text":"'/'","location-start":"358:61","location-end":"358:63","values":[]}],"location-end":"358:63","text":"'/courseAssistants/' + $courseKey + '/'","location-start":"358:25","values":[]},{"children":[{"text":"auth","location-start":"358:67","location-end":"358:70","values":[]},{"text":"uid","location-start":"358:72","location-end":"358:74","values":[]}],"location-end":"358:74","text":"auth.uid","location-start":"358:67","values":[]}],"location-end":"358:74","text":"'/courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"358:25","values":[]}],"location-end":"358:75","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"358:14","values":[]},{"text":"val","location-start":"358:77","location-end":"358:79","values":[]}],"location-end":"358:79","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val","location-start":"358:14","values":[]}],"location-end":"358:81","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val()","location-start":"358:14","values":[]},{"text":"true","location-start":"358:86","location-end":"358:89","values":[]}],"location-end":"358:89","text":"root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"358:14","values":[]}],"location-end":"358:89","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"357:14","values":[]}],"location-end":"358:89","text":"$studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true","location-start":"356:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"360:12","location-end":"360:15","values":[]},{"text":"child","location-start":"360:17","location-end":"360:21","values":[]}],"location-end":"360:21","text":"root.child","location-start":"360:12","values":[]},{"children":[{"text":"'coursePasswords/'","location-start":"360:23","location-end":"360:40","values":[]},{"text":"$courseKey","location-start":"360:44","location-end":"360:53","values":[]}],"location-end":"360:53","text":"'coursePasswords/' + $courseKey","location-start":"360:23","values":[]}],"location-end":"360:54","text":"root.child('coursePasswords/' + $courseKey)","location-start":"360:12","values":[]},{"text":"exists","location-start":"360:56","location-end":"360:61","values":[]}],"location-end":"360:61","text":"root.child('coursePasswords/' + $courseKey).exists","location-start":"360:12","values":[]}],"location-end":"360:63","text":"root.child('coursePasswords/' + $courseKey).exists()","location-start":"360:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"361:13","location-end":"361:16","values":[]},{"text":"child","location-start":"361:18","location-end":"361:22","values":[]}],"location-end":"361:22","text":"root.child","location-start":"361:13","values":[]},{"children":[{"text":"'coursePasswords/'","location-start":"361:24","location-end":"361:41","values":[]},{"text":"$courseKey","location-start":"361:45","location-end":"361:54","values":[]}],"location-end":"361:54","text":"'coursePasswords/' + $courseKey","location-start":"361:24","values":[]}],"location-end":"361:55","text":"root.child('coursePasswords/' + $courseKey)","location-start":"361:13","values":[]},{"text":"val","location-start":"361:57","location-end":"361:59","values":[]}],"location-end":"361:59","text":"root.child('coursePasswords/' + $courseKey).val","location-start":"361:13","values":[]}],"location-end":"361:61","text":"root.child('coursePasswords/' + $courseKey).val()","location-start":"361:13","values":[]},{"children":[{"children":[{"text":"newData","location-start":"361:66","location-end":"361:72","values":[]},{"text":"val","location-start":"361:74","location-end":"361:76","values":[]}],"location-end":"361:76","text":"newData.val","location-start":"361:66","values":[]}],"location-end":"361:78","text":"newData.val()","location-start":"361:66","values":[]}],"location-end":"361:78","text":"root.child('coursePasswords/' + $courseKey).val() == newData.val()","location-start":"361:13","values":[]},{"children":[{"children":[{"children":[{"text":"newData","location-start":"361:84","location-end":"361:90","values":[]},{"text":"exists","location-start":"361:92","location-end":"361:97","values":[]}],"location-end":"361:97","text":"newData.exists","location-start":"361:84","values":[]}],"location-end":"361:99","text":"newData.exists()","location-start":"361:84","values":[]}],"location-end":"361:99","text":"!newData.exists()","location-start":"361:83","values":[]}],"location-end":"361:99","text":"root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists()","location-start":"361:13","values":[]}],"location-end":"361:100","text":"root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())","location-start":"360:12","values":[]}],"location-end":"361:100","text":"$studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ) &&\n            root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())","location-start":"356:14","values":[]}],"location-end":"361:100","text":"auth != null && (\n              $studentKey == auth.uid ||\n              root.child('courses/' + $courseKey + '/owner').val() == auth.uid  ||\n              root.child('/courseAssistants/' + $courseKey + '/' + auth.uid).val() == true\n            ) &&\n            root.child('coursePasswords/' + $courseKey).exists() &&\n            (root.child('coursePasswords/' + $courseKey).val() == newData.val() || !newData.exists())","location-start":"355:21","values":[]}}}},"outgoingRequestsQueue":{"tasks":{}},"paths":{".read":{"text":"true","location-start":"290:15","location-end":"290:18","values":[{"value":true,"count":3}]},"$pathKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"293:19","location-end":"293:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1408376675","count":1},{"value":"hash@2111949631","count":1}]},{"text":"null","location-start":"293:27","location-end":"293:30","values":[{"value":null,"count":3}]}],"location-end":"293:30","text":"auth != null","location-start":"293:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"295:12","location-end":"295:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"295:17","location-end":"295:21","values":[{"value":"child","count":2}]}],"location-end":"295:21","text":"root.child","location-start":"295:12","values":[{"value":"hash@363465381","count":1},{"value":"hash@124120306","count":1}]},{"children":[{"text":"'/admins/'","location-start":"295:23","location-end":"295:32","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"295:36","location-end":"295:39","values":[{"value":"hash@1408376675","count":1},{"value":"hash@2111949631","count":1}]},{"text":"uid","location-start":"295:41","location-end":"295:43","values":[{"value":"uid","count":2}]}],"location-end":"295:43","text":"auth.uid","location-start":"295:36","values":[{"value":"alice","count":2}]}],"location-end":"295:43","text":"'/admins/' + auth.uid","location-start":"295:23","values":[{"value":"/admins/alice","count":2}]}],"location-end":"295:44","text":"root.child('/admins/' + auth.uid)","location-start":"295:12","values":[{"value":"hash@904955535","count":2}]},{"text":"exists","location-start":"295:46","location-end":"295:51","values":[{"value":"exists","count":2}]}],"location-end":"295:51","text":"root.child('/admins/' + auth.uid).exists","location-start":"295:12","values":[{"value":"hash@1534548726","count":1},{"value":"hash@1674254273","count":1}]}],"location-end":"295:53","text":"root.child('/admins/' + auth.uid).exists()","location-start":"295:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"296:15","location-end":"296:18","values":[{"value":"hash@1253675172","count":1},{"value":"hash@349326126","count":1}]},{"text":"exists","location-start":"296:20","location-end":"296:25","values":[{"value":"exists","count":2}]}],"location-end":"296:25","text":"data.exists","location-start":"296:15","values":[{"value":"hash@600532609","count":1},{"value":"hash@26560526","count":1}]}],"location-end":"296:27","text":"data.exists()","location-start":"296:15","values":[{"value":false,"count":2}]}],"location-end":"296:27","text":"!data.exists()","location-start":"296:14","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"296:32","location-end":"296:38","values":[{"value":"hash@1619094684","count":1},{"value":"hash@1918812976","count":1}]},{"text":"child","location-start":"296:40","location-end":"296:44","values":[{"value":"child","count":2}]}],"location-end":"296:44","text":"newData.child","location-start":"296:32","values":[{"value":"hash@633060619","count":1},{"value":"hash@1525986293","count":1}]},{"text":"'owner'","location-start":"296:46","location-end":"296:52","values":[{"value":"owner","count":2}]}],"location-end":"296:53","text":"newData.child('owner')","location-start":"296:32","values":[{"value":"hash@1157292960","count":1},{"value":"hash@1631240821","count":1}]},{"text":"val","location-start":"296:55","location-end":"296:57","values":[{"value":"val","count":2}]}],"location-end":"296:57","text":"newData.child('owner').val","location-start":"296:32","values":[{"value":"hash@1014856400","count":1},{"value":"hash@1245979492","count":1}]}],"location-end":"296:59","text":"newData.child('owner').val()","location-start":"296:32","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"296:64","location-end":"296:67","values":[{"value":"hash@1408376675","count":1},{"value":"hash@2111949631","count":1}]},{"text":"uid","location-start":"296:69","location-end":"296:71","values":[{"value":"uid","count":2}]}],"location-end":"296:71","text":"auth.uid","location-start":"296:64","values":[{"value":"alice","count":2}]}],"location-end":"296:71","text":"newData.child('owner').val() == auth.uid","location-start":"296:32","values":[{"value":false,"count":2}]}],"location-end":"296:71","text":"!data.exists() && newData.child('owner').val() == auth.uid","location-start":"296:14","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"297:14","location-end":"297:17","values":[{"value":"hash@1253675172","count":1},{"value":"hash@349326126","count":1}]},{"text":"exists","location-start":"297:19","location-end":"297:24","values":[{"value":"exists","count":2}]}],"location-end":"297:24","text":"data.exists","location-start":"297:14","values":[{"value":"hash@1475548239","count":1},{"value":"hash@1317486175","count":1}]}],"location-end":"297:26","text":"data.exists()","location-start":"297:14","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"298:16","location-end":"298:19","values":[]},{"text":"child","location-start":"298:21","location-end":"298:25","values":[]}],"location-end":"298:25","text":"data.child","location-start":"298:16","values":[]},{"text":"'owner'","location-start":"298:27","location-end":"298:33","values":[]}],"location-end":"298:34","text":"data.child('owner')","location-start":"298:16","values":[]},{"text":"val","location-start":"298:36","location-end":"298:38","values":[]}],"location-end":"298:38","text":"data.child('owner').val","location-start":"298:16","values":[]}],"location-end":"298:40","text":"data.child('owner').val()","location-start":"298:16","values":[]},{"children":[{"text":"auth","location-start":"298:45","location-end":"298:48","values":[]},{"text":"uid","location-start":"298:50","location-end":"298:52","values":[]}],"location-end":"298:52","text":"auth.uid","location-start":"298:45","values":[]}],"location-end":"298:52","text":"data.child('owner').val() == auth.uid","location-start":"298:16","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"299:16","location-end":"299:19","values":[]},{"text":"child","location-start":"299:21","location-end":"299:25","values":[]}],"location-end":"299:25","text":"root.child","location-start":"299:16","values":[]},{"children":[{"children":[{"children":[{"text":"'pathAssistants/'","location-start":"299:27","location-end":"299:43","values":[]},{"text":"$pathKey","location-start":"299:47","location-end":"299:54","values":[]}],"location-end":"299:54","text":"'pathAssistants/' + $pathKey","location-start":"299:27","values":[]},{"text":"'/'","location-start":"299:58","location-end":"299:60","values":[]}],"location-end":"299:60","text":"'pathAssistants/' + $pathKey + '/'","location-start":"299:27","values":[]},{"children":[{"text":"auth","location-start":"299:64","location-end":"299:67","values":[]},{"text":"uid","location-start":"299:69","location-end":"299:71","values":[]}],"location-end":"299:71","text":"auth.uid","location-start":"299:64","values":[]}],"location-end":"299:71","text":"'pathAssistants/' + $pathKey + '/' + auth.uid","location-start":"299:27","values":[]}],"location-end":"299:72","text":"root.child('pathAssistants/' + $pathKey + '/' + auth.uid)","location-start":"299:16","values":[]},{"text":"exists","location-start":"299:74","location-end":"299:79","values":[]}],"location-end":"299:79","text":"root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists","location-start":"299:16","values":[]}],"location-end":"299:81","text":"root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()","location-start":"299:16","values":[]}],"location-end":"299:81","text":"data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()","location-start":"298:16","values":[]}],"location-end":"300:14","text":"data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )","location-start":"297:14","values":[{"value":false,"count":2}]}],"location-end":"300:14","text":"!data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )","location-start":"296:14","values":[{"value":false,"count":2}]}],"location-end":"301:12","text":"root.child('/admins/' + auth.uid).exists() || (\n              !data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )\n            )","location-start":"295:12","values":[{"value":false,"count":2}]}],"location-end":"302:10","text":"auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() || (\n              !data.exists() && newData.child('owner').val() == auth.uid ||\n              data.exists() && (\n                data.child('owner').val() == auth.uid ||\n                root.child('pathAssistants/' + $pathKey + '/' + auth.uid).exists()\n              )\n            )\n          )","location-start":"293:19","values":[{"value":false,"count":3}]}}},"studentJoinedPaths":{"$studentKey":{".read":{"children":[{"text":"auth","location-start":"383:18","location-end":"383:21","values":[{"value":"hash@981199126","count":1}]},{"text":"null","location-start":"383:26","location-end":"383:29","values":[{"value":null,"count":1}]}],"location-end":"383:29","text":"auth != null","location-start":"383:18","values":[{"value":true,"count":1}]},"$pathKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"385:21","location-end":"385:24","values":[]},{"text":"null","location-start":"385:29","location-end":"385:32","values":[]}],"location-end":"385:32","text":"auth != null","location-start":"385:21","values":[]},{"children":[{"children":[{"text":"$studentKey","location-start":"386:14","location-end":"386:24","values":[]},{"children":[{"text":"auth","location-start":"386:29","location-end":"386:32","values":[]},{"text":"uid","location-start":"386:34","location-end":"386:36","values":[]}],"location-end":"386:36","text":"auth.uid","location-start":"386:29","values":[]}],"location-end":"386:36","text":"$studentKey == auth.uid","location-start":"386:14","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"387:14","location-end":"387:17","values":[]},{"text":"child","location-start":"387:19","location-end":"387:23","values":[]}],"location-end":"387:23","text":"root.child","location-start":"387:14","values":[]},{"children":[{"text":"'paths/'","location-start":"387:25","location-end":"387:32","values":[]},{"text":"$pathKey","location-start":"387:36","location-end":"387:43","values":[]}],"location-end":"387:43","text":"'paths/' + $pathKey","location-start":"387:25","values":[]}],"location-end":"387:44","text":"root.child('paths/' + $pathKey)","location-start":"387:14","values":[]},{"text":"exists","location-start":"387:46","location-end":"387:51","values":[]}],"location-end":"387:51","text":"root.child('paths/' + $pathKey).exists","location-start":"387:14","values":[]}],"location-end":"387:53","text":"root.child('paths/' + $pathKey).exists()","location-start":"387:14","values":[]}],"location-end":"387:53","text":"$studentKey == auth.uid &&\n              root.child('paths/' + $pathKey).exists()","location-start":"386:14","values":[]}],"location-end":"387:53","text":"auth != null &&\n              $studentKey == auth.uid &&\n              root.child('paths/' + $pathKey).exists()","location-start":"385:21","values":[]}}}},"admins":{".write":{"text":"false","location-start":"46:16","location-end":"46:20","values":[{"value":false,"count":5}]},"$userKey":{".read":{"children":[{"text":"auth","location-start":"48:18","location-end":"48:21","values":[{"value":"hash@224119215","count":1}]},{"text":"null","location-start":"48:26","location-end":"48:29","values":[{"value":null,"count":1}]}],"location-end":"48:29","text":"auth != null","location-start":"48:18","values":[{"value":true,"count":1}]}}},"api_tokens":{".write":{"text":"false","location-start":"53:16","location-end":"53:20","values":[{"value":false,"count":5}]},".read":{"text":"false","location-start":"52:15","location-end":"52:19","values":[{"value":false,"count":3}]}},"courses":{".read":{"children":[{"text":"auth","location-start":"172:16","location-end":"172:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@866573542","count":1}]},{"text":"null","location-start":"172:24","location-end":"172:27","values":[{"value":null,"count":2}]}],"location-end":"172:27","text":"auth != null","location-start":"172:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"177:10","location-end":"177:13","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1979281633","count":1},{"value":"hash@2046983141","count":1}]},{"text":"null","location-start":"177:18","location-end":"177:21","values":[{"value":null,"count":3}]}],"location-end":"177:21","text":"auth != null","location-start":"177:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"179:12","location-end":"179:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"179:17","location-end":"179:21","values":[{"value":"child","count":2}]}],"location-end":"179:21","text":"root.child","location-start":"179:12","values":[{"value":"hash@92696514","count":1},{"value":"hash@1660966435","count":1}]},{"children":[{"text":"'/admins/'","location-start":"179:23","location-end":"179:32","values":[{"value":"/admins/","count":2}]},{"children":[{"text":"auth","location-start":"179:36","location-end":"179:39","values":[{"value":"hash@1979281633","count":1},{"value":"hash@2046983141","count":1}]},{"text":"uid","location-start":"179:41","location-end":"179:43","values":[{"value":"uid","count":2}]}],"location-end":"179:43","text":"auth.uid","location-start":"179:36","values":[{"value":"alice","count":2}]}],"location-end":"179:43","text":"'/admins/' + auth.uid","location-start":"179:23","values":[{"value":"/admins/alice","count":2}]}],"location-end":"179:44","text":"root.child('/admins/' + auth.uid)","location-start":"179:12","values":[{"value":"hash@904955535","count":2}]},{"text":"exists","location-start":"179:46","location-end":"179:51","values":[{"value":"exists","count":2}]}],"location-end":"179:51","text":"root.child('/admins/' + auth.uid).exists","location-start":"179:12","values":[{"value":"hash@1369739300","count":1},{"value":"hash@262068223","count":1}]}],"location-end":"179:53","text":"root.child('/admins/' + auth.uid).exists()","location-start":"179:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"180:13","location-end":"180:19","values":[{"value":"hash@953801309","count":1},{"value":"hash@2015157500","count":1}]},{"text":"child","location-start":"180:21","location-end":"180:25","values":[{"value":"child","count":2}]}],"location-end":"180:25","text":"newData.child","location-start":"180:13","values":[{"value":"hash@110746591","count":1},{"value":"hash@287857993","count":1}]},{"text":"'isPublic'","location-start":"180:27","location-end":"180:36","values":[{"value":"isPublic","count":2}]}],"location-end":"180:37","text":"newData.child('isPublic')","location-start":"180:13","values":[{"value":"hash@811031729","count":1},{"value":"hash@1895346177","count":1}]},{"text":"exists","location-start":"180:39","location-end":"180:44","values":[{"value":"exists","count":2}]}],"location-end":"180:44","text":"newData.child('isPublic').exists","location-start":"180:13","values":[{"value":"hash@1158139695","count":1},{"value":"hash@153133262","count":1}]}],"location-end":"180:46","text":"newData.child('isPublic').exists()","location-start":"180:13","values":[{"value":false,"count":2}]}],"location-end":"180:46","text":"!newData.child('isPublic').exists()","location-start":"180:12","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"183:17","location-end":"183:20","values":[{"value":"hash@2011083481","count":1},{"value":"hash@261767944","count":1}]},{"text":"exists","location-start":"183:22","location-end":"183:27","values":[{"value":"exists","count":2}]}],"location-end":"183:27","text":"data.exists","location-start":"183:17","values":[{"value":"hash@872087264","count":1},{"value":"hash@390424106","count":1}]}],"location-end":"183:29","text":"data.exists()","location-start":"183:17","values":[{"value":false,"count":2}]}],"location-end":"183:29","text":"!data.exists()","location-start":"183:16","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"184:18","location-end":"184:24","values":[{"value":"hash@953801309","count":1},{"value":"hash@2015157500","count":1}]},{"text":"child","location-start":"184:26","location-end":"184:30","values":[{"value":"child","count":2}]}],"location-end":"184:30","text":"newData.child","location-start":"184:18","values":[{"value":"hash@2071301219","count":1},{"value":"hash@1146397598","count":1}]},{"text":"'owner'","location-start":"184:32","location-end":"184:38","values":[{"value":"owner","count":2}]}],"location-end":"184:39","text":"newData.child('owner')","location-start":"184:18","values":[{"value":"hash@1900930408","count":1},{"value":"hash@1897491373","count":1}]},{"text":"exists","location-start":"184:41","location-end":"184:46","values":[{"value":"exists","count":2}]}],"location-end":"184:46","text":"newData.child('owner').exists","location-start":"184:18","values":[{"value":"hash@172503769","count":1},{"value":"hash@2100532112","count":1}]}],"location-end":"184:48","text":"newData.child('owner').exists()","location-start":"184:18","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"185:18","location-end":"185:24","values":[]},{"text":"child","location-start":"185:26","location-end":"185:30","values":[]}],"location-end":"185:30","text":"newData.child","location-start":"185:18","values":[]},{"text":"'owner'","location-start":"185:32","location-end":"185:38","values":[]}],"location-end":"185:39","text":"newData.child('owner')","location-start":"185:18","values":[]},{"text":"val","location-start":"185:41","location-end":"185:43","values":[]}],"location-end":"185:43","text":"newData.child('owner').val","location-start":"185:18","values":[]}],"location-end":"185:45","text":"newData.child('owner').val()","location-start":"185:18","values":[]},{"children":[{"text":"auth","location-start":"185:50","location-end":"185:53","values":[]},{"text":"uid","location-start":"185:55","location-end":"185:57","values":[]}],"location-end":"185:57","text":"auth.uid","location-start":"185:50","values":[]}],"location-end":"185:57","text":"newData.child('owner').val() == auth.uid","location-start":"185:18","values":[]}],"location-end":"185:57","text":"newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"184:18","values":[{"value":false,"count":2}]}],"location-end":"185:57","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid","location-start":"183:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"187:16","location-end":"187:19","values":[{"value":"hash@2011083481","count":1},{"value":"hash@261767944","count":1}]},{"text":"exists","location-start":"187:21","location-end":"187:26","values":[{"value":"exists","count":2}]}],"location-end":"187:26","text":"data.exists","location-start":"187:16","values":[{"value":"hash@1847709838","count":1},{"value":"hash@1107025450","count":1}]}],"location-end":"187:28","text":"data.exists()","location-start":"187:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"187:33","location-end":"187:36","values":[]},{"text":"child","location-start":"187:38","location-end":"187:42","values":[]}],"location-end":"187:42","text":"data.child","location-start":"187:33","values":[]},{"text":"'owner'","location-start":"187:44","location-end":"187:50","values":[]}],"location-end":"187:51","text":"data.child('owner')","location-start":"187:33","values":[]},{"text":"val","location-start":"187:53","location-end":"187:55","values":[]}],"location-end":"187:55","text":"data.child('owner').val","location-start":"187:33","values":[]}],"location-end":"187:57","text":"data.child('owner').val()","location-start":"187:33","values":[]},{"children":[{"text":"auth","location-start":"187:62","location-end":"187:65","values":[]},{"text":"uid","location-start":"187:67","location-end":"187:69","values":[]}],"location-end":"187:69","text":"auth.uid","location-start":"187:62","values":[]}],"location-end":"187:69","text":"data.child('owner').val() == auth.uid","location-start":"187:33","values":[]}],"location-end":"187:69","text":"data.exists() && data.child('owner').val() == auth.uid","location-start":"187:16","values":[{"value":false,"count":2}]}],"location-end":"188:14","text":"!data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )","location-start":"183:16","values":[{"value":false,"count":2}]}],"location-end":"189:12","text":"!newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )","location-start":"180:12","values":[{"value":false,"count":2}]}],"location-end":"189:12","text":"root.child('/admins/' + auth.uid).exists() ||\n            !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )","location-start":"179:12","values":[{"value":false,"count":2}]}],"location-end":"190:10","text":"auth != null &&\n          (\n            root.child('/admins/' + auth.uid).exists() ||\n            !newData.child('isPublic').exists() &&\n            (\n              (\n                !data.exists() &&\n                  newData.child('owner').exists() &&\n                  newData.child('owner').val() == auth.uid\n              ) || (\n                data.exists() && data.child('owner').val() == auth.uid\n              )\n            )\n          )","location-start":"177:10","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"175:18","location-end":"175:21","values":[]},{"text":"null","location-start":"175:26","location-end":"175:29","values":[]}],"location-end":"175:29","text":"auth != null","location-start":"175:18","values":[]}}},"assignments":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"61:19","location-end":"61:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1054799411","count":1},{"value":"hash@452748991","count":1}]},{"text":"null","location-start":"61:27","location-end":"61:30","values":[{"value":null,"count":3}]}],"location-end":"61:30","text":"auth != null","location-start":"61:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"61:35","location-end":"61:38","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"61:40","location-end":"61:44","values":[{"value":"child","count":2}]}],"location-end":"61:44","text":"root.child","location-start":"61:35","values":[{"value":"hash@951408493","count":1},{"value":"hash@1581794477","count":1}]},{"children":[{"text":"'courses/'","location-start":"61:46","location-end":"61:55","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"61:59","location-end":"61:68","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"61:68","text":"'courses/' + $courseKey","location-start":"61:46","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]}],"location-end":"61:69","text":"root.child('courses/' + $courseKey)","location-start":"61:35","values":[{"value":"hash@2011083481","count":1},{"value":"hash@261767944","count":1}]},{"text":"exists","location-start":"61:71","location-end":"61:76","values":[{"value":"exists","count":2}]}],"location-end":"61:76","text":"root.child('courses/' + $courseKey).exists","location-start":"61:35","values":[{"value":"hash@1502824586","count":1},{"value":"hash@1889533249","count":1}]}],"location-end":"61:78","text":"root.child('courses/' + $courseKey).exists()","location-start":"61:35","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"62:11","location-end":"62:14","values":[]},{"text":"child","location-start":"62:16","location-end":"62:20","values":[]}],"location-end":"62:20","text":"root.child","location-start":"62:11","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"62:22","location-end":"62:31","values":[]},{"text":"$courseKey","location-start":"62:35","location-end":"62:44","values":[]}],"location-end":"62:44","text":"'courses/' + $courseKey","location-start":"62:22","values":[]},{"text":"'/owner'","location-start":"62:48","location-end":"62:55","values":[]}],"location-end":"62:55","text":"'courses/' + $courseKey + '/owner'","location-start":"62:22","values":[]}],"location-end":"62:56","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"62:11","values":[]},{"text":"val","location-start":"62:58","location-end":"62:60","values":[]}],"location-end":"62:60","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"62:11","values":[]}],"location-end":"62:62","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"62:11","values":[]},{"children":[{"text":"auth","location-start":"62:67","location-end":"62:70","values":[]},{"text":"uid","location-start":"62:72","location-end":"62:74","values":[]}],"location-end":"62:74","text":"auth.uid","location-start":"62:67","values":[]}],"location-end":"62:74","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"62:11","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"63:10","location-end":"63:13","values":[]},{"text":"child","location-start":"63:15","location-end":"63:19","values":[]}],"location-end":"63:19","text":"root.child","location-start":"63:10","values":[]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"63:21","location-end":"63:39","values":[]},{"text":"$courseKey","location-start":"63:43","location-end":"63:52","values":[]}],"location-end":"63:52","text":"'courseAssistants/' + $courseKey","location-start":"63:21","values":[]},{"text":"'/'","location-start":"63:56","location-end":"63:58","values":[]}],"location-end":"63:58","text":"'courseAssistants/' + $courseKey + '/'","location-start":"63:21","values":[]},{"children":[{"text":"auth","location-start":"63:62","location-end":"63:65","values":[]},{"text":"uid","location-start":"63:67","location-end":"63:69","values":[]}],"location-end":"63:69","text":"auth.uid","location-start":"63:62","values":[]}],"location-end":"63:69","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"63:21","values":[]}],"location-end":"63:70","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"63:10","values":[]},{"text":"exists","location-start":"63:72","location-end":"63:77","values":[]}],"location-end":"63:77","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"63:10","values":[]}],"location-end":"63:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"63:10","values":[]}],"location-end":"63:79","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"62:11","values":[]}],"location-end":"63:80","text":"root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"61:35","values":[{"value":false,"count":2}]}],"location-end":"63:80","text":"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"61:19","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"57:18","location-end":"57:21","values":[{"value":"hash@1096257464","count":1}]},{"text":"null","location-start":"57:26","location-end":"57:29","values":[{"value":null,"count":1}]}],"location-end":"57:29","text":"auth != null","location-start":"57:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"57:34","location-end":"57:37","values":[{"value":"hash@375545165","count":1}]},{"text":"child","location-start":"57:39","location-end":"57:43","values":[{"value":"child","count":1}]}],"location-end":"57:43","text":"root.child","location-start":"57:34","values":[{"value":"hash@79411735","count":1}]},{"children":[{"text":"'courses/'","location-start":"57:45","location-end":"57:54","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"57:58","location-end":"57:67","values":[{"value":"someNode","count":1}]}],"location-end":"57:67","text":"'courses/' + $courseKey","location-start":"57:45","values":[{"value":"courses/someNode","count":1}]}],"location-end":"57:68","text":"root.child('courses/' + $courseKey)","location-start":"57:34","values":[{"value":"hash@-1788604040","count":1}]},{"text":"exists","location-start":"57:70","location-end":"57:75","values":[{"value":"exists","count":1}]}],"location-end":"57:75","text":"root.child('courses/' + $courseKey).exists","location-start":"57:34","values":[{"value":"hash@1882425807","count":1}]}],"location-end":"57:77","text":"root.child('courses/' + $courseKey).exists()","location-start":"57:34","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"58:11","location-end":"58:14","values":[]},{"text":"child","location-start":"58:16","location-end":"58:20","values":[]}],"location-end":"58:20","text":"root.child","location-start":"58:11","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"58:22","location-end":"58:31","values":[]},{"text":"$courseKey","location-start":"58:35","location-end":"58:44","values":[]}],"location-end":"58:44","text":"'courses/' + $courseKey","location-start":"58:22","values":[]},{"text":"'/owner'","location-start":"58:48","location-end":"58:55","values":[]}],"location-end":"58:55","text":"'courses/' + $courseKey + '/owner'","location-start":"58:22","values":[]}],"location-end":"58:56","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"58:11","values":[]},{"text":"val","location-start":"58:58","location-end":"58:60","values":[]}],"location-end":"58:60","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"58:11","values":[]}],"location-end":"58:62","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"58:11","values":[]},{"children":[{"text":"auth","location-start":"58:67","location-end":"58:70","values":[]},{"text":"uid","location-start":"58:72","location-end":"58:74","values":[]}],"location-end":"58:74","text":"auth.uid","location-start":"58:67","values":[]}],"location-end":"58:74","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"58:11","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"59:11","location-end":"59:14","values":[]},{"text":"child","location-start":"59:16","location-end":"59:20","values":[]}],"location-end":"59:20","text":"root.child","location-start":"59:11","values":[]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"59:22","location-end":"59:37","values":[]},{"text":"$courseKey","location-start":"59:41","location-end":"59:50","values":[]}],"location-end":"59:50","text":"'courseMembers/' + $courseKey","location-start":"59:22","values":[]},{"text":"'/'","location-start":"59:54","location-end":"59:56","values":[]}],"location-end":"59:56","text":"'courseMembers/' + $courseKey + '/'","location-start":"59:22","values":[]},{"children":[{"text":"auth","location-start":"59:60","location-end":"59:63","values":[]},{"text":"uid","location-start":"59:65","location-end":"59:67","values":[]}],"location-end":"59:67","text":"auth.uid","location-start":"59:60","values":[]}],"location-end":"59:67","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"59:22","values":[]}],"location-end":"59:68","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"59:11","values":[]},{"text":"exists","location-start":"59:70","location-end":"59:75","values":[]}],"location-end":"59:75","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"59:11","values":[]}],"location-end":"59:77","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"59:11","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"60:11","location-end":"60:14","values":[]},{"text":"child","location-start":"60:16","location-end":"60:20","values":[]}],"location-end":"60:20","text":"root.child","location-start":"60:11","values":[]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"60:22","location-end":"60:40","values":[]},{"text":"$courseKey","location-start":"60:44","location-end":"60:53","values":[]}],"location-end":"60:53","text":"'courseAssistants/' + $courseKey","location-start":"60:22","values":[]},{"text":"'/'","location-start":"60:57","location-end":"60:59","values":[]}],"location-end":"60:59","text":"'courseAssistants/' + $courseKey + '/'","location-start":"60:22","values":[]},{"children":[{"text":"auth","location-start":"60:63","location-end":"60:66","values":[]},{"text":"uid","location-start":"60:68","location-end":"60:70","values":[]}],"location-end":"60:70","text":"auth.uid","location-start":"60:63","values":[]}],"location-end":"60:70","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"60:22","values":[]}],"location-end":"60:71","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"60:11","values":[]},{"text":"exists","location-start":"60:73","location-end":"60:78","values":[]}],"location-end":"60:78","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"60:11","values":[]}],"location-end":"60:80","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"60:11","values":[]}],"location-end":"60:80","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"59:11","values":[]}],"location-end":"60:80","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"58:11","values":[]}],"location-end":"60:81","text":"root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"57:34","values":[{"value":false,"count":1}]}],"location-end":"60:81","text":"auth != null && root.child('courses/' + $courseKey).exists() &&\n          (root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n           root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n           root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists())","location-start":"57:18","values":[{"value":false,"count":1}]}}},"logged_events":{".write":{"children":[{"children":[{"text":"auth","location-start":"262:17","location-end":"262:20","values":[{"value":"hash@1788853110","count":2},{"value":"hash@53707660","count":1}]},{"text":"null","location-start":"262:25","location-end":"262:28","values":[{"value":null,"count":3}]}],"location-end":"262:28","text":"auth != null","location-start":"262:17","values":[{"value":false,"count":2},{"value":true,"count":1}]},{"children":[{"children":[{"text":"newData","location-start":"262:33","location-end":"262:39","values":[{"value":"hash@1385989007","count":1}]},{"text":"exists","location-start":"262:41","location-end":"262:46","values":[{"value":"exists","count":1}]}],"location-end":"262:46","text":"newData.exists","location-start":"262:33","values":[{"value":"hash@1488678101","count":1}]}],"location-end":"262:48","text":"newData.exists()","location-start":"262:33","values":[{"value":true,"count":1}]}],"location-end":"262:48","text":"auth != null && newData.exists()","location-start":"262:17","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"children":[{"text":"auth","location-start":"261:16","location-end":"261:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@2052926627","count":1}]},{"text":"null","location-start":"261:24","location-end":"261:27","values":[{"value":null,"count":2}]}],"location-end":"261:27","text":"auth != null","location-start":"261:16","values":[{"value":false,"count":1},{"value":true,"count":1}]}},"visibleSolutions":{".read":{"text":"false","location-start":"440:16","location-end":"440:20","values":[{"value":false,"count":3}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"448:10","location-end":"448:13","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1888891103","count":1},{"value":"hash@831735649","count":1}]},{"text":"null","location-start":"448:18","location-end":"448:21","values":[{"value":null,"count":3}]}],"location-end":"448:21","text":"auth != null","location-start":"448:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"449:12","location-end":"449:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"449:17","location-end":"449:21","values":[{"value":"child","count":2}]}],"location-end":"449:21","text":"root.child","location-start":"449:12","values":[{"value":"hash@211352015","count":1},{"value":"hash@101515852","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"449:23","location-end":"449:32","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"449:36","location-end":"449:45","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"449:45","text":"'courses/' + $courseKey","location-start":"449:23","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"449:49","location-end":"449:56","values":[{"value":"/owner","count":2}]}],"location-end":"449:56","text":"'courses/' + $courseKey + '/owner'","location-start":"449:23","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"449:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"449:12","values":[{"value":"hash@1685685558","count":1},{"value":"hash@1969779968","count":1}]},{"text":"val","location-start":"449:59","location-end":"449:61","values":[{"value":"val","count":2}]}],"location-end":"449:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"449:12","values":[{"value":"hash@556952607","count":1},{"value":"hash@1840860906","count":1}]}],"location-end":"449:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"449:12","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"449:68","location-end":"449:71","values":[{"value":"hash@1888891103","count":1},{"value":"hash@831735649","count":1}]},{"text":"uid","location-start":"449:73","location-end":"449:75","values":[{"value":"uid","count":2}]}],"location-end":"449:75","text":"auth.uid","location-start":"449:68","values":[{"value":"alice","count":2}]}],"location-end":"449:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"449:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"450:12","location-end":"450:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"450:17","location-end":"450:21","values":[{"value":"child","count":2}]}],"location-end":"450:21","text":"root.child","location-start":"450:12","values":[{"value":"hash@500228743","count":1},{"value":"hash@448524484","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"450:23","location-end":"450:41","values":[{"value":"courseAssistants/","count":2}]},{"text":"$courseKey","location-start":"450:45","location-end":"450:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"450:54","text":"'courseAssistants/' + $courseKey","location-start":"450:23","values":[{"value":"courseAssistants/someRandomChildNode","count":1},{"value":"courseAssistants/alice","count":1}]},{"text":"'/'","location-start":"450:58","location-end":"450:60","values":[{"value":"/","count":2}]}],"location-end":"450:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"450:23","values":[{"value":"courseAssistants/someRandomChildNode/","count":1},{"value":"courseAssistants/alice/","count":1}]},{"children":[{"text":"auth","location-start":"450:64","location-end":"450:67","values":[{"value":"hash@1888891103","count":1},{"value":"hash@831735649","count":1}]},{"text":"uid","location-start":"450:69","location-end":"450:71","values":[{"value":"uid","count":2}]}],"location-end":"450:71","text":"auth.uid","location-start":"450:64","values":[{"value":"alice","count":2}]}],"location-end":"450:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"450:23","values":[{"value":"courseAssistants/someRandomChildNode/alice","count":1},{"value":"courseAssistants/alice/alice","count":1}]}],"location-end":"450:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"450:12","values":[{"value":"hash@1158544613","count":1},{"value":"hash@1259099175","count":1}]},{"text":"exists","location-start":"450:74","location-end":"450:79","values":[{"value":"exists","count":2}]}],"location-end":"450:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"450:12","values":[{"value":"hash@1543584042","count":1},{"value":"hash@834147517","count":1}]}],"location-end":"450:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"450:12","values":[{"value":false,"count":2}]}],"location-end":"450:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"449:12","values":[{"value":false,"count":2}]}],"location-end":"451:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"448:10","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"442:18","location-end":"442:21","values":[{"value":"hash@891666971","count":1}]},{"text":"null","location-start":"442:26","location-end":"442:29","values":[{"value":null,"count":1}]}],"location-end":"442:29","text":"auth != null","location-start":"442:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"443:11","location-end":"443:14","values":[{"value":"hash@-1738113668","count":1}]},{"text":"child","location-start":"443:16","location-end":"443:20","values":[{"value":"child","count":1}]}],"location-end":"443:20","text":"root.child","location-start":"443:11","values":[{"value":"hash@2057607453","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseMembers/'","location-start":"443:22","location-end":"443:37","values":[{"value":"courseMembers/","count":1}]},{"text":"$courseKey","location-start":"443:41","location-end":"443:50","values":[{"value":"someNode","count":1}]}],"location-end":"443:50","text":"'courseMembers/' + $courseKey","location-start":"443:22","values":[{"value":"courseMembers/someNode","count":1}]},{"text":"'/'","location-start":"443:54","location-end":"443:56","values":[{"value":"/","count":1}]}],"location-end":"443:56","text":"'courseMembers/' + $courseKey + '/'","location-start":"443:22","values":[{"value":"courseMembers/someNode/","count":1}]},{"children":[{"text":"auth","location-start":"443:60","location-end":"443:63","values":[{"value":"hash@891666971","count":1}]},{"text":"uid","location-start":"443:65","location-end":"443:67","values":[{"value":"uid","count":1}]}],"location-end":"443:67","text":"auth.uid","location-start":"443:60","values":[{"value":"alice","count":1}]}],"location-end":"443:67","text":"'courseMembers/' + $courseKey + '/' + auth.uid","location-start":"443:22","values":[{"value":"courseMembers/someNode/alice","count":1}]}],"location-end":"443:68","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid)","location-start":"443:11","values":[{"value":"hash@-109776337","count":1}]},{"text":"exists","location-start":"443:70","location-end":"443:75","values":[{"value":"exists","count":1}]}],"location-end":"443:75","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists","location-start":"443:11","values":[{"value":"hash@170597465","count":1}]}],"location-end":"443:77","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists()","location-start":"443:11","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"444:10","location-end":"444:13","values":[{"value":"hash@-1738113668","count":1}]},{"text":"child","location-start":"444:15","location-end":"444:19","values":[{"value":"child","count":1}]}],"location-end":"444:19","text":"root.child","location-start":"444:10","values":[{"value":"hash@293941789","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"444:21","location-end":"444:30","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"444:34","location-end":"444:43","values":[{"value":"someNode","count":1}]}],"location-end":"444:43","text":"'courses/' + $courseKey","location-start":"444:21","values":[{"value":"courses/someNode","count":1}]},{"text":"'/owner'","location-start":"444:47","location-end":"444:54","values":[{"value":"/owner","count":1}]}],"location-end":"444:54","text":"'courses/' + $courseKey + '/owner'","location-start":"444:21","values":[{"value":"courses/someNode/owner","count":1}]}],"location-end":"444:55","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"444:10","values":[{"value":"hash@-1141157418","count":1}]},{"text":"val","location-start":"444:57","location-end":"444:59","values":[{"value":"val","count":1}]}],"location-end":"444:59","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"444:10","values":[{"value":"hash@20116113","count":1}]}],"location-end":"444:61","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"444:10","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"444:66","location-end":"444:69","values":[{"value":"hash@891666971","count":1}]},{"text":"uid","location-start":"444:71","location-end":"444:73","values":[{"value":"uid","count":1}]}],"location-end":"444:73","text":"auth.uid","location-start":"444:66","values":[{"value":"alice","count":1}]}],"location-end":"444:73","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"444:10","values":[{"value":false,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"445:10","location-end":"445:13","values":[{"value":"hash@-1738113668","count":1}]},{"text":"child","location-start":"445:15","location-end":"445:19","values":[{"value":"child","count":1}]}],"location-end":"445:19","text":"root.child","location-start":"445:10","values":[{"value":"hash@1602285531","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"445:21","location-end":"445:39","values":[{"value":"courseAssistants/","count":1}]},{"text":"$courseKey","location-start":"445:43","location-end":"445:52","values":[{"value":"someNode","count":1}]}],"location-end":"445:52","text":"'courseAssistants/' + $courseKey","location-start":"445:21","values":[{"value":"courseAssistants/someNode","count":1}]},{"text":"'/'","location-start":"445:56","location-end":"445:58","values":[{"value":"/","count":1}]}],"location-end":"445:58","text":"'courseAssistants/' + $courseKey + '/'","location-start":"445:21","values":[{"value":"courseAssistants/someNode/","count":1}]},{"children":[{"text":"auth","location-start":"445:62","location-end":"445:65","values":[{"value":"hash@891666971","count":1}]},{"text":"uid","location-start":"445:67","location-end":"445:69","values":[{"value":"uid","count":1}]}],"location-end":"445:69","text":"auth.uid","location-start":"445:62","values":[{"value":"alice","count":1}]}],"location-end":"445:69","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"445:21","values":[{"value":"courseAssistants/someNode/alice","count":1}]}],"location-end":"445:70","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"445:10","values":[{"value":"hash@-1814401585","count":1}]},{"text":"exists","location-start":"445:72","location-end":"445:77","values":[{"value":"exists","count":1}]}],"location-end":"445:77","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"445:10","values":[{"value":"hash@219933094","count":1}]}],"location-end":"445:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"445:10","values":[{"value":false,"count":1}]}],"location-end":"445:79","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"444:10","values":[{"value":false,"count":1}]}],"location-end":"445:79","text":"root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"443:11","values":[{"value":false,"count":1}]}],"location-end":"445:81","text":"auth != null  &&\n          (root.child('courseMembers/' + $courseKey + '/' + auth.uid).exists() ||\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n          root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists() )","location-start":"442:18","values":[{"value":false,"count":1}]}}},"problemSolutions":{"$activityKey":{".read":{"children":[{"text":"auth","location-start":"307:18","location-end":"307:21","values":[{"value":"hash@1069499371","count":1}]},{"text":"null","location-start":"307:26","location-end":"307:29","values":[{"value":null,"count":1}]}],"location-end":"307:29","text":"auth != null","location-start":"307:18","values":[{"value":true,"count":1}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"310:21","location-end":"310:24","values":[]},{"text":"null","location-start":"310:29","location-end":"310:32","values":[]}],"location-end":"310:32","text":"auth != null","location-start":"310:21","values":[]},{"children":[{"children":[{"text":"auth","location-start":"310:37","location-end":"310:40","values":[]},{"text":"uid","location-start":"310:42","location-end":"310:44","values":[]}],"location-end":"310:44","text":"auth.uid","location-start":"310:37","values":[]},{"text":"$userKey","location-start":"310:49","location-end":"310:56","values":[]}],"location-end":"310:56","text":"auth.uid == $userKey","location-start":"310:37","values":[]}],"location-end":"310:56","text":"auth != null && auth.uid == $userKey","location-start":"310:21","values":[]},".read":{"children":[{"text":"auth","location-start":"309:20","location-end":"309:23","values":[]},{"text":"null","location-start":"309:28","location-end":"309:31","values":[]}],"location-end":"309:31","text":"auth != null","location-start":"309:20","values":[]}}}},"jupyterSolutionAnalysisQueue":{"responses":{"$taskKey":{".write":{"children":[{"children":[{"children":[{"text":"newData","location-start":"234:22","location-end":"234:28","values":[]},{"text":"exists","location-start":"234:30","location-end":"234:35","values":[]}],"location-end":"234:35","text":"newData.exists","location-start":"234:22","values":[]}],"location-end":"234:37","text":"newData.exists()","location-start":"234:22","values":[]}],"location-end":"234:37","text":"!newData.exists()","location-start":"234:21","values":[]},".read":{"children":[{"text":"auth","location-start":"233:20","location-end":"233:23","values":[]},{"text":"null","location-start":"233:28","location-end":"233:31","values":[]}],"location-end":"233:31","text":"auth != null","location-start":"233:20","values":[]}}},"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"241:21","location-end":"241:24","values":[]},{"text":"null","location-start":"241:29","location-end":"241:32","values":[]}],"location-end":"241:32","text":"auth != null","location-start":"241:21","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"241:37","location-end":"241:43","values":[]},{"text":"child","location-start":"241:45","location-end":"241:49","values":[]}],"location-end":"241:49","text":"newData.child","location-start":"241:37","values":[]},{"text":"'owner'","location-start":"241:51","location-end":"241:57","values":[]}],"location-end":"241:58","text":"newData.child('owner')","location-start":"241:37","values":[]},{"text":"val","location-start":"241:60","location-end":"241:62","values":[]}],"location-end":"241:62","text":"newData.child('owner').val","location-start":"241:37","values":[]}],"location-end":"241:64","text":"newData.child('owner').val()","location-start":"241:37","values":[]},{"children":[{"text":"auth","location-start":"241:69","location-end":"241:72","values":[]},{"text":"uid","location-start":"241:74","location-end":"241:76","values":[]}],"location-end":"241:76","text":"auth.uid","location-start":"241:69","values":[]}],"location-end":"241:76","text":"newData.child('owner').val() == auth.uid","location-start":"241:37","values":[]}],"location-end":"241:76","text":"auth != null && newData.child('owner').val() == auth.uid","location-start":"241:21","values":[]},".read":{"text":"false","location-start":"240:19","location-end":"240:23","values":[]}}}},"userAchievements":{".read":{"children":[{"text":"auth","location-start":"406:16","location-end":"406:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1203504938","count":1}]},{"text":"null","location-start":"406:24","location-end":"406:27","values":[{"value":null,"count":2}]}],"location-end":"406:27","text":"auth != null","location-start":"406:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"408:19","location-end":"408:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@69143991","count":1},{"value":"hash@1321098726","count":1}]},{"text":"null","location-start":"408:27","location-end":"408:30","values":[{"value":null,"count":3}]}],"location-end":"408:30","text":"auth != null","location-start":"408:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"408:35","location-end":"408:38","values":[{"value":"hash@69143991","count":1},{"value":"hash@1321098726","count":1}]},{"text":"uid","location-start":"408:40","location-end":"408:42","values":[{"value":"uid","count":2}]}],"location-end":"408:42","text":"auth.uid","location-start":"408:35","values":[{"value":"alice","count":2}]},{"text":"$userKey","location-start":"408:47","location-end":"408:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"408:54","text":"auth.uid == $userKey","location-start":"408:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"408:54","text":"auth != null && auth.uid == $userKey","location-start":"408:19","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"children":[{"text":"auth","location-start":"409:18","location-end":"409:21","values":[]},{"text":"null","location-start":"409:26","location-end":"409:29","values":[]}],"location-end":"409:29","text":"auth != null","location-start":"409:18","values":[]},"CodeCombat":{"achievements":{"$achievementId":{".write":{"text":"false","location-start":"413:24","location-end":"413:28","values":[]},".validate":{"text":"false","location-start":"414:27","location-end":"414:31","values":[]}}}}}},"courseAssistants":{".read":{"children":[{"children":[{"text":"auth","location-start":"165:16","location-end":"165:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@714995540","count":1}]},{"text":"uid","location-start":"165:21","location-end":"165:23","values":[{"value":"uid","count":2}]}],"location-end":"165:23","text":"auth.uid","location-start":"165:16","values":[{"value":"hash@1788853110","count":1},{"value":"alice","count":1}]},{"text":"null","location-start":"165:28","location-end":"165:31","values":[{"value":null,"count":2}]}],"location-end":"165:31","text":"auth.uid != null","location-start":"165:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"168:19","location-end":"168:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@447304448","count":1},{"value":"hash@370452971","count":1}]},{"text":"null","location-start":"168:27","location-end":"168:30","values":[{"value":null,"count":3}]}],"location-end":"168:30","text":"auth != null","location-start":"168:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"text":"auth","location-start":"168:35","location-end":"168:38","values":[{"value":"hash@447304448","count":1},{"value":"hash@370452971","count":1}]},{"text":"uid","location-start":"168:40","location-end":"168:42","values":[{"value":"uid","count":2}]}],"location-end":"168:42","text":"auth.uid","location-start":"168:35","values":[{"value":"alice","count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"168:47","location-end":"168:50","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"168:52","location-end":"168:56","values":[{"value":"child","count":2}]}],"location-end":"168:56","text":"root.child","location-start":"168:47","values":[{"value":"hash@1621859168","count":1},{"value":"hash@539148381","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"168:58","location-end":"168:67","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"168:71","location-end":"168:80","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"168:80","text":"'courses/' + $courseKey","location-start":"168:58","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"168:84","location-end":"168:91","values":[{"value":"/owner","count":2}]}],"location-end":"168:91","text":"'courses/' + $courseKey + '/owner'","location-start":"168:58","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"168:92","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"168:47","values":[{"value":"hash@1685685558","count":1},{"value":"hash@1969779968","count":1}]},{"text":"val","location-start":"168:94","location-end":"168:96","values":[{"value":"val","count":2}]}],"location-end":"168:96","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"168:47","values":[{"value":"hash@828364815","count":1},{"value":"hash@603774280","count":1}]}],"location-end":"168:98","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"168:47","values":[{"value":null,"count":2}]}],"location-end":"168:98","text":"auth.uid == root.child('courses/' + $courseKey + '/owner').val()","location-start":"168:35","values":[{"value":false,"count":2}]}],"location-end":"168:98","text":"auth != null && auth.uid == root.child('courses/' + $courseKey + '/owner').val()","location-start":"168:19","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"167:18","location-end":"167:21","values":[]},{"text":"null","location-start":"167:26","location-end":"167:29","values":[]}],"location-end":"167:29","text":"auth != null","location-start":"167:18","values":[]}}},"courseMembers":{".read":{"children":[{"text":"auth","location-start":"136:16","location-end":"136:19","values":[{"value":"hash@1788853110","count":1},{"value":"hash@908285190","count":1}]},{"text":"null","location-start":"136:24","location-end":"136:27","values":[{"value":null,"count":2}]}],"location-end":"136:27","text":"auth != null","location-start":"136:16","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"139:10","location-end":"139:13","values":[{"value":"hash@1788853110","count":1},{"value":"hash@186263952","count":1},{"value":"hash@1003798862","count":1}]},{"text":"null","location-start":"139:18","location-end":"139:21","values":[{"value":null,"count":3}]}],"location-end":"139:21","text":"auth != null","location-start":"139:10","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"140:12","location-end":"140:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"140:17","location-end":"140:21","values":[{"value":"child","count":2}]}],"location-end":"140:21","text":"root.child","location-start":"140:12","values":[{"value":"hash@934408326","count":1},{"value":"hash@743490493","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"140:23","location-end":"140:32","values":[{"value":"courses/","count":2}]},{"text":"$courseKey","location-start":"140:36","location-end":"140:45","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"140:45","text":"'courses/' + $courseKey","location-start":"140:23","values":[{"value":"courses/someRandomChildNode","count":1},{"value":"courses/alice","count":1}]},{"text":"'/owner'","location-start":"140:49","location-end":"140:56","values":[{"value":"/owner","count":2}]}],"location-end":"140:56","text":"'courses/' + $courseKey + '/owner'","location-start":"140:23","values":[{"value":"courses/someRandomChildNode/owner","count":1},{"value":"courses/alice/owner","count":1}]}],"location-end":"140:57","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"140:12","values":[{"value":"hash@1685685558","count":1},{"value":"hash@1969779968","count":1}]},{"text":"val","location-start":"140:59","location-end":"140:61","values":[{"value":"val","count":2}]}],"location-end":"140:61","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"140:12","values":[{"value":"hash@142548498","count":1},{"value":"hash@17788455","count":1}]}],"location-end":"140:63","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"140:12","values":[{"value":null,"count":2}]},{"children":[{"text":"auth","location-start":"140:68","location-end":"140:71","values":[{"value":"hash@186263952","count":1},{"value":"hash@1003798862","count":1}]},{"text":"uid","location-start":"140:73","location-end":"140:75","values":[{"value":"uid","count":2}]}],"location-end":"140:75","text":"auth.uid","location-start":"140:68","values":[{"value":"alice","count":2}]}],"location-end":"140:75","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"140:12","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"141:12","location-end":"141:15","values":[{"value":"hash@733261220","count":2}]},{"text":"child","location-start":"141:17","location-end":"141:21","values":[{"value":"child","count":2}]}],"location-end":"141:21","text":"root.child","location-start":"141:12","values":[{"value":"hash@402158047","count":1},{"value":"hash@1246089726","count":1}]},{"children":[{"children":[{"children":[{"text":"'courseAssistants/'","location-start":"141:23","location-end":"141:41","values":[{"value":"courseAssistants/","count":2}]},{"text":"$courseKey","location-start":"141:45","location-end":"141:54","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]}],"location-end":"141:54","text":"'courseAssistants/' + $courseKey","location-start":"141:23","values":[{"value":"courseAssistants/someRandomChildNode","count":1},{"value":"courseAssistants/alice","count":1}]},{"text":"'/'","location-start":"141:58","location-end":"141:60","values":[{"value":"/","count":2}]}],"location-end":"141:60","text":"'courseAssistants/' + $courseKey + '/'","location-start":"141:23","values":[{"value":"courseAssistants/someRandomChildNode/","count":1},{"value":"courseAssistants/alice/","count":1}]},{"children":[{"text":"auth","location-start":"141:64","location-end":"141:67","values":[{"value":"hash@186263952","count":1},{"value":"hash@1003798862","count":1}]},{"text":"uid","location-start":"141:69","location-end":"141:71","values":[{"value":"uid","count":2}]}],"location-end":"141:71","text":"auth.uid","location-start":"141:64","values":[{"value":"alice","count":2}]}],"location-end":"141:71","text":"'courseAssistants/' + $courseKey + '/' + auth.uid","location-start":"141:23","values":[{"value":"courseAssistants/someRandomChildNode/alice","count":1},{"value":"courseAssistants/alice/alice","count":1}]}],"location-end":"141:72","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid)","location-start":"141:12","values":[{"value":"hash@1158544613","count":1},{"value":"hash@1259099175","count":1}]},{"text":"exists","location-start":"141:74","location-end":"141:79","values":[{"value":"exists","count":2}]}],"location-end":"141:79","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists","location-start":"141:12","values":[{"value":"hash@1307876377","count":1},{"value":"hash@1460057929","count":1}]}],"location-end":"141:81","text":"root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"141:12","values":[{"value":false,"count":2}]}],"location-end":"141:81","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()","location-start":"140:12","values":[{"value":false,"count":2}]}],"location-end":"142:10","text":"auth != null && (\n            root.child('courses/' + $courseKey + '/owner').val() == auth.uid ||\n            root.child('courseAssistants/' + $courseKey + '/' + auth.uid).exists()\n          )","location-start":"139:10","values":[{"value":false,"count":3}]},"$studentKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"146:12","location-end":"146:15","values":[]},{"text":"null","location-start":"146:20","location-end":"146:23","values":[]}],"location-end":"146:23","text":"auth != null","location-start":"146:12","values":[]},{"children":[{"children":[{"text":"$studentKey","location-start":"147:12","location-end":"147:22","values":[]},{"children":[{"text":"auth","location-start":"147:27","location-end":"147:30","values":[]},{"text":"uid","location-start":"147:32","location-end":"147:34","values":[]}],"location-end":"147:34","text":"auth.uid","location-start":"147:27","values":[]}],"location-end":"147:34","text":"$studentKey == auth.uid","location-start":"147:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"148:12","location-end":"148:15","values":[]},{"text":"child","location-start":"148:17","location-end":"148:21","values":[]}],"location-end":"148:21","text":"root.child","location-start":"148:12","values":[]},{"children":[{"text":"'studentCoursePasswords/'","location-start":"148:23","location-end":"148:47","values":[]},{"text":"$courseKey","location-start":"148:51","location-end":"148:60","values":[]}],"location-end":"148:60","text":"'studentCoursePasswords/' + $courseKey","location-start":"148:23","values":[]}],"location-end":"148:61","text":"root.child('studentCoursePasswords/' + $courseKey)","location-start":"148:12","values":[]},{"text":"exists","location-start":"148:63","location-end":"148:68","values":[]}],"location-end":"148:68","text":"root.child('studentCoursePasswords/' + $courseKey).exists","location-start":"148:12","values":[]}],"location-end":"148:70","text":"root.child('studentCoursePasswords/' + $courseKey).exists()","location-start":"148:12","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"149:12","location-end":"149:15","values":[]},{"text":"child","location-start":"149:17","location-end":"149:21","values":[]}],"location-end":"149:21","text":"root.child","location-start":"149:12","values":[]},{"children":[{"children":[{"children":[{"text":"'studentCoursePasswords/'","location-start":"149:23","location-end":"149:47","values":[]},{"text":"$courseKey","location-start":"149:51","location-end":"149:60","values":[]}],"location-end":"149:60","text":"'studentCoursePasswords/' + $courseKey","location-start":"149:23","values":[]},{"text":"'/'","location-start":"149:64","location-end":"149:66","values":[]}],"location-end":"149:66","text":"'studentCoursePasswords/' + $courseKey + '/'","location-start":"149:23","values":[]},{"text":"$studentKey","location-start":"149:70","location-end":"149:80","values":[]}],"location-end":"149:80","text":"'studentCoursePasswords/' + $courseKey + '/' + $studentKey","location-start":"149:23","values":[]}],"location-end":"149:81","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey)","location-start":"149:12","values":[]},{"text":"exists","location-start":"149:83","location-end":"149:88","values":[]}],"location-end":"149:88","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists","location-start":"149:12","values":[]}],"location-end":"149:90","text":"root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"149:12","values":[]}],"location-end":"149:90","text":"root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"148:12","values":[]}],"location-end":"149:90","text":"$studentKey == auth.uid &&\n            root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"147:12","values":[]}],"location-end":"149:90","text":"auth != null &&\n            $studentKey == auth.uid &&\n            root.child('studentCoursePasswords/' + $courseKey).exists() &&\n            root.child('studentCoursePasswords/' + $courseKey + '/' + $studentKey).exists()","location-start":"146:12","values":[]}}}},"fetchGithubFilesQueue":{"responses":{"$taskKey":{".write":{"children":[{"children":[{"children":[{"text":"newData","location-start":"249:22","location-end":"249:28","values":[]},{"text":"exists","location-start":"249:30","location-end":"249:35","values":[]}],"location-end":"249:35","text":"newData.exists","location-start":"249:22","values":[]}],"location-end":"249:37","text":"newData.exists()","location-start":"249:22","values":[]}],"location-end":"249:37","text":"!newData.exists()","location-start":"249:21","values":[]},".read":{"children":[{"text":"auth","location-start":"248:20","location-end":"248:23","values":[]},{"text":"null","location-start":"248:28","location-end":"248:31","values":[]}],"location-end":"248:31","text":"auth != null","location-start":"248:20","values":[]}}},"tasks":{"$taskKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"256:21","location-end":"256:24","values":[]},{"text":"null","location-start":"256:29","location-end":"256:32","values":[]}],"location-end":"256:32","text":"auth != null","location-start":"256:21","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"256:37","location-end":"256:43","values":[]},{"text":"child","location-start":"256:45","location-end":"256:49","values":[]}],"location-end":"256:49","text":"newData.child","location-start":"256:37","values":[]},{"text":"'owner'","location-start":"256:51","location-end":"256:57","values":[]}],"location-end":"256:58","text":"newData.child('owner')","location-start":"256:37","values":[]},{"text":"val","location-start":"256:60","location-end":"256:62","values":[]}],"location-end":"256:62","text":"newData.child('owner').val","location-start":"256:37","values":[]}],"location-end":"256:64","text":"newData.child('owner').val()","location-start":"256:37","values":[]},{"children":[{"text":"auth","location-start":"256:69","location-end":"256:72","values":[]},{"text":"uid","location-start":"256:74","location-end":"256:76","values":[]}],"location-end":"256:76","text":"auth.uid","location-start":"256:69","values":[]}],"location-end":"256:76","text":"newData.child('owner').val() == auth.uid","location-start":"256:37","values":[]}],"location-end":"256:76","text":"auth != null && newData.child('owner').val() == auth.uid","location-start":"256:21","values":[]},".read":{"text":"false","location-start":"255:19","location-end":"255:23","values":[]}}}},"userRecommendations":{"$userKey":{".write":{"text":"false","location-start":"423:18","location-end":"423:22","values":[{"value":false,"count":3}]},".read":{"children":[{"children":[{"text":"auth","location-start":"422:18","location-end":"422:21","values":[{"value":"hash@465802680","count":1}]},{"text":"null","location-start":"422:26","location-end":"422:29","values":[{"value":null,"count":1}]}],"location-end":"422:29","text":"auth != null","location-start":"422:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"text":"auth","location-start":"422:34","location-end":"422:37","values":[{"value":"hash@465802680","count":1}]},{"text":"uid","location-start":"422:39","location-end":"422:41","values":[{"value":"uid","count":1}]}],"location-end":"422:41","text":"auth.uid","location-start":"422:34","values":[{"value":"alice","count":1}]},{"text":"$userKey","location-start":"422:46","location-end":"422:53","values":[{"value":"someNode","count":1}]}],"location-end":"422:53","text":"auth.uid == $userKey","location-start":"422:34","values":[{"value":false,"count":1}]}],"location-end":"422:53","text":"auth != null && auth.uid == $userKey","location-start":"422:18","values":[{"value":false,"count":1}]}}},"cohortRecalculateQueue":{"$cohortKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"86:19","location-end":"86:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@842446500","count":1}]},{"text":"null","location-start":"86:27","location-end":"86:30","values":[{"value":null,"count":2}]}],"location-end":"86:30","text":"auth != null","location-start":"86:19","values":[{"value":false,"count":1},{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"86:35","location-end":"86:38","values":[{"value":"hash@733261220","count":1}]},{"text":"child","location-start":"86:40","location-end":"86:44","values":[{"value":"child","count":1}]}],"location-end":"86:44","text":"root.child","location-start":"86:35","values":[{"value":"hash@1521962845","count":1}]},{"children":[{"text":"'/cohorts/'","location-start":"86:46","location-end":"86:56","values":[{"value":"/cohorts/","count":1}]},{"text":"$cohortKey","location-start":"86:60","location-end":"86:69","values":[{"value":"someRandomChildNode","count":1}]}],"location-end":"86:69","text":"'/cohorts/' + $cohortKey","location-start":"86:46","values":[{"value":"/cohorts/someRandomChildNode","count":1}]}],"location-end":"86:70","text":"root.child('/cohorts/' + $cohortKey)","location-start":"86:35","values":[{"value":"hash@877378730","count":1}]},{"text":"exists","location-start":"86:72","location-end":"86:77","values":[{"value":"exists","count":1}]}],"location-end":"86:77","text":"root.child('/cohorts/' + $cohortKey).exists","location-start":"86:35","values":[{"value":"hash@1263098206","count":1}]}],"location-end":"86:79","text":"root.child('/cohorts/' + $cohortKey).exists()","location-start":"86:35","values":[{"value":false,"count":1}]}],"location-end":"86:79","text":"auth != null && root.child('/cohorts/' + $cohortKey).exists()","location-start":"86:19","values":[{"value":false,"count":2}]},".read":{"children":[{"text":"auth","location-start":"85:18","location-end":"85:21","values":[{"value":"hash@1438681402","count":1}]},{"text":"null","location-start":"85:26","location-end":"85:29","values":[{"value":null,"count":1}]}],"location-end":"85:29","text":"auth != null","location-start":"85:18","values":[{"value":true,"count":1}]}}},"coursePasswords":{"$courseKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"158:19","location-end":"158:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@550385163","count":1}]},{"text":"null","location-start":"158:27","location-end":"158:30","values":[{"value":null,"count":2}]}],"location-end":"158:30","text":"auth != null","location-start":"158:19","values":[{"value":false,"count":1},{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"159:11","location-end":"159:14","values":[{"value":"hash@733261220","count":1}]},{"text":"child","location-start":"159:16","location-end":"159:20","values":[{"value":"child","count":1}]}],"location-end":"159:20","text":"root.child","location-start":"159:11","values":[{"value":"hash@1890533441","count":1}]},{"children":[{"text":"'courses/'","location-start":"159:22","location-end":"159:31","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"159:35","location-end":"159:44","values":[{"value":"alice","count":1}]}],"location-end":"159:44","text":"'courses/' + $courseKey","location-start":"159:22","values":[{"value":"courses/alice","count":1}]}],"location-end":"159:45","text":"root.child('courses/' + $courseKey)","location-start":"159:11","values":[{"value":"hash@261767944","count":1}]},{"text":"exists","location-start":"159:47","location-end":"159:52","values":[{"value":"exists","count":1}]}],"location-end":"159:52","text":"root.child('courses/' + $courseKey).exists","location-start":"159:11","values":[{"value":"hash@1281602991","count":1}]}],"location-end":"159:54","text":"root.child('courses/' + $courseKey).exists()","location-start":"159:11","values":[{"value":false,"count":1}]}],"location-end":"159:54","text":"!root.child('courses/' + $courseKey).exists()","location-start":"159:10","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"160:10","location-end":"160:13","values":[]},{"text":"child","location-start":"160:15","location-end":"160:19","values":[]}],"location-end":"160:19","text":"root.child","location-start":"160:10","values":[]},{"children":[{"text":"'courses/'","location-start":"160:21","location-end":"160:30","values":[]},{"text":"$courseKey","location-start":"160:34","location-end":"160:43","values":[]}],"location-end":"160:43","text":"'courses/' + $courseKey","location-start":"160:21","values":[]}],"location-end":"160:44","text":"root.child('courses/' + $courseKey)","location-start":"160:10","values":[]},{"text":"exists","location-start":"160:46","location-end":"160:51","values":[]}],"location-end":"160:51","text":"root.child('courses/' + $courseKey).exists","location-start":"160:10","values":[]}],"location-end":"160:53","text":"root.child('courses/' + $courseKey).exists()","location-start":"160:10","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"161:10","location-end":"161:13","values":[]},{"text":"child","location-start":"161:15","location-end":"161:19","values":[]}],"location-end":"161:19","text":"root.child","location-start":"161:10","values":[]},{"children":[{"children":[{"text":"'courses/'","location-start":"161:21","location-end":"161:30","values":[]},{"text":"$courseKey","location-start":"161:34","location-end":"161:43","values":[]}],"location-end":"161:43","text":"'courses/' + $courseKey","location-start":"161:21","values":[]},{"text":"'/owner'","location-start":"161:47","location-end":"161:54","values":[]}],"location-end":"161:54","text":"'courses/' + $courseKey + '/owner'","location-start":"161:21","values":[]}],"location-end":"161:55","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"161:10","values":[]},{"text":"val","location-start":"161:57","location-end":"161:59","values":[]}],"location-end":"161:59","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"161:10","values":[]}],"location-end":"161:61","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"161:10","values":[]},{"children":[{"text":"auth","location-start":"161:66","location-end":"161:69","values":[]},{"text":"uid","location-start":"161:71","location-end":"161:73","values":[]}],"location-end":"161:73","text":"auth.uid","location-start":"161:66","values":[]}],"location-end":"161:73","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"161:10","values":[]}],"location-end":"161:73","text":"root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"160:10","values":[]}],"location-end":"161:73","text":"!root.child('courses/' + $courseKey).exists() ||\n          root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"159:10","values":[{"value":true,"count":1}]}],"location-end":"161:74","text":"auth != null && (\n          !root.child('courses/' + $courseKey).exists() ||\n          root.child('courses/' + $courseKey).exists() &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid)","location-start":"158:19","values":[{"value":false,"count":1},{"value":true,"count":1}]},".read":{"children":[{"children":[{"text":"auth","location-start":"156:18","location-end":"156:21","values":[{"value":"hash@2099553327","count":1}]},{"text":"null","location-start":"156:26","location-end":"156:29","values":[{"value":null,"count":1}]}],"location-end":"156:29","text":"auth != null","location-start":"156:18","values":[{"value":true,"count":1}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"root","location-start":"157:10","location-end":"157:13","values":[{"value":"hash@1572134654","count":1}]},{"text":"child","location-start":"157:15","location-end":"157:19","values":[{"value":"child","count":1}]}],"location-end":"157:19","text":"root.child","location-start":"157:10","values":[{"value":"hash@1188148168","count":1}]},{"children":[{"children":[{"text":"'courses/'","location-start":"157:21","location-end":"157:30","values":[{"value":"courses/","count":1}]},{"text":"$courseKey","location-start":"157:34","location-end":"157:43","values":[{"value":"someNode","count":1}]}],"location-end":"157:43","text":"'courses/' + $courseKey","location-start":"157:21","values":[{"value":"courses/someNode","count":1}]},{"text":"'/owner'","location-start":"157:47","location-end":"157:54","values":[{"value":"/owner","count":1}]}],"location-end":"157:54","text":"'courses/' + $courseKey + '/owner'","location-start":"157:21","values":[{"value":"courses/someNode/owner","count":1}]}],"location-end":"157:55","text":"root.child('courses/' + $courseKey + '/owner')","location-start":"157:10","values":[{"value":"hash@301422831","count":1}]},{"text":"val","location-start":"157:57","location-end":"157:59","values":[{"value":"val","count":1}]}],"location-end":"157:59","text":"root.child('courses/' + $courseKey + '/owner').val","location-start":"157:10","values":[{"value":"hash@2064710293","count":1}]}],"location-end":"157:61","text":"root.child('courses/' + $courseKey + '/owner').val()","location-start":"157:10","values":[{"value":null,"count":1}]},{"children":[{"text":"auth","location-start":"157:66","location-end":"157:69","values":[{"value":"hash@2099553327","count":1}]},{"text":"uid","location-start":"157:71","location-end":"157:73","values":[{"value":"uid","count":1}]}],"location-end":"157:73","text":"auth.uid","location-start":"157:66","values":[{"value":"alice","count":1}]}],"location-end":"157:73","text":"root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"157:10","values":[{"value":false,"count":1}]}],"location-end":"157:73","text":"auth != null &&\n          root.child('courses/' + $courseKey + '/owner').val() == auth.uid","location-start":"156:18","values":[{"value":false,"count":1}]}}},"pathProblems":{".read":{"children":[{"text":"auth","location-start":"284:16","location-end":"284:19","values":[]},{"text":"null","location-start":"284:24","location-end":"284:27","values":[]}],"location-end":"284:27","text":"auth != null","location-start":"284:16","values":[]},"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"286:19","location-end":"286:22","values":[]},{"text":"null","location-start":"286:27","location-end":"286:30","values":[]}],"location-end":"286:30","text":"auth != null","location-start":"286:19","values":[]},{"children":[{"children":[{"children":[{"text":"auth","location-start":"286:35","location-end":"286:38","values":[]},{"text":"uid","location-start":"286:40","location-end":"286:42","values":[]}],"location-end":"286:42","text":"auth.uid","location-start":"286:35","values":[]},{"text":"$userKey","location-start":"286:47","location-end":"286:54","values":[]}],"location-end":"286:54","text":"auth.uid == $userKey","location-start":"286:35","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"286:60","location-end":"286:66","values":[]},{"text":"child","location-start":"286:68","location-end":"286:72","values":[]}],"location-end":"286:72","text":"newData.child","location-start":"286:60","values":[]},{"text":"'path'","location-start":"286:74","location-end":"286:79","values":[]}],"location-end":"286:80","text":"newData.child('path')","location-start":"286:60","values":[]},{"text":"exists","location-start":"286:82","location-end":"286:87","values":[]}],"location-end":"286:87","text":"newData.child('path').exists","location-start":"286:60","values":[]}],"location-end":"286:89","text":"newData.child('path').exists()","location-start":"286:60","values":[]}],"location-end":"286:89","text":"!newData.child('path').exists()","location-start":"286:59","values":[]}],"location-end":"286:89","text":"auth.uid == $userKey && !newData.child('path').exists()","location-start":"286:35","values":[]}],"location-end":"286:89","text":"auth != null && auth.uid == $userKey && !newData.child('path').exists()","location-start":"286:19","values":[]}}},"destinations":{".read":{"children":[{"text":"auth","location-start":"195:17","location-end":"195:20","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1627602727","count":1}]},{"text":"null","location-start":"195:25","location-end":"195:28","values":[{"value":null,"count":2}]}],"location-end":"195:28","text":"auth != null","location-start":"195:17","values":[{"value":false,"count":1},{"value":true,"count":1}]},"$destinationKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"199:12","location-end":"199:15","values":[{"value":"hash@1788853110","count":1},{"value":"hash@971001789","count":1},{"value":"hash@165096675","count":1}]},{"text":"null","location-start":"199:20","location-end":"199:23","values":[{"value":null,"count":3}]}],"location-end":"199:23","text":"auth != null","location-start":"199:12","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"202:16","location-end":"202:22","values":[{"value":"hash@655919948","count":1},{"value":"hash@985634755","count":1}]},{"text":"exists","location-start":"202:24","location-end":"202:29","values":[{"value":"exists","count":2}]}],"location-end":"202:29","text":"newData.exists","location-start":"202:16","values":[{"value":"hash@1812839308","count":1},{"value":"hash@212437217","count":1}]}],"location-end":"202:31","text":"newData.exists()","location-start":"202:16","values":[{"value":true,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"203:16","location-end":"203:22","values":[{"value":"hash@655919948","count":1},{"value":"hash@985634755","count":1}]},{"text":"child","location-start":"203:24","location-end":"203:28","values":[{"value":"child","count":2}]}],"location-end":"203:28","text":"newData.child","location-start":"203:16","values":[{"value":"hash@206091043","count":1},{"value":"hash@1232736929","count":1}]},{"text":"'originator'","location-start":"203:30","location-end":"203:41","values":[{"value":"originator","count":2}]}],"location-end":"203:42","text":"newData.child('originator')","location-start":"203:16","values":[{"value":"hash@938383536","count":1},{"value":"hash@2046467929","count":1}]},{"text":"exists","location-start":"203:44","location-end":"203:49","values":[{"value":"exists","count":2}]}],"location-end":"203:49","text":"newData.child('originator').exists","location-start":"203:16","values":[{"value":"hash@1422862314","count":1},{"value":"hash@1069358634","count":1}]}],"location-end":"203:51","text":"newData.child('originator').exists()","location-start":"203:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"newData","location-start":"204:16","location-end":"204:22","values":[]},{"text":"child","location-start":"204:24","location-end":"204:28","values":[]}],"location-end":"204:28","text":"newData.child","location-start":"204:16","values":[]},{"text":"'originator'","location-start":"204:30","location-end":"204:41","values":[]}],"location-end":"204:42","text":"newData.child('originator')","location-start":"204:16","values":[]},{"text":"val","location-start":"204:44","location-end":"204:46","values":[]}],"location-end":"204:46","text":"newData.child('originator').val","location-start":"204:16","values":[]}],"location-end":"204:48","text":"newData.child('originator').val()","location-start":"204:16","values":[]},{"children":[{"text":"auth","location-start":"204:53","location-end":"204:56","values":[]},{"text":"uid","location-start":"204:58","location-end":"204:60","values":[]}],"location-end":"204:60","text":"auth.uid","location-start":"204:53","values":[]}],"location-end":"204:60","text":"newData.child('originator').val() == auth.uid","location-start":"204:16","values":[]},{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"206:19","location-end":"206:22","values":[]},{"text":"exists","location-start":"206:24","location-end":"206:29","values":[]}],"location-end":"206:29","text":"data.exists","location-start":"206:19","values":[]}],"location-end":"206:31","text":"data.exists()","location-start":"206:19","values":[]}],"location-end":"206:31","text":"!data.exists()","location-start":"206:18","values":[]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"207:20","location-end":"207:23","values":[]},{"text":"child","location-start":"207:25","location-end":"207:29","values":[]}],"location-end":"207:29","text":"data.child","location-start":"207:20","values":[]},{"text":"'originator'","location-start":"207:31","location-end":"207:42","values":[]}],"location-end":"207:43","text":"data.child('originator')","location-start":"207:20","values":[]},{"text":"val","location-start":"207:45","location-end":"207:47","values":[]}],"location-end":"207:47","text":"data.child('originator').val","location-start":"207:20","values":[]}],"location-end":"207:49","text":"data.child('originator').val()","location-start":"207:20","values":[]},{"children":[{"text":"auth","location-start":"207:54","location-end":"207:57","values":[]},{"text":"uid","location-start":"207:59","location-end":"207:61","values":[]}],"location-end":"207:61","text":"auth.uid","location-start":"207:54","values":[]}],"location-end":"207:61","text":"data.child('originator').val() == auth.uid","location-start":"207:20","values":[]}],"location-end":"207:62","text":"!data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)","location-start":"206:18","values":[]}],"location-end":"208:16","text":"newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )","location-start":"204:16","values":[]}],"location-end":"208:16","text":"newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )","location-start":"203:16","values":[{"value":false,"count":2}]}],"location-end":"208:16","text":"newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )","location-start":"202:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"text":"data","location-start":"210:16","location-end":"210:19","values":[{"value":"hash@-2053108356","count":1},{"value":"hash@-1981961824","count":1}]},{"text":"exists","location-start":"210:21","location-end":"210:26","values":[{"value":"exists","count":2}]}],"location-end":"210:26","text":"data.exists","location-start":"210:16","values":[{"value":"hash@1428109092","count":1},{"value":"hash@2140370876","count":1}]}],"location-end":"210:28","text":"data.exists()","location-start":"210:16","values":[{"value":false,"count":2}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"data","location-start":"210:33","location-end":"210:36","values":[]},{"text":"child","location-start":"210:38","location-end":"210:42","values":[]}],"location-end":"210:42","text":"data.child","location-start":"210:33","values":[]},{"text":"'originator'","location-start":"210:44","location-end":"210:55","values":[]}],"location-end":"210:56","text":"data.child('originator')","location-start":"210:33","values":[]},{"text":"val","location-start":"210:58","location-end":"210:60","values":[]}],"location-end":"210:60","text":"data.child('originator').val","location-start":"210:33","values":[]}],"location-end":"210:62","text":"data.child('originator').val()","location-start":"210:33","values":[]},{"children":[{"text":"auth","location-start":"210:67","location-end":"210:70","values":[]},{"text":"uid","location-start":"210:72","location-end":"210:74","values":[]}],"location-end":"210:74","text":"auth.uid","location-start":"210:67","values":[]}],"location-end":"210:74","text":"data.child('originator').val() == auth.uid","location-start":"210:33","values":[]}],"location-end":"210:74","text":"data.exists() && data.child('originator').val() == auth.uid","location-start":"210:16","values":[{"value":false,"count":2}]}],"location-end":"211:14","text":"newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )\n              ) || (\n                data.exists() && data.child('originator').val() == auth.uid\n              )","location-start":"202:16","values":[{"value":false,"count":2}]}],"location-end":"212:12","text":"auth != null &&\n            (\n              (\n                newData.exists() &&\n                newData.child('originator').exists() &&\n                newData.child('originator').val() == auth.uid &&\n                (\n                  !data.exists()  ||\n                  ( data.child('originator').val() == auth.uid)\n                )\n              ) || (\n                data.exists() && data.child('originator').val() == auth.uid\n              )\n            )","location-start":"199:12","values":[{"value":false,"count":3}]},".read":{"children":[{"text":"auth","location-start":"197:19","location-end":"197:22","values":[]},{"text":"null","location-start":"197:27","location-end":"197:30","values":[]}],"location-end":"197:30","text":"auth != null","location-start":"197:19","values":[]}}},"completedActivities":{"$userKey":{".write":{"children":[{"children":[{"text":"auth","location-start":"122:19","location-end":"122:22","values":[{"value":"hash@1788853110","count":1},{"value":"hash@1631294770","count":1},{"value":"hash@596045215","count":1}]},{"text":"null","location-start":"122:27","location-end":"122:30","values":[{"value":null,"count":3}]}],"location-end":"122:30","text":"auth != null","location-start":"122:19","values":[{"value":false,"count":1},{"value":true,"count":2}]},{"children":[{"text":"$userKey","location-start":"122:35","location-end":"122:42","values":[{"value":"someRandomChildNode","count":1},{"value":"alice","count":1}]},{"children":[{"text":"auth","location-start":"122:47","location-end":"122:50","values":[{"value":"hash@1631294770","count":1},{"value":"hash@596045215","count":1}]},{"text":"uid","location-start":"122:52","location-end":"122:54","values":[{"value":"uid","count":2}]}],"location-end":"122:54","text":"auth.uid","location-start":"122:47","values":[{"value":"alice","count":2}]}],"location-end":"122:54","text":"$userKey == auth.uid","location-start":"122:35","values":[{"value":false,"count":1},{"value":true,"count":1}]}],"location-end":"122:54","text":"auth != null && $userKey == auth.uid","location-start":"122:19","values":[{"value":false,"count":2},{"value":true,"count":1}]},".read":{"text":"true","location-start":"121:17","location-end":"121:20","values":[{"value":true,"count":2}]}}},"blacklistActions":{".write":{"text":"false","location-start":"68:16","location-end":"68:20","values":[]},".read":{"text":"true","location-start":"67:15","location-end":"67:18","values":[]}}}}

const REPORT_LIMIT_SIZE = 15

window.onload = function() {
  document.body.appendChild(buildFormattedReport(data.report, data.rules))
};

/**
 * Builds the html block with span elements for rule visualization.
 *
 * @param ruleBlock The report data with properly formatted expression blocks embedded.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @return A <pre> html element with <span></span> around expressions and subexpressions within
 *     .write, .read, and .validate tokens so that they can be selected.
 */
function buildFormattedReport(ruleBlock, fullRuleString) {
  const cumulativeLineCounts = calculateCumulativeLineCounts(data.rules)
  const elements = mapRuleBlock(ruleBlock, cumulativeLineCounts, fullRuleString)
  const withText = interpolateTextNodes(
    elements,
    fullRuleString,
    0,
    fullRuleString.length
  )
  var preElement = document.createElement('pre')
  withText.forEach((element) => preElement.appendChild(element.element))
  return preElement
}

/**
 * Traverses a rule block.
 *
 * A rule block is basically any json scope in the actual rules. The report data mirrors the
 * structure found in the raw rules but also adds more blocks in place of expressions
 * (.read, .write, .validate). When one of these keywords are encountered a different map function
 * is called.
 *
 * @param ruleBlock The current recursive chunk of rule data.
 * @param cumulativeLineCounts The line-count mapping used to convert rr:cc to a single index.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @return A list of objects with at least the keys location-start, location-end, and element where
 *    locations are in rr:cc format and element is an HTML element (text or span).
 */
function mapRuleBlock(ruleBlock, cumulativeLineCounts, fullRuleString) {
  return Object.keys(ruleBlock).map((key) => {
    if (['.write', '.read', '.validate'].indexOf(key) >= 0) {
      // Make array so we can flatten it with other returned values
      return [mapExpressionBlock(ruleBlock[key], cumulativeLineCounts, fullRuleString)]
    } else {
      return mapRuleBlock(ruleBlock[key], cumulativeLineCounts, fullRuleString)
    }
  }).reduce((acc, val) => acc.concat(val), [])
}

/**
 * Traverses an expression block.
 *
 * In the actual rules, an expression is a string following the .read, .write, .validate keywords.
 * The report data formats this as a json tree with subexpressions as children. These blocks
 * have to be handled seperately from rule blocks. Specifically, each expression needs to be wrapped
 * in a span and so it's children need to be immediately resolved so they can be added to the
 * element.
 *
 * @param expressionBlock The current recursive chunk of expression data.
 * @param cumulativeLineCounts The line-count mapping used to convert rr:cc to a single index.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @return A single object with at least the keys start, end, and element where
 *    locations are in rr:cc format and element is the span element for that [sub]expression. The
 *    span element should have all it's children already added.
 */
function mapExpressionBlock(expressionBlock, cumulativeLineCounts, fullRuleString) {
  const start = calculateCanonicalIndex(expressionBlock['location-start'], cumulativeLineCounts)
  const end = calculateCanonicalIndex(expressionBlock['location-end'], cumulativeLineCounts) + 1
  const onlyChildSpans = (expressionBlock.children || []).map(
    (child) => mapExpressionBlock(child, cumulativeLineCounts, fullRuleString)
  )
  const allChildren = interpolateTextNodes(
    onlyChildSpans,
    fullRuleString,
    start,
    end,
    true
  )
  var span = document.createElement('span')
  allChildren.forEach((child) => {
    span.appendChild(child.element)
  })
  span.classList.add('coverage-expr')
  span.title = buildValueString(expressionBlock.values);
  return {
    element: span,
    start: start,
    end: end
  }
}

/**
 * The formatted report data has information about where subexpression are located. It does not,
 * however, have information about text around these expressions. This function takes a formatted
 * list of spans (representing expressions) and puts surrounding text into text elements and
 * returns the list of all elements in that given text-area.
 *
 * @param objs the list of spans to have their bounds interpolated. Each element in the list should
 *    formatted with the keys start, end, and element.
 * @param cumulativeLineCounts The line-count mapping used to convert rr:cc to a single index.
 * @param fullRuleString The full text of the rules with newlines and special characters escaped.
 * @param optStart An optional start index (rr:cc) to start gathering text-elements from.
 * @param optEnd An optional end index (rr:cc) to finish gathering text-elements at.
 * @param whether to remove newlines from the text values.
 * @return An interpolated list with all indices from start to end of the fullRuleString being
 *    included in either a span or a text element.
 */
function interpolateTextNodes(objs, fullRuleString, start = null, end = null, removeNewLines = false) {
  // Arrays so null objects aren't appended (options)
  const expressionStart = start !== null ? [{'end': start}] : []
  const expressionEnd = end !== null ? [{'start': end}] : []
  const sortedInnerBlocks = (objs || []).sort((a, b) => (a['start'] - b['start']))
  const blocksWithBounds = [].concat(expressionStart, sortedInnerBlocks, expressionEnd)
  const interpolatedBlocks = blocksWithBounds.reduce((allChildren, child, idx) => {
    if (allChildren && allChildren.length) {
      const lastEnd = allChildren[allChildren.length - 1]['end']
      const thisStart = child['start']
      // This is an array so that we don't append null objects
      if (lastEnd < thisStart) {
        const text = fullRuleString.substring(lastEnd, thisStart)
        const textElement = [{
          element: document.createTextNode(removeNewLines ? text.replace(/\n\s*/g,' ') : text),
          'start': allChildren[allChildren.length - 1]['end'],
          'end': child['start']
        }]
        return allChildren.concat(textElement, child)
      }
    }
    return allChildren.concat(child)
  }, [])
  return interpolatedBlocks.filter(
    (child) => child['start'] !== undefined && child['end'] !== undefined
  )
}

/**
 * Builds an array where each index maps to the sum of all characters before that row in the string.
 * Rows are determined by newline.
 *
 * @param inputString The string to build the index for.
 * @return A list of cumulative row counts.
 */
function calculateCumulativeLineCounts(inputString) {
  // Add 1 at the end to account for lost \n from split.
  const accumulate = (acc, val) => acc.concat(val + (acc[acc.length - 1] || 0) + 1)
  // The first line has 0 characters before it.
  return inputString.split('\n').map((line) => line.length).reduce(accumulate, [0])
}

/**
 * Converts rr:cc to a single index on the full rule string.
 *
 * @param index The index formatted as rr:cc.
 * @param cumulativeLineCounts The helper data structure calculated in the previous method.
 * @return The canonical string index matching the rr:cc value.
 */
function calculateCanonicalIndex(index, cumulativeLineCounts) {
  if (typeof index !== 'string' || index.indexOf(':') <= 0) return null
  const lineNumber = parseInt(index.split(':')[0])
  const columnNumber = parseInt(index.split(':')[1])
  // column/rows are zero-indexed.
  return cumulativeLineCounts[lineNumber] + columnNumber
}

/**
 * Creates the mouse-over text for each span.
 *
 * @param values The array of value objects formatted as {value: **, count: **}.
 * @return A single string for the mouse-over text.
 */
function buildValueString(values) {
  if (values.length >= REPORT_LIMIT_SIZE) {
    const allCounts = values.reduce((acc, obj) => acc + obj.count, 0)
    return `${values.length} distinct items returned over ${allCounts} times`
  } else {
    return values.map(({value, count}) => {
      if (typeof value === 'string' && value.startsWith('hash')) {
        return `[object Object] returned ${count} time(s)`
      } else {
        return `Value '${value}' returned ${count} time(s)`
      }
    }).join('\n')
  }
}

</script>
<style>
  span[title=""] {
    background-color: yellow;
  }
  
.coverage-expr {
  padding-bottom: 4px;
  display: inline-block;
  border-bottom: 3px solid black;
  vertical-align: top;
}
.coverage-expr:hover {
  background-color: rgba(255, 100, 100, 0.2);
  cursor: default;
  border-bottom: 3px solid red;
}
</style>
